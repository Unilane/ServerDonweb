<?xml version="1.0"?>
<!--
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */
-->
<schema xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="urn:magento:framework:Setup/Declaration/Schema/etc/schema.xsd">
    <table name="ves_vendor_entity" resource="default" engine="innodb" comment="Vendor Entity">
        <column xsi:type="int" name="entity_id" unsigned="true" nullable="false" identity="true"
                comment="Entity ID"/>
        <column xsi:type="smallint" name="website_id" unsigned="true" nullable="true" identity="false"
                comment="Website ID"/>
        <column xsi:type="varchar" name="increment_id" nullable="true" length="50" comment="Increment ID"/>
        <column xsi:type="varchar" name="vendor_id" nullable="false" length="255" comment="Vendor ID"/>
        <column xsi:type="timestamp" name="created_at" on_update="false" nullable="false" default="CURRENT_TIMESTAMP"
                comment="Created At"/>
        <column xsi:type="timestamp" name="updated_at" on_update="true" nullable="false" default="CURRENT_TIMESTAMP"
                comment="Updated At"/>
        <column xsi:type="smallint" name="group_id" unsigned="true" nullable="false" identity="false"
                default="0" comment="Group ID"/>
        <column xsi:type="smallint" name="status" unsigned="true" nullable="false" identity="false"
                default="1" comment="Status"/>
        <column xsi:type="varchar" name="city" nullable="false" length="255" comment="City"/>
        <column xsi:type="varchar" name="company" nullable="false" length="255" comment="Company"/>
        <column xsi:type="varchar" name="country_id" nullable="false" length="255" comment="Country Id"/>
        <column xsi:type="varchar" name="fax" nullable="true" length="255" comment="Fax"/>
        <column xsi:type="varchar" name="postcode" nullable="true" length="255" comment="Postcode"/>
        <column xsi:type="varchar" name="region" nullable="true" length="255" comment="Region"/>
        <column xsi:type="int" name="region_id" unsigned="true" nullable="true" identity="false"
                comment="State/Province"/>
        <column xsi:type="text" name="street" nullable="false" comment="Street Address"/>
        <column xsi:type="varchar" name="telephone" nullable="false" length="255" comment="Phone Number"/>

        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="entity_id"/>
        </constraint>
        <constraint xsi:type="foreign" referenceId="VENDOR_ENTITY_WEBSITE_ID_STORE_WEBSITE_WEBSITE_ID"
                    table="ves_vendor_entity" column="website_id" referenceTable="store_website"
                    referenceColumn="website_id" onDelete="SET NULL"/>
        <constraint xsi:type="unique" referenceId="VENDOR_ENTITY_ID_WEBSITE_ID">
            <column name="vendor_id"/>
            <column name="website_id"/>
        </constraint>
    </table>

    <table name="ves_vendor_entity_datetime" resource="default" engine="innodb" comment="Vendor Entity Datetime">
        <column xsi:type="int" name="value_id" unsigned="false" nullable="false" identity="true"
                comment="Value ID"/>
        <column xsi:type="smallint" name="attribute_id" unsigned="true" nullable="false" identity="false"
                default="0" comment="Attribute ID"/>
        <column xsi:type="int" name="entity_id" unsigned="true" nullable="false" identity="false"
                default="0" comment="Entity ID"/>
        <column xsi:type="datetime" name="value" on_update="false" nullable="true" comment="Value"/>
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="value_id"/>
        </constraint>
        <constraint xsi:type="foreign" referenceId="VENDOR_ENTITY_DATETIME_ATTRIBUTE_ID_EAV_ATTRIBUTE_ATTRIBUTE_ID"
                    table="ves_vendor_entity_datetime" column="attribute_id" referenceTable="eav_attribute"
                    referenceColumn="attribute_id" onDelete="CASCADE"/>
        <constraint xsi:type="foreign" referenceId="VENDOR_ENTITY_DATETIME_ENTITY_ID_VENDOR_ENTITY_ENTITY_ID"
                    table="ves_vendor_entity_datetime" column="entity_id" referenceTable="ves_vendor_entity"
                    referenceColumn="entity_id" onDelete="CASCADE"/>
        <constraint xsi:type="unique" referenceId="VENDOR_ENTITY_DATETIME_ENTITY_ID_ATTRIBUTE_ID">
            <column name="entity_id"/>
            <column name="attribute_id"/>
        </constraint>
        <index referenceId="VENDOR_ENTITY_DATETIME_ATTRIBUTE_ID" indexType="btree">
            <column name="attribute_id"/>
        </index>
        <index referenceId="VENDOR_ENTITY_DATETIME_ENTITY_ID_ATTRIBUTE_ID_VALUE" indexType="btree">
            <column name="entity_id"/>
            <column name="attribute_id"/>
            <column name="value"/>
        </index>
    </table>

    <table name="ves_vendor_entity_decimal" resource="default" engine="innodb" comment="Vendor Entity Decimal">
        <column xsi:type="int" name="value_id" unsigned="false" nullable="false" identity="true"
                comment="Value ID"/>
        <column xsi:type="smallint" name="attribute_id" unsigned="true" nullable="false" identity="false"
                default="0" comment="Attribute ID"/>
        <column xsi:type="int" name="entity_id" unsigned="true" nullable="false" identity="false"
                default="0" comment="Entity ID"/>
        <column xsi:type="decimal" name="value" scale="4" precision="12" unsigned="false" nullable="false" default="0"
                comment="Value"/>
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="value_id"/>
        </constraint>
        <constraint xsi:type="foreign" referenceId="VENDOR_ENTITY_DECIMAL_ATTRIBUTE_ID_EAV_ATTRIBUTE_ATTRIBUTE_ID"
                    table="ves_vendor_entity_decimal" column="attribute_id" referenceTable="eav_attribute"
                    referenceColumn="attribute_id" onDelete="CASCADE"/>
        <constraint xsi:type="foreign" referenceId="VENDOR_ENTITY_DECIMAL_ENTITY_ID_VENDOR_ENTITY_ENTITY_ID"
                    table="ves_vendor_entity_decimal" column="entity_id" referenceTable="ves_vendor_entity"
                    referenceColumn="entity_id" onDelete="CASCADE"/>
        <constraint xsi:type="unique" referenceId="VENDOR_ENTITY_DECIMAL_ENTITY_ID_ATTRIBUTE_ID">
            <column name="entity_id"/>
            <column name="attribute_id"/>
        </constraint>
        <index referenceId="VENDOR_ENTITY_DECIMAL_ATTRIBUTE_ID" indexType="btree">
            <column name="attribute_id"/>
        </index>
        <index referenceId="VENDOR_ENTITY_DECIMAL_ENTITY_ID_ATTRIBUTE_ID_VALUE" indexType="btree">
            <column name="entity_id"/>
            <column name="attribute_id"/>
            <column name="value"/>
        </index>
    </table>

    <table name="ves_vendor_entity_int" resource="default" engine="innodb" comment="Vendor Entity Int">
        <column xsi:type="int" name="value_id" unsigned="false" nullable="false" identity="true"
                comment="Value ID"/>
        <column xsi:type="smallint" name="attribute_id" unsigned="true" nullable="false" identity="false"
                default="0" comment="Attribute ID"/>
        <column xsi:type="int" name="entity_id" unsigned="true" nullable="false" identity="false"
                default="0" comment="Entity ID"/>
        <column xsi:type="int" name="value" unsigned="false" nullable="false" identity="false" default="0"
                comment="Value"/>
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="value_id"/>
        </constraint>
        <constraint xsi:type="foreign" referenceId="VENDOR_ENTITY_INT_ATTRIBUTE_ID_EAV_ATTRIBUTE_ATTRIBUTE_ID"
                    table="ves_vendor_entity_int" column="attribute_id" referenceTable="eav_attribute"
                    referenceColumn="attribute_id" onDelete="CASCADE"/>
        <constraint xsi:type="foreign" referenceId="VENDOR_ENTITY_INT_ENTITY_ID_VENDOR_ENTITY_ENTITY_ID"
                    table="ves_vendor_entity_int" column="entity_id" referenceTable="ves_vendor_entity"
                    referenceColumn="entity_id" onDelete="CASCADE"/>
        <constraint xsi:type="unique" referenceId="VENDOR_ENTITY_INT_ENTITY_ID_ATTRIBUTE_ID">
            <column name="entity_id"/>
            <column name="attribute_id"/>
        </constraint>
        <index referenceId="VENDOR_ENTITY_INT_ATTRIBUTE_ID" indexType="btree">
            <column name="attribute_id"/>
        </index>
        <index referenceId="VENDOR_ENTITY_INT_ENTITY_ID_ATTRIBUTE_ID_VALUE" indexType="btree">
            <column name="entity_id"/>
            <column name="attribute_id"/>
            <column name="value"/>
        </index>
    </table>

    <table name="ves_vendor_entity_text" resource="default" engine="innodb" comment="Vendor Entity Text">
        <column xsi:type="int" name="value_id" unsigned="false" nullable="false" identity="true"
                comment="Value ID"/>
        <column xsi:type="smallint" name="attribute_id" unsigned="true" nullable="false" identity="false"
                default="0" comment="Attribute ID"/>
        <column xsi:type="int" name="entity_id" unsigned="true" nullable="false" identity="false"
                default="0" comment="Entity ID"/>
        <column xsi:type="text" name="value" nullable="false" comment="Value"/>
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="value_id"/>
        </constraint>
        <constraint xsi:type="foreign" referenceId="VENDOR_ENTITY_TEXT_ATTRIBUTE_ID_EAV_ATTRIBUTE_ATTRIBUTE_ID"
                    table="ves_vendor_entity_text" column="attribute_id" referenceTable="eav_attribute"
                    referenceColumn="attribute_id" onDelete="CASCADE"/>
        <constraint xsi:type="foreign" referenceId="VENDOR_ENTITY_TEXT_ENTITY_ID_VENDOR_ENTITY_ENTITY_ID"
                    table="ves_vendor_entity_text" column="entity_id" referenceTable="ves_vendor_entity"
                    referenceColumn="entity_id" onDelete="CASCADE"/>
        <constraint xsi:type="unique" referenceId="VENDOR_ENTITY_TEXT_ENTITY_ID_ATTRIBUTE_ID">
            <column name="entity_id"/>
            <column name="attribute_id"/>
        </constraint>
        <index referenceId="VENDOR_ENTITY_TEXT_ATTRIBUTE_ID" indexType="btree">
            <column name="attribute_id"/>
        </index>
    </table>

    <table name="ves_vendor_entity_varchar" resource="default" engine="innodb" comment="Vendor Entity Varchar">
        <column xsi:type="int" name="value_id" unsigned="false" nullable="false" identity="true"
                comment="Value ID"/>
        <column xsi:type="smallint" name="attribute_id" unsigned="true" nullable="false" identity="false"
                default="0" comment="Attribute ID"/>
        <column xsi:type="int" name="entity_id" unsigned="true" nullable="false" identity="false"
                default="0" comment="Entity ID"/>
        <column xsi:type="varchar" name="value" nullable="true" length="255" comment="Value"/>
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="value_id"/>
        </constraint>
        <constraint xsi:type="foreign" referenceId="VENDOR_ENTITY_VARCHAR_ATTRIBUTE_ID_EAV_ATTRIBUTE_ATTRIBUTE_ID"
                    table="ves_vendor_entity_varchar" column="attribute_id" referenceTable="eav_attribute"
                    referenceColumn="attribute_id" onDelete="CASCADE"/>
        <constraint xsi:type="foreign" referenceId="VENDOR_ENTITY_VARCHAR_ENTITY_ID_VENDOR_ENTITY_ENTITY_ID"
                    table="ves_vendor_entity_varchar" column="entity_id" referenceTable="ves_vendor_entity"
                    referenceColumn="entity_id" onDelete="CASCADE"/>
        <constraint xsi:type="unique" referenceId="VENDOR_ENTITY_VARCHAR_ENTITY_ID_ATTRIBUTE_ID">
            <column name="entity_id"/>
            <column name="attribute_id"/>
        </constraint>
        <index referenceId="VENDOR_ENTITY_VARCHAR_ATTRIBUTE_ID" indexType="btree">
            <column name="attribute_id"/>
        </index>
        <index referenceId="VENDOR_ENTITY_VARCHAR_ENTITY_ID_ATTRIBUTE_ID_VALUE" indexType="btree">
            <column name="entity_id"/>
            <column name="attribute_id"/>
            <column name="value"/>
        </index>
    </table>

    <table name="ves_vendor_eav_attribute" resource="default" engine="innodb" comment="Vendor Eav Attribute">
        <column xsi:type="smallint" name="attribute_id" unsigned="true" nullable="false" identity="false"
                comment="Attribute ID"/>
        <column xsi:type="smallint" name="is_visible" unsigned="true" nullable="false" identity="false"
                default="1" comment="Is Visible"/>
        <column xsi:type="varchar" name="input_filter" nullable="true" length="255" comment="Input Filter"/>
        <column xsi:type="smallint" name="multiline_count" unsigned="true" nullable="false" identity="false"
                default="1" comment="Multiline Count"/>
        <column xsi:type="text" name="validate_rules" nullable="true" comment="Validate Rules"/>
        <column xsi:type="smallint" name="is_system" unsigned="true" nullable="false" identity="false"
                default="0" comment="Is System"/>
        <column xsi:type="smallint" name="is_used_in_profile_form" unsigned="true" nullable="false"
                identity="false" default="0" comment="Is Used in Profile Form"/>
        <column xsi:type="smallint" name="is_used_in_registration_form" unsigned="true" nullable="false"
                identity="false" default="0" comment="Is Used in Registration Form"/>
        <column xsi:type="smallint" name="hide_from_vendor_panel" unsigned="true" nullable="false"
                identity="false" default="0" comment="Hide Attribute From Vendor Panel"/>
        <column xsi:type="int" name="sort_order" unsigned="true" nullable="false" identity="false"
                default="0" comment="Sort Order"/>
        <column xsi:type="varchar" name="data_model" nullable="true" length="255" comment="Data Model"/>

        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="attribute_id"/>
        </constraint>
        <constraint xsi:type="foreign" referenceId="VENDOR_EAV_ATTRIBUTE_ATTRIBUTE_ID_EAV_ATTRIBUTE_ATTRIBUTE_ID"
                    table="ves_vendor_eav_attribute" column="attribute_id" referenceTable="eav_attribute"
                    referenceColumn="attribute_id" onDelete="CASCADE"/>
        <index referenceId="VENDOR_EAV_ATTRIBUTE_SORT_ORDER" indexType="btree">
            <column name="sort_order"/>
        </index>
    </table>

    <table name="ves_vendor_user" resource="default" engine="innodb" comment="Vendor User">
        <column xsi:type="int" name="customer_id" unsigned="true" nullable="false" identity="false"
                comment="Customer ID"/>

        <column xsi:type="int" name="vendor_id" unsigned="true" nullable="false" identity="false"
                comment="Vendor ID"/>

        <column xsi:type="smallint" name="is_super_user" unsigned="true" nullable="false"
                default="0" comment="Is Super User"/>

        <constraint xsi:type="unique" referenceId="VENDOR_ENTITY_INT_UNIQUE_CUSTOMER_ID">
            <column name="customer_id"/>
            <column name="vendor_id"/>
        </constraint>

        <constraint xsi:type="foreign" referenceId="VENDOR_FOREIGN_KEY_CUSTOMER_ID"
                    table="ves_vendor_user" column="customer_id" referenceTable="customer_entity"
                    referenceColumn="entity_id" onDelete="CASCADE"/>

        <constraint xsi:type="foreign" referenceId="VENDOR_FOREIGN_KEY_VENDOR_ID"
                    table="ves_vendor_user" column="vendor_id" referenceTable="ves_vendor_entity"
                    referenceColumn="entity_id" onDelete="CASCADE"/>
    </table>

    <table name="ves_vendor_group" resource="default" engine="innodb" comment="Vendor Group">
        <column xsi:type="smallint" name="vendor_group_id" unsigned="true" nullable="false" identity="true"
                comment="Vendor Group Id"/>
        <column xsi:type="varchar" name="vendor_group_code" nullable="true" length="255" comment="Vendor Group Code"/>
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="vendor_group_id"/>
        </constraint>
    </table>

    <table name="ves_vendor_fieldset" resource="default" engine="innodb" comment="Vendor Fieldset">
        <column xsi:type="smallint" name="fieldset_id" unsigned="true" nullable="false" identity="true"
                comment="Fieldset Id"/>

        <column xsi:type="varchar" name="form" nullable="true" length="40" comment="Form"/>
        <column xsi:type="varchar" name="title" nullable="true" length="255" comment="Title"/>
        <column xsi:type="int" name="sort_order" unsigned="true" nullable="false" identity="false"
                default="0" comment="Sort Order"/>

        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="fieldset_id"/>
        </constraint>
    </table>

    <table name="ves_vendor_fieldset_attr" resource="default" engine="innodb" comment="Vendor Fieldset Attribute">
        <column xsi:type="smallint" name="id" unsigned="true" nullable="false" identity="true"
                comment="Id"/>

        <column xsi:type="smallint" name="fieldset_id" unsigned="true" nullable="false" identity="false"
                comment="Fieldset ID"/>

        <column xsi:type="int" name="attribute_id" unsigned="true" nullable="false" identity="false"
                comment="Attribute ID"/>

        <column xsi:type="int" name="sort_order" unsigned="true" nullable="false" identity="false"
                default="0" comment="Sort Order"/>

        <constraint xsi:type="foreign" referenceId="VENDOR_FOREIGN_KEY_FIELDSET_ID"
                    table="ves_vendor_fieldset_attr" column="fieldset_id" referenceTable="ves_vendor_fieldset"
                    referenceColumn="fieldset_id" onDelete="CASCADE"/>

        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="id"/>
        </constraint>
    </table>

</schema>
