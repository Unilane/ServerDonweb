define(["jquery",'Magento_Ui/js/lib/validation/validator','Magento_Ui/js/form/element/file-uploader','ko'],function($,validator,UpLoader,ko){return UpLoader.extend({defaults:{isMultipleFiles:false,template:'Vnecoms_VendorsAvatarProfile/form/upload/uploader',previewTmpl:'Vnecoms_VendorsAvatarProfile/form/upload/preview',current_avatar:false},initialize:function(){_.bindAll(this,'reset');this._super().setInitialValue()._setClasses().initSwitcher();this.loadUserProfile();return this;},loadUserProfile:function(){var self=this;$.ajax({type:'GET',url:this.profileUrl,showLoader:false,dataType:'json',context:this,success:function(response){if(response.error==undefined){self.addFile(response);}},error:function(response){return response.message;}});},removeFile:function(file){var self=this;$.ajax({type:'POST',url:this.removeUrl,showLoader:false,dataType:'json',context:this,success:function(response){if(response.error==undefined){self.value.remove(file);}},error:function(response){return response.message;}});return this;},});});