require.config({"config": {
        "jsbuild":{"jquery/ui-modules/widgets/draggable.min.js":"/*!\n * jQuery UI Draggable 1.13.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n(function(factory){\"use strict\";if(typeof define===\"function\"&&define.amd){define([\"jquery\",\"./mouse\",\"../data\",\"../plugin\",\"../safe-active-element\",\"../safe-blur\",\"../scroll-parent\",\"../version\",\"../widget\"],factory);}else{factory(jQuery);}})(function($){\"use strict\";$.widget(\"ui.draggable\",$.ui.mouse,{version:\"1.13.1\",widgetEventPrefix:\"drag\",options:{addClasses:true,appendTo:\"parent\",axis:false,connectToSortable:false,containment:false,cursor:\"auto\",cursorAt:false,grid:false,handle:false,helper:\"original\",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:\"default\",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:\"both\",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper===\"original\"){this._setPositionRelative();}\nif(this.options.addClasses){this._addClass(\"ui-draggable\");}\nthis._setHandleClassName();this._mouseInit();},_setOption:function(key,value){this._super(key,value);if(key===\"handle\"){this._removeHandleClassName();this._setHandleClassName();}},_destroy:function(){if((this.helper||this.element).is(\".ui-draggable-dragging\")){this.destroyOnClear=true;return;}\nthis._removeHandleClassName();this._mouseDestroy();},_mouseCapture:function(event){var o=this.options;if(this.helper||o.disabled||$(event.target).closest(\".ui-resizable-handle\").length>0){return false;}\nthis.handle=this._getHandle(event);if(!this.handle){return false;}\nthis._blurActiveElement(event);this._blockFrames(o.iframeFix===true?\"iframe\":o.iframeFix);return true;},_blockFrames:function(selector){this.iframeBlocks=this.document.find(selector).map(function(){var iframe=$(this);return $(\"<div>\").css(\"position\",\"absolute\").appendTo(iframe.parent()).outerWidth(iframe.outerWidth()).outerHeight(iframe.outerHeight()).offset(iframe.offset())[0];});},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks;}},_blurActiveElement:function(event){var activeElement=$.ui.safeActiveElement(this.document[0]),target=$(event.target);if(target.closest(activeElement).length){return;}\n$.ui.safeBlur(activeElement);},_mouseStart:function(event){var o=this.options;this.helper=this._createHelper(event);this._addClass(this.helper,\"ui-draggable-dragging\");this._cacheHelperProportions();if($.ui.ddmanager){$.ui.ddmanager.current=this;}\nthis._cacheMargins();this.cssPosition=this.helper.css(\"position\");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return $(this).css(\"position\")===\"fixed\";}).length>0;this.positionAbs=this.element.offset();this._refreshOffsets(event);this.originalPosition=this.position=this._generatePosition(event,false);this.originalPageX=event.pageX;this.originalPageY=event.pageY;if(o.cursorAt){this._adjustOffsetFromHelper(o.cursorAt);}\nthis._setContainment();if(this._trigger(\"start\",event)===false){this._clear();return false;}\nthis._cacheHelperProportions();if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}\nthis._mouseDrag(event,true);if($.ui.ddmanager){$.ui.ddmanager.dragStart(this,event);}\nreturn true;},_refreshOffsets:function(event){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:event.pageX-this.offset.left,top:event.pageY-this.offset.top};},_mouseDrag:function(event,noPropagation){if(this.hasFixedAncestor){this.offset.parent=this._getParentOffset();}\nthis.position=this._generatePosition(event,true);this.positionAbs=this._convertPositionTo(\"absolute\");if(!noPropagation){var ui=this._uiHash();if(this._trigger(\"drag\",event,ui)===false){this._mouseUp(new $.Event(\"mouseup\",event));return false;}\nthis.position=ui.position;}\nthis.helper[0].style.left=this.position.left+\"px\";this.helper[0].style.top=this.position.top+\"px\";if($.ui.ddmanager){$.ui.ddmanager.drag(this,event);}\nreturn false;},_mouseStop:function(event){var that=this,dropped=false;if($.ui.ddmanager&&!this.options.dropBehaviour){dropped=$.ui.ddmanager.drop(this,event);}\nif(this.dropped){dropped=this.dropped;this.dropped=false;}\nif((this.options.revert===\"invalid\"&&!dropped)||(this.options.revert===\"valid\"&&dropped)||this.options.revert===true||(typeof this.options.revert===\"function\"&&this.options.revert.call(this.element,dropped))){$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(that._trigger(\"stop\",event)!==false){that._clear();}});}else{if(this._trigger(\"stop\",event)!==false){this._clear();}}\nreturn false;},_mouseUp:function(event){this._unblockFrames();if($.ui.ddmanager){$.ui.ddmanager.dragStop(this,event);}\nif(this.handleElement.is(event.target)){this.element.trigger(\"focus\");}\nreturn $.ui.mouse.prototype._mouseUp.call(this,event);},cancel:function(){if(this.helper.is(\".ui-draggable-dragging\")){this._mouseUp(new $.Event(\"mouseup\",{target:this.element[0]}));}else{this._clear();}\nreturn this;},_getHandle:function(event){return this.options.handle?!!$(event.target).closest(this.element.find(this.options.handle)).length:true;},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,\"ui-draggable-handle\");},_removeHandleClassName:function(){this._removeClass(this.handleElement,\"ui-draggable-handle\");},_createHelper:function(event){var o=this.options,helperIsFunction=typeof o.helper===\"function\",helper=helperIsFunction?$(o.helper.apply(this.element[0],[event])):(o.helper===\"clone\"?this.element.clone().removeAttr(\"id\"):this.element);if(!helper.parents(\"body\").length){helper.appendTo((o.appendTo===\"parent\"?this.element[0].parentNode:o.appendTo));}\nif(helperIsFunction&&helper[0]===this.element[0]){this._setPositionRelative();}\nif(helper[0]!==this.element[0]&&!(/(fixed|absolute)/).test(helper.css(\"position\"))){helper.css(\"position\",\"absolute\");}\nreturn helper;},_setPositionRelative:function(){if(!(/^(?:r|a|f)/).test(this.element.css(\"position\"))){this.element[0].style.position=\"relative\";}},_adjustOffsetFromHelper:function(obj){if(typeof obj===\"string\"){obj=obj.split(\" \");}\nif(Array.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0};}\nif(\"left\"in obj){this.offset.click.left=obj.left+this.margins.left;}\nif(\"right\"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;}\nif(\"top\"in obj){this.offset.click.top=obj.top+this.margins.top;}\nif(\"bottom\"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top;}},_isRootNode:function(element){return(/(html|body)/i).test(element.tagName)||element===this.document[0];},_getParentOffset:function(){var po=this.offsetParent.offset(),document=this.document[0];if(this.cssPosition===\"absolute\"&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop();}\nif(this._isRootNode(this.offsetParent[0])){po={top:0,left:0};}\nreturn{top:po.top+(parseInt(this.offsetParent.css(\"borderTopWidth\"),10)||0),left:po.left+(parseInt(this.offsetParent.css(\"borderLeftWidth\"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition!==\"relative\"){return{top:0,left:0};}\nvar p=this.element.position(),scrollIsRootNode=this._isRootNode(this.scrollParent[0]);return{top:p.top-(parseInt(this.helper.css(\"top\"),10)||0)+\n(!scrollIsRootNode?this.scrollParent.scrollTop():0),left:p.left-(parseInt(this.helper.css(\"left\"),10)||0)+\n(!scrollIsRootNode?this.scrollParent.scrollLeft():0)};},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css(\"marginLeft\"),10)||0),top:(parseInt(this.element.css(\"marginTop\"),10)||0),right:(parseInt(this.element.css(\"marginRight\"),10)||0),bottom:(parseInt(this.element.css(\"marginBottom\"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var isUserScrollable,c,ce,o=this.options,document=this.document[0];this.relativeContainer=null;if(!o.containment){this.containment=null;return;}\nif(o.containment===\"window\"){this.containment=[$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,$(window).scrollLeft()+$(window).width()-\nthis.helperProportions.width-this.margins.left,$(window).scrollTop()+\n($(window).height()||document.body.parentNode.scrollHeight)-\nthis.helperProportions.height-this.margins.top];return;}\nif(o.containment===\"document\"){this.containment=[0,0,$(document).width()-this.helperProportions.width-this.margins.left,($(document).height()||document.body.parentNode.scrollHeight)-\nthis.helperProportions.height-this.margins.top];return;}\nif(o.containment.constructor===Array){this.containment=o.containment;return;}\nif(o.containment===\"parent\"){o.containment=this.helper[0].parentNode;}\nc=$(o.containment);ce=c[0];if(!ce){return;}\nisUserScrollable=/(scroll|auto)/.test(c.css(\"overflow\"));this.containment=[(parseInt(c.css(\"borderLeftWidth\"),10)||0)+\n(parseInt(c.css(\"paddingLeft\"),10)||0),(parseInt(c.css(\"borderTopWidth\"),10)||0)+\n(parseInt(c.css(\"paddingTop\"),10)||0),(isUserScrollable?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-\n(parseInt(c.css(\"borderRightWidth\"),10)||0)-\n(parseInt(c.css(\"paddingRight\"),10)||0)-\nthis.helperProportions.width-\nthis.margins.left-\nthis.margins.right,(isUserScrollable?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-\n(parseInt(c.css(\"borderBottomWidth\"),10)||0)-\n(parseInt(c.css(\"paddingBottom\"),10)||0)-\nthis.helperProportions.height-\nthis.margins.top-\nthis.margins.bottom];this.relativeContainer=c;},_convertPositionTo:function(d,pos){if(!pos){pos=this.position;}\nvar mod=d===\"absolute\"?1:-1,scrollIsRootNode=this._isRootNode(this.scrollParent[0]);return{top:(pos.top+\nthis.offset.relative.top*mod+\nthis.offset.parent.top*mod-\n((this.cssPosition===\"fixed\"?-this.offset.scroll.top:(scrollIsRootNode?0:this.offset.scroll.top))*mod)),left:(pos.left+\nthis.offset.relative.left*mod+\nthis.offset.parent.left*mod-\n((this.cssPosition===\"fixed\"?-this.offset.scroll.left:(scrollIsRootNode?0:this.offset.scroll.left))*mod))};},_generatePosition:function(event,constrainPosition){var containment,co,top,left,o=this.options,scrollIsRootNode=this._isRootNode(this.scrollParent[0]),pageX=event.pageX,pageY=event.pageY;if(!scrollIsRootNode||!this.offset.scroll){this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()};}\nif(constrainPosition){if(this.containment){if(this.relativeContainer){co=this.relativeContainer.offset();containment=[this.containment[0]+co.left,this.containment[1]+co.top,this.containment[2]+co.left,this.containment[3]+co.top];}else{containment=this.containment;}\nif(event.pageX-this.offset.click.left<containment[0]){pageX=containment[0]+this.offset.click.left;}\nif(event.pageY-this.offset.click.top<containment[1]){pageY=containment[1]+this.offset.click.top;}\nif(event.pageX-this.offset.click.left>containment[2]){pageX=containment[2]+this.offset.click.left;}\nif(event.pageY-this.offset.click.top>containment[3]){pageY=containment[3]+this.offset.click.top;}}\nif(o.grid){top=o.grid[1]?this.originalPageY+Math.round((pageY-\nthis.originalPageY)/ o.grid[1])*o.grid[1]:this.originalPageY;pageY=containment?((top-this.offset.click.top>=containment[1]||top-this.offset.click.top>containment[3])?top:((top-this.offset.click.top>=containment[1])?top-o.grid[1]:top+o.grid[1])):top;left=o.grid[0]?this.originalPageX+\nMath.round((pageX-this.originalPageX)/ o.grid[0])*o.grid[0]:this.originalPageX;pageX=containment?((left-this.offset.click.left>=containment[0]||left-this.offset.click.left>containment[2])?left:((left-this.offset.click.left>=containment[0])?left-o.grid[0]:left+o.grid[0])):left;}\nif(o.axis===\"y\"){pageX=this.originalPageX;}\nif(o.axis===\"x\"){pageY=this.originalPageY;}}\nreturn{top:(pageY-\nthis.offset.click.top-\nthis.offset.relative.top-\nthis.offset.parent.top+\n(this.cssPosition===\"fixed\"?-this.offset.scroll.top:(scrollIsRootNode?0:this.offset.scroll.top))),left:(pageX-\nthis.offset.click.left-\nthis.offset.relative.left-\nthis.offset.parent.left+\n(this.cssPosition===\"fixed\"?-this.offset.scroll.left:(scrollIsRootNode?0:this.offset.scroll.left)))};},_clear:function(){this._removeClass(this.helper,\"ui-draggable-dragging\");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove();}\nthis.helper=null;this.cancelHelperRemoval=false;if(this.destroyOnClear){this.destroy();}},_trigger:function(type,event,ui){ui=ui||this._uiHash();$.ui.plugin.call(this,type,[event,ui,this],true);if(/^(drag|start|stop)/.test(type)){this.positionAbs=this._convertPositionTo(\"absolute\");ui.offset=this.positionAbs;}\nreturn $.Widget.prototype._trigger.call(this,type,event,ui);},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs};}});$.ui.plugin.add(\"draggable\",\"connectToSortable\",{start:function(event,ui,draggable){var uiSortable=$.extend({},ui,{item:draggable.element});draggable.sortables=[];$(draggable.options.connectToSortable).each(function(){var sortable=$(this).sortable(\"instance\");if(sortable&&!sortable.options.disabled){draggable.sortables.push(sortable);sortable.refreshPositions();sortable._trigger(\"activate\",event,uiSortable);}});},stop:function(event,ui,draggable){var uiSortable=$.extend({},ui,{item:draggable.element});draggable.cancelHelperRemoval=false;$.each(draggable.sortables,function(){var sortable=this;if(sortable.isOver){sortable.isOver=0;draggable.cancelHelperRemoval=true;sortable.cancelHelperRemoval=false;sortable._storedCSS={position:sortable.placeholder.css(\"position\"),top:sortable.placeholder.css(\"top\"),left:sortable.placeholder.css(\"left\")};sortable._mouseStop(event);sortable.options.helper=sortable.options._helper;}else{sortable.cancelHelperRemoval=true;sortable._trigger(\"deactivate\",event,uiSortable);}});},drag:function(event,ui,draggable){$.each(draggable.sortables,function(){var innermostIntersecting=false,sortable=this;sortable.positionAbs=draggable.positionAbs;sortable.helperProportions=draggable.helperProportions;sortable.offset.click=draggable.offset.click;if(sortable._intersectsWith(sortable.containerCache)){innermostIntersecting=true;$.each(draggable.sortables,function(){this.positionAbs=draggable.positionAbs;this.helperProportions=draggable.helperProportions;this.offset.click=draggable.offset.click;if(this!==sortable&&this._intersectsWith(this.containerCache)&&$.contains(sortable.element[0],this.element[0])){innermostIntersecting=false;}\nreturn innermostIntersecting;});}\nif(innermostIntersecting){if(!sortable.isOver){sortable.isOver=1;draggable._parent=ui.helper.parent();sortable.currentItem=ui.helper.appendTo(sortable.element).data(\"ui-sortable-item\",true);sortable.options._helper=sortable.options.helper;sortable.options.helper=function(){return ui.helper[0];};event.target=sortable.currentItem[0];sortable._mouseCapture(event,true);sortable._mouseStart(event,true,true);sortable.offset.click.top=draggable.offset.click.top;sortable.offset.click.left=draggable.offset.click.left;sortable.offset.parent.left-=draggable.offset.parent.left-\nsortable.offset.parent.left;sortable.offset.parent.top-=draggable.offset.parent.top-\nsortable.offset.parent.top;draggable._trigger(\"toSortable\",event);draggable.dropped=sortable.element;$.each(draggable.sortables,function(){this.refreshPositions();});draggable.currentItem=draggable.element;sortable.fromOutside=draggable;}\nif(sortable.currentItem){sortable._mouseDrag(event);ui.position=sortable.position;}}else{if(sortable.isOver){sortable.isOver=0;sortable.cancelHelperRemoval=true;sortable.options._revert=sortable.options.revert;sortable.options.revert=false;sortable._trigger(\"out\",event,sortable._uiHash(sortable));sortable._mouseStop(event,true);sortable.options.revert=sortable.options._revert;sortable.options.helper=sortable.options._helper;if(sortable.placeholder){sortable.placeholder.remove();}\nui.helper.appendTo(draggable._parent);draggable._refreshOffsets(event);ui.position=draggable._generatePosition(event,true);draggable._trigger(\"fromSortable\",event);draggable.dropped=false;$.each(draggable.sortables,function(){this.refreshPositions();});}}});}});$.ui.plugin.add(\"draggable\",\"cursor\",{start:function(event,ui,instance){var t=$(\"body\"),o=instance.options;if(t.css(\"cursor\")){o._cursor=t.css(\"cursor\");}\nt.css(\"cursor\",o.cursor);},stop:function(event,ui,instance){var o=instance.options;if(o._cursor){$(\"body\").css(\"cursor\",o._cursor);}}});$.ui.plugin.add(\"draggable\",\"opacity\",{start:function(event,ui,instance){var t=$(ui.helper),o=instance.options;if(t.css(\"opacity\")){o._opacity=t.css(\"opacity\");}\nt.css(\"opacity\",o.opacity);},stop:function(event,ui,instance){var o=instance.options;if(o._opacity){$(ui.helper).css(\"opacity\",o._opacity);}}});$.ui.plugin.add(\"draggable\",\"scroll\",{start:function(event,ui,i){if(!i.scrollParentNotHidden){i.scrollParentNotHidden=i.helper.scrollParent(false);}\nif(i.scrollParentNotHidden[0]!==i.document[0]&&i.scrollParentNotHidden[0].tagName!==\"HTML\"){i.overflowOffset=i.scrollParentNotHidden.offset();}},drag:function(event,ui,i){var o=i.options,scrolled=false,scrollParent=i.scrollParentNotHidden[0],document=i.document[0];if(scrollParent!==document&&scrollParent.tagName!==\"HTML\"){if(!o.axis||o.axis!==\"x\"){if((i.overflowOffset.top+scrollParent.offsetHeight)-event.pageY<o.scrollSensitivity){scrollParent.scrollTop=scrolled=scrollParent.scrollTop+o.scrollSpeed;}else if(event.pageY-i.overflowOffset.top<o.scrollSensitivity){scrollParent.scrollTop=scrolled=scrollParent.scrollTop-o.scrollSpeed;}}\nif(!o.axis||o.axis!==\"y\"){if((i.overflowOffset.left+scrollParent.offsetWidth)-event.pageX<o.scrollSensitivity){scrollParent.scrollLeft=scrolled=scrollParent.scrollLeft+o.scrollSpeed;}else if(event.pageX-i.overflowOffset.left<o.scrollSensitivity){scrollParent.scrollLeft=scrolled=scrollParent.scrollLeft-o.scrollSpeed;}}}else{if(!o.axis||o.axis!==\"x\"){if(event.pageY-$(document).scrollTop()<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed);}else if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);}}\nif(!o.axis||o.axis!==\"y\"){if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed);}else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed);}}}\nif(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(i,event);}}});$.ui.plugin.add(\"draggable\",\"snap\",{start:function(event,ui,i){var o=i.options;i.snapElements=[];$(o.snap.constructor!==String?(o.snap.items||\":data(ui-draggable)\"):o.snap).each(function(){var $t=$(this),$o=$t.offset();if(this!==i.element[0]){i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left});}});},drag:function(event,ui,inst){var ts,bs,ls,rs,l,r,t,b,i,first,o=inst.options,d=o.snapTolerance,x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height;for(i=inst.snapElements.length-1;i>=0;i--){l=inst.snapElements[i].left-inst.margins.left;r=l+inst.snapElements[i].width;t=inst.snapElements[i].top-inst.margins.top;b=t+inst.snapElements[i].height;if(x2<l-d||x1>r+d||y2<t-d||y1>b+d||!$.contains(inst.snapElements[i].item.ownerDocument,inst.snapElements[i].item)){if(inst.snapElements[i].snapping){if(inst.options.snap.release){inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item}));}}\ninst.snapElements[i].snapping=false;continue;}\nif(o.snapMode!==\"inner\"){ts=Math.abs(t-y2)<=d;bs=Math.abs(b-y1)<=d;ls=Math.abs(l-x2)<=d;rs=Math.abs(r-x1)<=d;if(ts){ui.position.top=inst._convertPositionTo(\"relative\",{top:t-inst.helperProportions.height,left:0}).top;}\nif(bs){ui.position.top=inst._convertPositionTo(\"relative\",{top:b,left:0}).top;}\nif(ls){ui.position.left=inst._convertPositionTo(\"relative\",{top:0,left:l-inst.helperProportions.width}).left;}\nif(rs){ui.position.left=inst._convertPositionTo(\"relative\",{top:0,left:r}).left;}}\nfirst=(ts||bs||ls||rs);if(o.snapMode!==\"outer\"){ts=Math.abs(t-y1)<=d;bs=Math.abs(b-y2)<=d;ls=Math.abs(l-x1)<=d;rs=Math.abs(r-x2)<=d;if(ts){ui.position.top=inst._convertPositionTo(\"relative\",{top:t,left:0}).top;}\nif(bs){ui.position.top=inst._convertPositionTo(\"relative\",{top:b-inst.helperProportions.height,left:0}).top;}\nif(ls){ui.position.left=inst._convertPositionTo(\"relative\",{top:0,left:l}).left;}\nif(rs){ui.position.left=inst._convertPositionTo(\"relative\",{top:0,left:r-inst.helperProportions.width}).left;}}\nif(!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first)){if(inst.options.snap.snap){inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item}));}}\ninst.snapElements[i].snapping=(ts||bs||ls||rs||first);}}});$.ui.plugin.add(\"draggable\",\"stack\",{start:function(event,ui,instance){var min,o=instance.options,group=$.makeArray($(o.stack)).sort(function(a,b){return(parseInt($(a).css(\"zIndex\"),10)||0)-\n(parseInt($(b).css(\"zIndex\"),10)||0);});if(!group.length){return;}\nmin=parseInt($(group[0]).css(\"zIndex\"),10)||0;$(group).each(function(i){$(this).css(\"zIndex\",min+i);});this.css(\"zIndex\",(min+group.length));}});$.ui.plugin.add(\"draggable\",\"zIndex\",{start:function(event,ui,instance){var t=$(ui.helper),o=instance.options;if(t.css(\"zIndex\")){o._zIndex=t.css(\"zIndex\");}\nt.css(\"zIndex\",o.zIndex);},stop:function(event,ui,instance){var o=instance.options;if(o._zIndex){$(ui.helper).css(\"zIndex\",o._zIndex);}}});return $.ui.draggable;});","jquery/ui-modules/widgets/droppable.min.js":"/*!\n * jQuery UI Droppable 1.13.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n(function(factory){\"use strict\";if(typeof define===\"function\"&&define.amd){define([\"jquery\",\"./draggable\",\"./mouse\",\"../version\",\"../widget\"],factory);}else{factory(jQuery);}})(function($){\"use strict\";$.widget(\"ui.droppable\",{version:\"1.13.1\",widgetEventPrefix:\"drop\",options:{accept:\"*\",addClasses:true,greedy:false,scope:\"default\",tolerance:\"intersect\",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var proportions,o=this.options,accept=o.accept;this.isover=false;this.isout=true;this.accept=typeof accept===\"function\"?accept:function(d){return d.is(accept);};this.proportions=function(){if(arguments.length){proportions=arguments[0];}else{return proportions?proportions:proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};}};this._addToManager(o.scope);if(o.addClasses){this._addClass(\"ui-droppable\");}},_addToManager:function(scope){$.ui.ddmanager.droppables[scope]=$.ui.ddmanager.droppables[scope]||[];$.ui.ddmanager.droppables[scope].push(this);},_splice:function(drop){var i=0;for(;i<drop.length;i++){if(drop[i]===this){drop.splice(i,1);}}},_destroy:function(){var drop=$.ui.ddmanager.droppables[this.options.scope];this._splice(drop);},_setOption:function(key,value){if(key===\"accept\"){this.accept=typeof value===\"function\"?value:function(d){return d.is(value);};}else if(key===\"scope\"){var drop=$.ui.ddmanager.droppables[this.options.scope];this._splice(drop);this._addToManager(value);}\nthis._super(key,value);},_activate:function(event){var draggable=$.ui.ddmanager.current;this._addActiveClass();if(draggable){this._trigger(\"activate\",event,this.ui(draggable));}},_deactivate:function(event){var draggable=$.ui.ddmanager.current;this._removeActiveClass();if(draggable){this._trigger(\"deactivate\",event,this.ui(draggable));}},_over:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return;}\nif(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){this._addHoverClass();this._trigger(\"over\",event,this.ui(draggable));}},_out:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return;}\nif(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){this._removeHoverClass();this._trigger(\"out\",event,this.ui(draggable));}},_drop:function(event,custom){var draggable=custom||$.ui.ddmanager.current,childrenIntersection=false;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return false;}\nthis.element.find(\":data(ui-droppable)\").not(\".ui-draggable-dragging\").each(function(){var inst=$(this).droppable(\"instance\");if(inst.options.greedy&&!inst.options.disabled&&inst.options.scope===draggable.options.scope&&inst.accept.call(inst.element[0],(draggable.currentItem||draggable.element))&&$.ui.intersect(draggable,$.extend(inst,{offset:inst.element.offset()}),inst.options.tolerance,event)){childrenIntersection=true;return false;}});if(childrenIntersection){return false;}\nif(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){this._removeActiveClass();this._removeHoverClass();this._trigger(\"drop\",event,this.ui(draggable));return this.element;}\nreturn false;},ui:function(c){return{draggable:(c.currentItem||c.element),helper:c.helper,position:c.position,offset:c.positionAbs};},_addHoverClass:function(){this._addClass(\"ui-droppable-hover\");},_removeHoverClass:function(){this._removeClass(\"ui-droppable-hover\");},_addActiveClass:function(){this._addClass(\"ui-droppable-active\");},_removeActiveClass:function(){this._removeClass(\"ui-droppable-active\");}});$.ui.intersect=(function(){function isOverAxis(x,reference,size){return(x>=reference)&&(x<(reference+size));}\nreturn function(draggable,droppable,toleranceMode,event){if(!droppable.offset){return false;}\nvar x1=(draggable.positionAbs||draggable.position.absolute).left+draggable.margins.left,y1=(draggable.positionAbs||draggable.position.absolute).top+draggable.margins.top,x2=x1+draggable.helperProportions.width,y2=y1+draggable.helperProportions.height,l=droppable.offset.left,t=droppable.offset.top,r=l+droppable.proportions().width,b=t+droppable.proportions().height;switch(toleranceMode){case\"fit\":return(l<=x1&&x2<=r&&t<=y1&&y2<=b);case\"intersect\":return(l<x1+(draggable.helperProportions.width / 2)&&x2-(draggable.helperProportions.width / 2)<r&&t<y1+(draggable.helperProportions.height / 2)&&y2-(draggable.helperProportions.height / 2)<b);case\"pointer\":return isOverAxis(event.pageY,t,droppable.proportions().height)&&isOverAxis(event.pageX,l,droppable.proportions().width);case\"touch\":return((y1>=t&&y1<=b)||(y2>=t&&y2<=b)||(y1<t&&y2>b))&&((x1>=l&&x1<=r)||(x2>=l&&x2<=r)||(x1<l&&x2>r));default:return false;}};})();$.ui.ddmanager={current:null,droppables:{\"default\":[]},prepareOffsets:function(t,event){var i,j,m=$.ui.ddmanager.droppables[t.options.scope]||[],type=event?event.type:null,list=(t.currentItem||t.element).find(\":data(ui-droppable)\").addBack();droppablesLoop:for(i=0;i<m.length;i++){if(m[i].options.disabled||(t&&!m[i].accept.call(m[i].element[0],(t.currentItem||t.element)))){continue;}\nfor(j=0;j<list.length;j++){if(list[j]===m[i].element[0]){m[i].proportions().height=0;continue droppablesLoop;}}\nm[i].visible=m[i].element.css(\"display\")!==\"none\";if(!m[i].visible){continue;}\nif(type===\"mousedown\"){m[i]._activate.call(m[i],event);}\nm[i].offset=m[i].element.offset();m[i].proportions({width:m[i].element[0].offsetWidth,height:m[i].element[0].offsetHeight});}},drop:function(draggable,event){var dropped=false;$.each(($.ui.ddmanager.droppables[draggable.options.scope]||[]).slice(),function(){if(!this.options){return;}\nif(!this.options.disabled&&this.visible&&$.ui.intersect(draggable,this,this.options.tolerance,event)){dropped=this._drop.call(this,event)||dropped;}\nif(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){this.isout=true;this.isover=false;this._deactivate.call(this,event);}});return dropped;},dragStart:function(draggable,event){draggable.element.parentsUntil(\"body\").on(\"scroll.droppable\",function(){if(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}});},drag:function(draggable,event){if(draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}\n$.each($.ui.ddmanager.droppables[draggable.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return;}\nvar parentInstance,scope,parent,intersects=$.ui.intersect(draggable,this,this.options.tolerance,event),c=!intersects&&this.isover?\"isout\":(intersects&&!this.isover?\"isover\":null);if(!c){return;}\nif(this.options.greedy){scope=this.options.scope;parent=this.element.parents(\":data(ui-droppable)\").filter(function(){return $(this).droppable(\"instance\").options.scope===scope;});if(parent.length){parentInstance=$(parent[0]).droppable(\"instance\");parentInstance.greedyChild=(c===\"isover\");}}\nif(parentInstance&&c===\"isover\"){parentInstance.isover=false;parentInstance.isout=true;parentInstance._out.call(parentInstance,event);}\nthis[c]=true;this[c===\"isout\"?\"isover\":\"isout\"]=false;this[c===\"isover\"?\"_over\":\"_out\"].call(this,event);if(parentInstance&&c===\"isout\"){parentInstance.isout=false;parentInstance.isover=true;parentInstance._over.call(parentInstance,event);}});},dragStop:function(draggable,event){draggable.element.parentsUntil(\"body\").off(\"scroll.droppable\");if(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}}};if($.uiBackCompat!==false){$.widget(\"ui.droppable\",$.ui.droppable,{options:{hoverClass:false,activeClass:false},_addActiveClass:function(){this._super();if(this.options.activeClass){this.element.addClass(this.options.activeClass);}},_removeActiveClass:function(){this._super();if(this.options.activeClass){this.element.removeClass(this.options.activeClass);}},_addHoverClass:function(){this._super();if(this.options.hoverClass){this.element.addClass(this.options.hoverClass);}},_removeHoverClass:function(){this._super();if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass);}}});}\nreturn $.ui.droppable;});","jquery/ui-modules/widgets/menu.min.js":"/*!\n * jQuery UI Menu 1.13.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n(function(factory){\"use strict\";if(typeof define===\"function\"&&define.amd){define([\"jquery\",\"../keycode\",\"../position\",\"../safe-active-element\",\"../unique-id\",\"../version\",\"../widget\"],factory);}else{factory(jQuery);}})(function($){\"use strict\";return $.widget(\"ui.menu\",{version:\"1.13.1\",defaultElement:\"<ul>\",delay:300,options:{icons:{submenu:\"ui-icon-caret-1-e\"},items:\"> *\",menus:\"ul\",position:{my:\"left top\",at:\"right top\"},role:\"menu\",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.lastMousePosition={x:null,y:null};this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass(\"ui-menu\",\"ui-widget ui-widget-content\");this._on({\"mousedown .ui-menu-item\":function(event){event.preventDefault();this._activateItem(event);},\"click .ui-menu-item\":function(event){var target=$(event.target);var active=$($.ui.safeActiveElement(this.document[0]));if(!this.mouseHandled&&target.not(\".ui-state-disabled\").length){this.select(event);if(!event.isPropagationStopped()){this.mouseHandled=true;}\nif(target.has(\".ui-menu\").length){this.expand(event);}else if(!this.element.is(\":focus\")&&active.closest(\".ui-menu\").length){this.element.trigger(\"focus\",[true]);if(this.active&&this.active.parents(\".ui-menu\").length===1){clearTimeout(this.timer);}}}},\"mouseenter .ui-menu-item\":\"_activateItem\",\"mousemove .ui-menu-item\":\"_activateItem\",mouseleave:\"collapseAll\",\"mouseleave .ui-menu\":\"collapseAll\",focus:function(event,keepActiveItem){var item=this.active||this._menuItems().first();if(!keepActiveItem){this.focus(event,item);}},blur:function(event){this._delay(function(){var notContained=!$.contains(this.element[0],$.ui.safeActiveElement(this.document[0]));if(notContained){this.collapseAll(event);}});},keydown:\"_keydown\"});this.refresh();this._on(this.document,{click:function(event){if(this._closeOnDocumentClick(event)){this.collapseAll(event,true);}\nthis.mouseHandled=false;}});},_activateItem:function(event){if(this.previousFilter){return;}\nif(event.clientX===this.lastMousePosition.x&&event.clientY===this.lastMousePosition.y){return;}\nthis.lastMousePosition={x:event.clientX,y:event.clientY};var actualTarget=$(event.target).closest(\".ui-menu-item\"),target=$(event.currentTarget);if(actualTarget[0]!==target[0]){return;}\nif(target.is(\".ui-state-active\")){return;}\nthis._removeClass(target.siblings().children(\".ui-state-active\"),null,\"ui-state-active\");this.focus(event,target);},_destroy:function(){var items=this.element.find(\".ui-menu-item\").removeAttr(\"role aria-disabled\"),submenus=items.children(\".ui-menu-item-wrapper\").removeUniqueId().removeAttr(\"tabIndex role aria-haspopup\");this.element.removeAttr(\"aria-activedescendant\").find(\".ui-menu\").addBack().removeAttr(\"role aria-labelledby aria-expanded aria-hidden aria-disabled \"+\"tabIndex\").removeUniqueId().show();submenus.children().each(function(){var elem=$(this);if(elem.data(\"ui-menu-submenu-caret\")){elem.remove();}});},_keydown:function(event){var match,prev,character,skip,preventDefault=true;switch(event.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(event);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(event);break;case $.ui.keyCode.HOME:this._move(\"first\",\"first\",event);break;case $.ui.keyCode.END:this._move(\"last\",\"last\",event);break;case $.ui.keyCode.UP:this.previous(event);break;case $.ui.keyCode.DOWN:this.next(event);break;case $.ui.keyCode.LEFT:this.collapse(event);break;case $.ui.keyCode.RIGHT:if(this.active&&!this.active.is(\".ui-state-disabled\")){this.expand(event);}\nbreak;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(event);break;case $.ui.keyCode.ESCAPE:this.collapse(event);break;default:preventDefault=false;prev=this.previousFilter||\"\";skip=false;character=event.keyCode>=96&&event.keyCode<=105?(event.keyCode-96).toString():String.fromCharCode(event.keyCode);clearTimeout(this.filterTimer);if(character===prev){skip=true;}else{character=prev+character;}\nmatch=this._filterMenuItems(character);match=skip&&match.index(this.active.next())!==-1?this.active.nextAll(\".ui-menu-item\"):match;if(!match.length){character=String.fromCharCode(event.keyCode);match=this._filterMenuItems(character);}\nif(match.length){this.focus(event,match);this.previousFilter=character;this.filterTimer=this._delay(function(){delete this.previousFilter;},1000);}else{delete this.previousFilter;}}\nif(preventDefault){event.preventDefault();}},_activate:function(event){if(this.active&&!this.active.is(\".ui-state-disabled\")){if(this.active.children(\"[aria-haspopup='true']\").length){this.expand(event);}else{this.select(event);}}},refresh:function(){var menus,items,newSubmenus,newItems,newWrappers,that=this,icon=this.options.icons.submenu,submenus=this.element.find(this.options.menus);this._toggleClass(\"ui-menu-icons\",null,!!this.element.find(\".ui-icon\").length);newSubmenus=submenus.filter(\":not(.ui-menu)\").hide().attr({role:this.options.role,\"aria-hidden\":\"true\",\"aria-expanded\":\"false\"}).each(function(){var menu=$(this),item=menu.prev(),submenuCaret=$(\"<span>\").data(\"ui-menu-submenu-caret\",true);that._addClass(submenuCaret,\"ui-menu-icon\",\"ui-icon \"+icon);item.attr(\"aria-haspopup\",\"true\").prepend(submenuCaret);menu.attr(\"aria-labelledby\",item.attr(\"id\"));});this._addClass(newSubmenus,\"ui-menu\",\"ui-widget ui-widget-content ui-front\");menus=submenus.add(this.element);items=menus.find(this.options.items);items.not(\".ui-menu-item\").each(function(){var item=$(this);if(that._isDivider(item)){that._addClass(item,\"ui-menu-divider\",\"ui-widget-content\");}});newItems=items.not(\".ui-menu-item, .ui-menu-divider\");newWrappers=newItems.children().not(\".ui-menu\").uniqueId().attr({tabIndex:-1,role:this._itemRole()});this._addClass(newItems,\"ui-menu-item\")._addClass(newWrappers,\"ui-menu-item-wrapper\");items.filter(\".ui-state-disabled\").attr(\"aria-disabled\",\"true\");if(this.active&&!$.contains(this.element[0],this.active[0])){this.blur();}},_itemRole:function(){return{menu:\"menuitem\",listbox:\"option\"}[this.options.role];},_setOption:function(key,value){if(key===\"icons\"){var icons=this.element.find(\".ui-menu-icon\");this._removeClass(icons,null,this.options.icons.submenu)._addClass(icons,null,value.submenu);}\nthis._super(key,value);},_setOptionDisabled:function(value){this._super(value);this.element.attr(\"aria-disabled\",String(value));this._toggleClass(null,\"ui-state-disabled\",!!value);},focus:function(event,item){var nested,focused,activeParent;this.blur(event,event&&event.type===\"focus\");this._scrollIntoView(item);this.active=item.first();focused=this.active.children(\".ui-menu-item-wrapper\");this._addClass(focused,null,\"ui-state-active\");if(this.options.role){this.element.attr(\"aria-activedescendant\",focused.attr(\"id\"));}\nactiveParent=this.active.parent().closest(\".ui-menu-item\").children(\".ui-menu-item-wrapper\");this._addClass(activeParent,null,\"ui-state-active\");if(event&&event.type===\"keydown\"){this._close();}else{this.timer=this._delay(function(){this._close();},this.delay);}\nnested=item.children(\".ui-menu\");if(nested.length&&event&&(/^mouse/.test(event.type))){this._startOpening(nested);}\nthis.activeMenu=item.parent();this._trigger(\"focus\",event,{item:item});},_scrollIntoView:function(item){var borderTop,paddingTop,offset,scroll,elementHeight,itemHeight;if(this._hasScroll()){borderTop=parseFloat($.css(this.activeMenu[0],\"borderTopWidth\"))||0;paddingTop=parseFloat($.css(this.activeMenu[0],\"paddingTop\"))||0;offset=item.offset().top-this.activeMenu.offset().top-borderTop-paddingTop;scroll=this.activeMenu.scrollTop();elementHeight=this.activeMenu.height();itemHeight=item.outerHeight();if(offset<0){this.activeMenu.scrollTop(scroll+offset);}else if(offset+itemHeight>elementHeight){this.activeMenu.scrollTop(scroll+offset-elementHeight+itemHeight);}}},blur:function(event,fromFocus){if(!fromFocus){clearTimeout(this.timer);}\nif(!this.active){return;}\nthis._removeClass(this.active.children(\".ui-menu-item-wrapper\"),null,\"ui-state-active\");this._trigger(\"blur\",event,{item:this.active});this.active=null;},_startOpening:function(submenu){clearTimeout(this.timer);if(submenu.attr(\"aria-hidden\")!==\"true\"){return;}\nthis.timer=this._delay(function(){this._close();this._open(submenu);},this.delay);},_open:function(submenu){var position=$.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(\".ui-menu\").not(submenu.parents(\".ui-menu\")).hide().attr(\"aria-hidden\",\"true\");submenu.show().removeAttr(\"aria-hidden\").attr(\"aria-expanded\",\"true\").position(position);},collapseAll:function(event,all){clearTimeout(this.timer);this.timer=this._delay(function(){var currentMenu=all?this.element:$(event&&event.target).closest(this.element.find(\".ui-menu\"));if(!currentMenu.length){currentMenu=this.element;}\nthis._close(currentMenu);this.blur(event);this._removeClass(currentMenu.find(\".ui-state-active\"),null,\"ui-state-active\");this.activeMenu=currentMenu;},all?0:this.delay);},_close:function(startMenu){if(!startMenu){startMenu=this.active?this.active.parent():this.element;}\nstartMenu.find(\".ui-menu\").hide().attr(\"aria-hidden\",\"true\").attr(\"aria-expanded\",\"false\");},_closeOnDocumentClick:function(event){return!$(event.target).closest(\".ui-menu\").length;},_isDivider:function(item){return!/[^\\-\\u2014\\u2013\\s]/.test(item.text());},collapse:function(event){var newItem=this.active&&this.active.parent().closest(\".ui-menu-item\",this.element);if(newItem&&newItem.length){this._close();this.focus(event,newItem);}},expand:function(event){var newItem=this.active&&this._menuItems(this.active.children(\".ui-menu\")).first();if(newItem&&newItem.length){this._open(newItem.parent());this._delay(function(){this.focus(event,newItem);});}},next:function(event){this._move(\"next\",\"first\",event);},previous:function(event){this._move(\"prev\",\"last\",event);},isFirstItem:function(){return this.active&&!this.active.prevAll(\".ui-menu-item\").length;},isLastItem:function(){return this.active&&!this.active.nextAll(\".ui-menu-item\").length;},_menuItems:function(menu){return(menu||this.element).find(this.options.items).filter(\".ui-menu-item\");},_move:function(direction,filter,event){var next;if(this.active){if(direction===\"first\"||direction===\"last\"){next=this.active\n[direction===\"first\"?\"prevAll\":\"nextAll\"](\".ui-menu-item\").last();}else{next=this.active\n[direction+\"All\"](\".ui-menu-item\").first();}}\nif(!next||!next.length||!this.active){next=this._menuItems(this.activeMenu)[filter]();}\nthis.focus(event,next);},nextPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}\nif(this.isLastItem()){return;}\nif(this._hasScroll()){base=this.active.offset().top;height=this.element.innerHeight();if($.fn.jquery.indexOf(\"3.2.\")===0){height+=this.element[0].offsetHeight-this.element.outerHeight();}\nthis.active.nextAll(\".ui-menu-item\").each(function(){item=$(this);return item.offset().top-base-height<0;});this.focus(event,item);}else{this.focus(event,this._menuItems(this.activeMenu)\n[!this.active?\"first\":\"last\"]());}},previousPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}\nif(this.isFirstItem()){return;}\nif(this._hasScroll()){base=this.active.offset().top;height=this.element.innerHeight();if($.fn.jquery.indexOf(\"3.2.\")===0){height+=this.element[0].offsetHeight-this.element.outerHeight();}\nthis.active.prevAll(\".ui-menu-item\").each(function(){item=$(this);return item.offset().top-base+height>0;});this.focus(event,item);}else{this.focus(event,this._menuItems(this.activeMenu).first());}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop(\"scrollHeight\");},select:function(event){this.active=this.active||$(event.target).closest(\".ui-menu-item\");var ui={item:this.active};if(!this.active.has(\".ui-menu\").length){this.collapseAll(event,true);}\nthis._trigger(\"select\",event,ui);},_filterMenuItems:function(character){var escapedCharacter=character.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,\"\\\\$&\"),regex=new RegExp(\"^\"+escapedCharacter,\"i\");return this.activeMenu.find(this.options.items).filter(\".ui-menu-item\").filter(function(){return regex.test(String.prototype.trim.call($(this).children(\".ui-menu-item-wrapper\").text()));});}});});","jquery/ui-modules/widgets/mouse.min.js":"/*!\n * jQuery UI Mouse 1.13.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n(function(factory){\"use strict\";if(typeof define===\"function\"&&define.amd){define([\"jquery\",\"../ie\",\"../version\",\"../widget\"],factory);}else{factory(jQuery);}})(function($){\"use strict\";var mouseHandled=false;$(document).on(\"mouseup\",function(){mouseHandled=false;});return $.widget(\"ui.mouse\",{version:\"1.13.1\",options:{cancel:\"input, textarea, button, select, option\",distance:1,delay:0},_mouseInit:function(){var that=this;this.element.on(\"mousedown.\"+this.widgetName,function(event){return that._mouseDown(event);}).on(\"click.\"+this.widgetName,function(event){if(true===$.data(event.target,that.widgetName+\".preventClickEvent\")){$.removeData(event.target,that.widgetName+\".preventClickEvent\");event.stopImmediatePropagation();return false;}});this.started=false;},_mouseDestroy:function(){this.element.off(\".\"+this.widgetName);if(this._mouseMoveDelegate){this.document.off(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).off(\"mouseup.\"+this.widgetName,this._mouseUpDelegate);}},_mouseDown:function(event){if(mouseHandled){return;}\nthis._mouseMoved=false;if(this._mouseStarted){this._mouseUp(event);}\nthis._mouseDownEvent=event;var that=this,btnIsLeft=(event.which===1),elIsCancel=(typeof this.options.cancel===\"string\"&&event.target.nodeName?$(event.target).closest(this.options.cancel).length:false);if(!btnIsLeft||elIsCancel||!this._mouseCapture(event)){return true;}\nthis.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=true;},this.options.delay);}\nif(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(event)!==false);if(!this._mouseStarted){event.preventDefault();return true;}}\nif(true===$.data(event.target,this.widgetName+\".preventClickEvent\")){$.removeData(event.target,this.widgetName+\".preventClickEvent\");}\nthis._mouseMoveDelegate=function(event){return that._mouseMove(event);};this._mouseUpDelegate=function(event){return that._mouseUp(event);};this.document.on(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).on(\"mouseup.\"+this.widgetName,this._mouseUpDelegate);event.preventDefault();mouseHandled=true;return true;},_mouseMove:function(event){if(this._mouseMoved){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!event.button){return this._mouseUp(event);}else if(!event.which){if(event.originalEvent.altKey||event.originalEvent.ctrlKey||event.originalEvent.metaKey||event.originalEvent.shiftKey){this.ignoreMissingWhich=true;}else if(!this.ignoreMissingWhich){return this._mouseUp(event);}}}\nif(event.which||event.button){this._mouseMoved=true;}\nif(this._mouseStarted){this._mouseDrag(event);return event.preventDefault();}\nif(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,event)!==false);if(this._mouseStarted){this._mouseDrag(event);}else{this._mouseUp(event);}}\nreturn!this._mouseStarted;},_mouseUp:function(event){this.document.off(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).off(\"mouseup.\"+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(event.target===this._mouseDownEvent.target){$.data(event.target,this.widgetName+\".preventClickEvent\",true);}\nthis._mouseStop(event);}\nif(this._mouseDelayTimer){clearTimeout(this._mouseDelayTimer);delete this._mouseDelayTimer;}\nthis.ignoreMissingWhich=false;mouseHandled=false;event.preventDefault();},_mouseDistanceMet:function(event){return(Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance);},_mouseDelayMet:function(){return this.mouseDelayMet;},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true;}});});","jquery/ui-modules/widgets/progressbar.min.js":"/*!\n * jQuery UI Progressbar 1.13.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n(function(factory){\"use strict\";if(typeof define===\"function\"&&define.amd){define([\"jquery\",\"../version\",\"../widget\"],factory);}else{factory(jQuery);}})(function($){\"use strict\";return $.widget(\"ui.progressbar\",{version:\"1.13.1\",options:{classes:{\"ui-progressbar\":\"ui-corner-all\",\"ui-progressbar-value\":\"ui-corner-left\",\"ui-progressbar-complete\":\"ui-corner-right\"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.attr({role:\"progressbar\",\"aria-valuemin\":this.min});this._addClass(\"ui-progressbar\",\"ui-widget ui-widget-content\");this.valueDiv=$(\"<div>\").appendTo(this.element);this._addClass(this.valueDiv,\"ui-progressbar-value\",\"ui-widget-header\");this._refreshValue();},_destroy:function(){this.element.removeAttr(\"role aria-valuemin aria-valuemax aria-valuenow\");this.valueDiv.remove();},value:function(newValue){if(newValue===undefined){return this.options.value;}\nthis.options.value=this._constrainedValue(newValue);this._refreshValue();},_constrainedValue:function(newValue){if(newValue===undefined){newValue=this.options.value;}\nthis.indeterminate=newValue===false;if(typeof newValue!==\"number\"){newValue=0;}\nreturn this.indeterminate?false:Math.min(this.options.max,Math.max(this.min,newValue));},_setOptions:function(options){var value=options.value;delete options.value;this._super(options);this.options.value=this._constrainedValue(value);this._refreshValue();},_setOption:function(key,value){if(key===\"max\"){value=Math.max(this.min,value);}\nthis._super(key,value);},_setOptionDisabled:function(value){this._super(value);this.element.attr(\"aria-disabled\",value);this._toggleClass(null,\"ui-state-disabled\",!!value);},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min);},_refreshValue:function(){var value=this.options.value,percentage=this._percentage();this.valueDiv.toggle(this.indeterminate||value>this.min).width(percentage.toFixed(0)+\"%\");this._toggleClass(this.valueDiv,\"ui-progressbar-complete\",null,value===this.options.max)._toggleClass(\"ui-progressbar-indeterminate\",null,this.indeterminate);if(this.indeterminate){this.element.removeAttr(\"aria-valuenow\");if(!this.overlayDiv){this.overlayDiv=$(\"<div>\").appendTo(this.valueDiv);this._addClass(this.overlayDiv,\"ui-progressbar-overlay\");}}else{this.element.attr({\"aria-valuemax\":this.options.max,\"aria-valuenow\":value});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null;}}\nif(this.oldValue!==value){this.oldValue=value;this._trigger(\"change\");}\nif(value===this.options.max){this._trigger(\"complete\");}}});});","jquery/ui-modules/widgets/resizable.min.js":"/*!\n * jQuery UI Resizable 1.13.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n(function(factory){\"use strict\";if(typeof define===\"function\"&&define.amd){define([\"jquery\",\"./mouse\",\"../disable-selection\",\"../plugin\",\"../version\",\"../widget\"],factory);}else{factory(jQuery);}})(function($){\"use strict\";$.widget(\"ui.resizable\",$.ui.mouse,{version:\"1.13.1\",widgetEventPrefix:\"resize\",options:{alsoResize:false,animate:false,animateDuration:\"slow\",animateEasing:\"swing\",aspectRatio:false,autoHide:false,classes:{\"ui-resizable-se\":\"ui-icon ui-icon-gripsmall-diagonal-se\"},containment:false,ghost:false,grid:false,handles:\"e,s,se\",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(value){return parseFloat(value)||0;},_isNumber:function(value){return!isNaN(parseFloat(value));},_hasScroll:function(el,a){if($(el).css(\"overflow\")===\"hidden\"){return false;}\nvar scroll=(a&&a===\"left\")?\"scrollLeft\":\"scrollTop\",has=false;if(el[scroll]>0){return true;}\ntry{el[scroll]=1;has=(el[scroll]>0);el[scroll]=0;}catch(e){}\nreturn has;},_create:function(){var margins,o=this.options,that=this;this._addClass(\"ui-resizable\");$.extend(this,{_aspectRatio:!!(o.aspectRatio),aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||\"ui-resizable-helper\":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap($(\"<div class='ui-wrapper'></div>\").css({overflow:\"hidden\",position:this.element.css(\"position\"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css(\"top\"),left:this.element.css(\"left\")}));this.element=this.element.parent().data(\"ui-resizable\",this.element.resizable(\"instance\"));this.elementIsWrapper=true;margins={marginTop:this.originalElement.css(\"marginTop\"),marginRight:this.originalElement.css(\"marginRight\"),marginBottom:this.originalElement.css(\"marginBottom\"),marginLeft:this.originalElement.css(\"marginLeft\")};this.element.css(margins);this.originalElement.css(\"margin\",0);this.originalResizeStyle=this.originalElement.css(\"resize\");this.originalElement.css(\"resize\",\"none\");this._proportionallyResizeElements.push(this.originalElement.css({position:\"static\",zoom:1,display:\"block\"}));this.originalElement.css(margins);this._proportionallyResize();}\nthis._setupHandles();if(o.autoHide){$(this.element).on(\"mouseenter\",function(){if(o.disabled){return;}\nthat._removeClass(\"ui-resizable-autohide\");that._handles.show();}).on(\"mouseleave\",function(){if(o.disabled){return;}\nif(!that.resizing){that._addClass(\"ui-resizable-autohide\");that._handles.hide();}});}\nthis._mouseInit();},_destroy:function(){this._mouseDestroy();this._addedHandles.remove();var wrapper,_destroy=function(exp){$(exp).removeData(\"resizable\").removeData(\"ui-resizable\").off(\".resizable\");};if(this.elementIsWrapper){_destroy(this.element);wrapper=this.element;this.originalElement.css({position:wrapper.css(\"position\"),width:wrapper.outerWidth(),height:wrapper.outerHeight(),top:wrapper.css(\"top\"),left:wrapper.css(\"left\")}).insertAfter(wrapper);wrapper.remove();}\nthis.originalElement.css(\"resize\",this.originalResizeStyle);_destroy(this.originalElement);return this;},_setOption:function(key,value){this._super(key,value);switch(key){case\"handles\":this._removeHandles();this._setupHandles();break;case\"aspectRatio\":this._aspectRatio=!!value;break;default:break;}},_setupHandles:function(){var o=this.options,handle,i,n,hname,axis,that=this;this.handles=o.handles||(!$(\".ui-resizable-handle\",this.element).length?\"e,s,se\":{n:\".ui-resizable-n\",e:\".ui-resizable-e\",s:\".ui-resizable-s\",w:\".ui-resizable-w\",se:\".ui-resizable-se\",sw:\".ui-resizable-sw\",ne:\".ui-resizable-ne\",nw:\".ui-resizable-nw\"});this._handles=$();this._addedHandles=$();if(this.handles.constructor===String){if(this.handles===\"all\"){this.handles=\"n,e,s,w,se,sw,ne,nw\";}\nn=this.handles.split(\",\");this.handles={};for(i=0;i<n.length;i++){handle=String.prototype.trim.call(n[i]);hname=\"ui-resizable-\"+handle;axis=$(\"<div>\");this._addClass(axis,\"ui-resizable-handle \"+hname);axis.css({zIndex:o.zIndex});this.handles[handle]=\".ui-resizable-\"+handle;if(!this.element.children(this.handles[handle]).length){this.element.append(axis);this._addedHandles=this._addedHandles.add(axis);}}}\nthis._renderAxis=function(target){var i,axis,padPos,padWrapper;target=target||this.element;for(i in this.handles){if(this.handles[i].constructor===String){this.handles[i]=this.element.children(this.handles[i]).first().show();}else if(this.handles[i].jquery||this.handles[i].nodeType){this.handles[i]=$(this.handles[i]);this._on(this.handles[i],{\"mousedown\":that._mouseDown});}\nif(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){axis=$(this.handles[i],this.element);padWrapper=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth();padPos=[\"padding\",/ne|nw|n/.test(i)?\"Top\":/se|sw|s/.test(i)?\"Bottom\":/^e$/.test(i)?\"Right\":\"Left\"].join(\"\");target.css(padPos,padWrapper);this._proportionallyResize();}\nthis._handles=this._handles.add(this.handles[i]);}};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(\".ui-resizable-handle\"));this._handles.disableSelection();this._handles.on(\"mouseover\",function(){if(!that.resizing){if(this.className){axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);}\nthat.axis=axis&&axis[1]?axis[1]:\"se\";}});if(o.autoHide){this._handles.hide();this._addClass(\"ui-resizable-autohide\");}},_removeHandles:function(){this._addedHandles.remove();},_mouseCapture:function(event){var i,handle,capture=false;for(i in this.handles){handle=$(this.handles[i])[0];if(handle===event.target||$.contains(handle,event.target)){capture=true;}}\nreturn!this.options.disabled&&capture;},_mouseStart:function(event){var curleft,curtop,cursor,o=this.options,el=this.element;this.resizing=true;this._renderProxy();curleft=this._num(this.helper.css(\"left\"));curtop=this._num(this.helper.css(\"top\"));if(o.containment){curleft+=$(o.containment).scrollLeft()||0;curtop+=$(o.containment).scrollTop()||0;}\nthis.offset=this.helper.offset();this.position={left:curleft,top:curtop};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:el.width(),height:el.height()};this.originalSize=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()};this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()};this.originalPosition={left:curleft,top:curtop};this.originalMousePosition={left:event.pageX,top:event.pageY};this.aspectRatio=(typeof o.aspectRatio===\"number\")?o.aspectRatio:((this.originalSize.width / this.originalSize.height)||1);cursor=$(\".ui-resizable-\"+this.axis).css(\"cursor\");$(\"body\").css(\"cursor\",cursor===\"auto\"?this.axis+\"-resize\":cursor);this._addClass(\"ui-resizable-resizing\");this._propagate(\"start\",event);return true;},_mouseDrag:function(event){var data,props,smp=this.originalMousePosition,a=this.axis,dx=(event.pageX-smp.left)||0,dy=(event.pageY-smp.top)||0,trigger=this._change[a];this._updatePrevProperties();if(!trigger){return false;}\ndata=trigger.apply(this,[event,dx,dy]);this._updateVirtualBoundaries(event.shiftKey);if(this._aspectRatio||event.shiftKey){data=this._updateRatio(data,event);}\ndata=this._respectSize(data,event);this._updateCache(data);this._propagate(\"resize\",event);props=this._applyChanges();if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize();}\nif(!$.isEmptyObject(props)){this._updatePrevProperties();this._trigger(\"resize\",event,this.ui());this._applyChanges();}\nreturn false;},_mouseStop:function(event){this.resizing=false;var pr,ista,soffseth,soffsetw,s,left,top,o=this.options,that=this;if(this._helper){pr=this._proportionallyResizeElements;ista=pr.length&&(/textarea/i).test(pr[0].nodeName);soffseth=ista&&this._hasScroll(pr[0],\"left\")?0:that.sizeDiff.height;soffsetw=ista?0:that.sizeDiff.width;s={width:(that.helper.width()-soffsetw),height:(that.helper.height()-soffseth)};left=(parseFloat(that.element.css(\"left\"))+\n(that.position.left-that.originalPosition.left))||null;top=(parseFloat(that.element.css(\"top\"))+\n(that.position.top-that.originalPosition.top))||null;if(!o.animate){this.element.css($.extend(s,{top:top,left:left}));}\nthat.helper.height(that.size.height);that.helper.width(that.size.width);if(this._helper&&!o.animate){this._proportionallyResize();}}\n$(\"body\").css(\"cursor\",\"auto\");this._removeClass(\"ui-resizable-resizing\");this._propagate(\"stop\",event);if(this._helper){this.helper.remove();}\nreturn false;},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height};},_applyChanges:function(){var props={};if(this.position.top!==this.prevPosition.top){props.top=this.position.top+\"px\";}\nif(this.position.left!==this.prevPosition.left){props.left=this.position.left+\"px\";}\nif(this.size.width!==this.prevSize.width){props.width=this.size.width+\"px\";}\nif(this.size.height!==this.prevSize.height){props.height=this.size.height+\"px\";}\nthis.helper.css(props);return props;},_updateVirtualBoundaries:function(forceAspectRatio){var pMinWidth,pMaxWidth,pMinHeight,pMaxHeight,b,o=this.options;b={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:Infinity};if(this._aspectRatio||forceAspectRatio){pMinWidth=b.minHeight*this.aspectRatio;pMinHeight=b.minWidth / this.aspectRatio;pMaxWidth=b.maxHeight*this.aspectRatio;pMaxHeight=b.maxWidth / this.aspectRatio;if(pMinWidth>b.minWidth){b.minWidth=pMinWidth;}\nif(pMinHeight>b.minHeight){b.minHeight=pMinHeight;}\nif(pMaxWidth<b.maxWidth){b.maxWidth=pMaxWidth;}\nif(pMaxHeight<b.maxHeight){b.maxHeight=pMaxHeight;}}\nthis._vBoundaries=b;},_updateCache:function(data){this.offset=this.helper.offset();if(this._isNumber(data.left)){this.position.left=data.left;}\nif(this._isNumber(data.top)){this.position.top=data.top;}\nif(this._isNumber(data.height)){this.size.height=data.height;}\nif(this._isNumber(data.width)){this.size.width=data.width;}},_updateRatio:function(data){var cpos=this.position,csize=this.size,a=this.axis;if(this._isNumber(data.height)){data.width=(data.height*this.aspectRatio);}else if(this._isNumber(data.width)){data.height=(data.width / this.aspectRatio);}\nif(a===\"sw\"){data.left=cpos.left+(csize.width-data.width);data.top=null;}\nif(a===\"nw\"){data.top=cpos.top+(csize.height-data.height);data.left=cpos.left+(csize.width-data.width);}\nreturn data;},_respectSize:function(data){var o=this._vBoundaries,a=this.axis,ismaxw=this._isNumber(data.width)&&o.maxWidth&&(o.maxWidth<data.width),ismaxh=this._isNumber(data.height)&&o.maxHeight&&(o.maxHeight<data.height),isminw=this._isNumber(data.width)&&o.minWidth&&(o.minWidth>data.width),isminh=this._isNumber(data.height)&&o.minHeight&&(o.minHeight>data.height),dw=this.originalPosition.left+this.originalSize.width,dh=this.originalPosition.top+this.originalSize.height,cw=/sw|nw|w/.test(a),ch=/nw|ne|n/.test(a);if(isminw){data.width=o.minWidth;}\nif(isminh){data.height=o.minHeight;}\nif(ismaxw){data.width=o.maxWidth;}\nif(ismaxh){data.height=o.maxHeight;}\nif(isminw&&cw){data.left=dw-o.minWidth;}\nif(ismaxw&&cw){data.left=dw-o.maxWidth;}\nif(isminh&&ch){data.top=dh-o.minHeight;}\nif(ismaxh&&ch){data.top=dh-o.maxHeight;}\nif(!data.width&&!data.height&&!data.left&&data.top){data.top=null;}else if(!data.width&&!data.height&&!data.top&&data.left){data.left=null;}\nreturn data;},_getPaddingPlusBorderDimensions:function(element){var i=0,widths=[],borders=[element.css(\"borderTopWidth\"),element.css(\"borderRightWidth\"),element.css(\"borderBottomWidth\"),element.css(\"borderLeftWidth\")],paddings=[element.css(\"paddingTop\"),element.css(\"paddingRight\"),element.css(\"paddingBottom\"),element.css(\"paddingLeft\")];for(;i<4;i++){widths[i]=(parseFloat(borders[i])||0);widths[i]+=(parseFloat(paddings[i])||0);}\nreturn{height:widths[0]+widths[2],width:widths[1]+widths[3]};},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return;}\nvar prel,i=0,element=this.helper||this.element;for(;i<this._proportionallyResizeElements.length;i++){prel=this._proportionallyResizeElements[i];if(!this.outerDimensions){this.outerDimensions=this._getPaddingPlusBorderDimensions(prel);}\nprel.css({height:(element.height()-this.outerDimensions.height)||0,width:(element.width()-this.outerDimensions.width)||0});}},_renderProxy:function(){var el=this.element,o=this.options;this.elementOffset=el.offset();if(this._helper){this.helper=this.helper||$(\"<div></div>\").css({overflow:\"hidden\"});this._addClass(this.helper,this._helper);this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:\"absolute\",left:this.elementOffset.left+\"px\",top:this.elementOffset.top+\"px\",zIndex:++o.zIndex});this.helper.appendTo(\"body\").disableSelection();}else{this.helper=this.element;}},_change:{e:function(event,dx){return{width:this.originalSize.width+dx};},w:function(event,dx){var cs=this.originalSize,sp=this.originalPosition;return{left:sp.left+dx,width:cs.width-dx};},n:function(event,dx,dy){var cs=this.originalSize,sp=this.originalPosition;return{top:sp.top+dy,height:cs.height-dy};},s:function(event,dx,dy){return{height:this.originalSize.height+dy};},se:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},sw:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));},ne:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},nw:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));}},_propagate:function(n,event){$.ui.plugin.call(this,n,[event,this.ui()]);if(n!==\"resize\"){this._trigger(n,event,this.ui());}},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition};}});$.ui.plugin.add(\"resizable\",\"animate\",{stop:function(event){var that=$(this).resizable(\"instance\"),o=that.options,pr=that._proportionallyResizeElements,ista=pr.length&&(/textarea/i).test(pr[0].nodeName),soffseth=ista&&that._hasScroll(pr[0],\"left\")?0:that.sizeDiff.height,soffsetw=ista?0:that.sizeDiff.width,style={width:(that.size.width-soffsetw),height:(that.size.height-soffseth)},left=(parseFloat(that.element.css(\"left\"))+\n(that.position.left-that.originalPosition.left))||null,top=(parseFloat(that.element.css(\"top\"))+\n(that.position.top-that.originalPosition.top))||null;that.element.animate($.extend(style,top&&left?{top:top,left:left}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var data={width:parseFloat(that.element.css(\"width\")),height:parseFloat(that.element.css(\"height\")),top:parseFloat(that.element.css(\"top\")),left:parseFloat(that.element.css(\"left\"))};if(pr&&pr.length){$(pr[0]).css({width:data.width,height:data.height});}\nthat._updateCache(data);that._propagate(\"resize\",event);}});}});$.ui.plugin.add(\"resizable\",\"containment\",{start:function(){var element,p,co,ch,cw,width,height,that=$(this).resizable(\"instance\"),o=that.options,el=that.element,oc=o.containment,ce=(oc instanceof $)?oc.get(0):(/parent/.test(oc))?el.parent().get(0):oc;if(!ce){return;}\nthat.containerElement=$(ce);if(/document/.test(oc)||oc===document){that.containerOffset={left:0,top:0};that.containerPosition={left:0,top:0};that.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight};}else{element=$(ce);p=[];$([\"Top\",\"Right\",\"Left\",\"Bottom\"]).each(function(i,name){p[i]=that._num(element.css(\"padding\"+name));});that.containerOffset=element.offset();that.containerPosition=element.position();that.containerSize={height:(element.innerHeight()-p[3]),width:(element.innerWidth()-p[1])};co=that.containerOffset;ch=that.containerSize.height;cw=that.containerSize.width;width=(that._hasScroll(ce,\"left\")?ce.scrollWidth:cw);height=(that._hasScroll(ce)?ce.scrollHeight:ch);that.parentData={element:ce,left:co.left,top:co.top,width:width,height:height};}},resize:function(event){var woset,hoset,isParent,isOffsetRelative,that=$(this).resizable(\"instance\"),o=that.options,co=that.containerOffset,cp=that.position,pRatio=that._aspectRatio||event.shiftKey,cop={top:0,left:0},ce=that.containerElement,continueResize=true;if(ce[0]!==document&&(/static/).test(ce.css(\"position\"))){cop=co;}\nif(cp.left<(that._helper?co.left:0)){that.size.width=that.size.width+\n(that._helper?(that.position.left-co.left):(that.position.left-cop.left));if(pRatio){that.size.height=that.size.width / that.aspectRatio;continueResize=false;}\nthat.position.left=o.helper?co.left:0;}\nif(cp.top<(that._helper?co.top:0)){that.size.height=that.size.height+\n(that._helper?(that.position.top-co.top):that.position.top);if(pRatio){that.size.width=that.size.height*that.aspectRatio;continueResize=false;}\nthat.position.top=that._helper?co.top:0;}\nisParent=that.containerElement.get(0)===that.element.parent().get(0);isOffsetRelative=/relative|absolute/.test(that.containerElement.css(\"position\"));if(isParent&&isOffsetRelative){that.offset.left=that.parentData.left+that.position.left;that.offset.top=that.parentData.top+that.position.top;}else{that.offset.left=that.element.offset().left;that.offset.top=that.element.offset().top;}\nwoset=Math.abs(that.sizeDiff.width+\n(that._helper?that.offset.left-cop.left:(that.offset.left-co.left)));hoset=Math.abs(that.sizeDiff.height+\n(that._helper?that.offset.top-cop.top:(that.offset.top-co.top)));if(woset+that.size.width>=that.parentData.width){that.size.width=that.parentData.width-woset;if(pRatio){that.size.height=that.size.width / that.aspectRatio;continueResize=false;}}\nif(hoset+that.size.height>=that.parentData.height){that.size.height=that.parentData.height-hoset;if(pRatio){that.size.width=that.size.height*that.aspectRatio;continueResize=false;}}\nif(!continueResize){that.position.left=that.prevPosition.left;that.position.top=that.prevPosition.top;that.size.width=that.prevSize.width;that.size.height=that.prevSize.height;}},stop:function(){var that=$(this).resizable(\"instance\"),o=that.options,co=that.containerOffset,cop=that.containerPosition,ce=that.containerElement,helper=$(that.helper),ho=helper.offset(),w=helper.outerWidth()-that.sizeDiff.width,h=helper.outerHeight()-that.sizeDiff.height;if(that._helper&&!o.animate&&(/relative/).test(ce.css(\"position\"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});}\nif(that._helper&&!o.animate&&(/static/).test(ce.css(\"position\"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});}}});$.ui.plugin.add(\"resizable\",\"alsoResize\",{start:function(){var that=$(this).resizable(\"instance\"),o=that.options;$(o.alsoResize).each(function(){var el=$(this);el.data(\"ui-resizable-alsoresize\",{width:parseFloat(el.width()),height:parseFloat(el.height()),left:parseFloat(el.css(\"left\")),top:parseFloat(el.css(\"top\"))});});},resize:function(event,ui){var that=$(this).resizable(\"instance\"),o=that.options,os=that.originalSize,op=that.originalPosition,delta={height:(that.size.height-os.height)||0,width:(that.size.width-os.width)||0,top:(that.position.top-op.top)||0,left:(that.position.left-op.left)||0};$(o.alsoResize).each(function(){var el=$(this),start=$(this).data(\"ui-resizable-alsoresize\"),style={},css=el.parents(ui.originalElement[0]).length?[\"width\",\"height\"]:[\"width\",\"height\",\"top\",\"left\"];$.each(css,function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);if(sum&&sum>=0){style[prop]=sum||null;}});el.css(style);});},stop:function(){$(this).removeData(\"ui-resizable-alsoresize\");}});$.ui.plugin.add(\"resizable\",\"ghost\",{start:function(){var that=$(this).resizable(\"instance\"),cs=that.size;that.ghost=that.originalElement.clone();that.ghost.css({opacity:0.25,display:\"block\",position:\"relative\",height:cs.height,width:cs.width,margin:0,left:0,top:0});that._addClass(that.ghost,\"ui-resizable-ghost\");if($.uiBackCompat!==false&&typeof that.options.ghost===\"string\"){that.ghost.addClass(this.options.ghost);}\nthat.ghost.appendTo(that.helper);},resize:function(){var that=$(this).resizable(\"instance\");if(that.ghost){that.ghost.css({position:\"relative\",height:that.size.height,width:that.size.width});}},stop:function(){var that=$(this).resizable(\"instance\");if(that.ghost&&that.helper){that.helper.get(0).removeChild(that.ghost.get(0));}}});$.ui.plugin.add(\"resizable\",\"grid\",{resize:function(){var outerDimensions,that=$(this).resizable(\"instance\"),o=that.options,cs=that.size,os=that.originalSize,op=that.originalPosition,a=that.axis,grid=typeof o.grid===\"number\"?[o.grid,o.grid]:o.grid,gridX=(grid[0]||1),gridY=(grid[1]||1),ox=Math.round((cs.width-os.width)/ gridX)*gridX,oy=Math.round((cs.height-os.height)/ gridY)*gridY,newWidth=os.width+ox,newHeight=os.height+oy,isMaxWidth=o.maxWidth&&(o.maxWidth<newWidth),isMaxHeight=o.maxHeight&&(o.maxHeight<newHeight),isMinWidth=o.minWidth&&(o.minWidth>newWidth),isMinHeight=o.minHeight&&(o.minHeight>newHeight);o.grid=grid;if(isMinWidth){newWidth+=gridX;}\nif(isMinHeight){newHeight+=gridY;}\nif(isMaxWidth){newWidth-=gridX;}\nif(isMaxHeight){newHeight-=gridY;}\nif(/^(se|s|e)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;}else if(/^(ne)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.top=op.top-oy;}else if(/^(sw)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.left=op.left-ox;}else{if(newHeight-gridY<=0||newWidth-gridX<=0){outerDimensions=that._getPaddingPlusBorderDimensions(this);}\nif(newHeight-gridY>0){that.size.height=newHeight;that.position.top=op.top-oy;}else{newHeight=gridY-outerDimensions.height;that.size.height=newHeight;that.position.top=op.top+os.height-newHeight;}\nif(newWidth-gridX>0){that.size.width=newWidth;that.position.left=op.left-ox;}else{newWidth=gridX-outerDimensions.width;that.size.width=newWidth;that.position.left=op.left+os.width-newWidth;}}}});return $.ui.resizable;});","jquery/ui-modules/widgets/selectable.min.js":"/*!\n * jQuery UI Selectable 1.13.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n(function(factory){\"use strict\";if(typeof define===\"function\"&&define.amd){define([\"jquery\",\"./mouse\",\"../version\",\"../widget\"],factory);}else{factory(jQuery);}})(function($){\"use strict\";return $.widget(\"ui.selectable\",$.ui.mouse,{version:\"1.13.1\",options:{appendTo:\"body\",autoRefresh:true,distance:0,filter:\"*\",tolerance:\"touch\",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var that=this;this._addClass(\"ui-selectable\");this.dragged=false;this.refresh=function(){that.elementPos=$(that.element[0]).offset();that.selectees=$(that.options.filter,that.element[0]);that._addClass(that.selectees,\"ui-selectee\");that.selectees.each(function(){var $this=$(this),selecteeOffset=$this.offset(),pos={left:selecteeOffset.left-that.elementPos.left,top:selecteeOffset.top-that.elementPos.top};$.data(this,\"selectable-item\",{element:this,$element:$this,left:pos.left,top:pos.top,right:pos.left+$this.outerWidth(),bottom:pos.top+$this.outerHeight(),startselected:false,selected:$this.hasClass(\"ui-selected\"),selecting:$this.hasClass(\"ui-selecting\"),unselecting:$this.hasClass(\"ui-unselecting\")});});};this.refresh();this._mouseInit();this.helper=$(\"<div>\");this._addClass(this.helper,\"ui-selectable-helper\");},_destroy:function(){this.selectees.removeData(\"selectable-item\");this._mouseDestroy();},_mouseStart:function(event){var that=this,options=this.options;this.opos=[event.pageX,event.pageY];this.elementPos=$(this.element[0]).offset();if(this.options.disabled){return;}\nthis.selectees=$(options.filter,this.element[0]);this._trigger(\"start\",event);$(options.appendTo).append(this.helper);this.helper.css({\"left\":event.pageX,\"top\":event.pageY,\"width\":0,\"height\":0});if(options.autoRefresh){this.refresh();}\nthis.selectees.filter(\".ui-selected\").each(function(){var selectee=$.data(this,\"selectable-item\");selectee.startselected=true;if(!event.metaKey&&!event.ctrlKey){that._removeClass(selectee.$element,\"ui-selected\");selectee.selected=false;that._addClass(selectee.$element,\"ui-unselecting\");selectee.unselecting=true;that._trigger(\"unselecting\",event,{unselecting:selectee.element});}});$(event.target).parents().addBack().each(function(){var doSelect,selectee=$.data(this,\"selectable-item\");if(selectee){doSelect=(!event.metaKey&&!event.ctrlKey)||!selectee.$element.hasClass(\"ui-selected\");that._removeClass(selectee.$element,doSelect?\"ui-unselecting\":\"ui-selected\")._addClass(selectee.$element,doSelect?\"ui-selecting\":\"ui-unselecting\");selectee.unselecting=!doSelect;selectee.selecting=doSelect;selectee.selected=doSelect;if(doSelect){that._trigger(\"selecting\",event,{selecting:selectee.element});}else{that._trigger(\"unselecting\",event,{unselecting:selectee.element});}\nreturn false;}});},_mouseDrag:function(event){this.dragged=true;if(this.options.disabled){return;}\nvar tmp,that=this,options=this.options,x1=this.opos[0],y1=this.opos[1],x2=event.pageX,y2=event.pageY;if(x1>x2){tmp=x2;x2=x1;x1=tmp;}\nif(y1>y2){tmp=y2;y2=y1;y1=tmp;}\nthis.helper.css({left:x1,top:y1,width:x2-x1,height:y2-y1});this.selectees.each(function(){var selectee=$.data(this,\"selectable-item\"),hit=false,offset={};if(!selectee||selectee.element===that.element[0]){return;}\noffset.left=selectee.left+that.elementPos.left;offset.right=selectee.right+that.elementPos.left;offset.top=selectee.top+that.elementPos.top;offset.bottom=selectee.bottom+that.elementPos.top;if(options.tolerance===\"touch\"){hit=(!(offset.left>x2||offset.right<x1||offset.top>y2||offset.bottom<y1));}else if(options.tolerance===\"fit\"){hit=(offset.left>x1&&offset.right<x2&&offset.top>y1&&offset.bottom<y2);}\nif(hit){if(selectee.selected){that._removeClass(selectee.$element,\"ui-selected\");selectee.selected=false;}\nif(selectee.unselecting){that._removeClass(selectee.$element,\"ui-unselecting\");selectee.unselecting=false;}\nif(!selectee.selecting){that._addClass(selectee.$element,\"ui-selecting\");selectee.selecting=true;that._trigger(\"selecting\",event,{selecting:selectee.element});}}else{if(selectee.selecting){if((event.metaKey||event.ctrlKey)&&selectee.startselected){that._removeClass(selectee.$element,\"ui-selecting\");selectee.selecting=false;that._addClass(selectee.$element,\"ui-selected\");selectee.selected=true;}else{that._removeClass(selectee.$element,\"ui-selecting\");selectee.selecting=false;if(selectee.startselected){that._addClass(selectee.$element,\"ui-unselecting\");selectee.unselecting=true;}\nthat._trigger(\"unselecting\",event,{unselecting:selectee.element});}}\nif(selectee.selected){if(!event.metaKey&&!event.ctrlKey&&!selectee.startselected){that._removeClass(selectee.$element,\"ui-selected\");selectee.selected=false;that._addClass(selectee.$element,\"ui-unselecting\");selectee.unselecting=true;that._trigger(\"unselecting\",event,{unselecting:selectee.element});}}}});return false;},_mouseStop:function(event){var that=this;this.dragged=false;$(\".ui-unselecting\",this.element[0]).each(function(){var selectee=$.data(this,\"selectable-item\");that._removeClass(selectee.$element,\"ui-unselecting\");selectee.unselecting=false;selectee.startselected=false;that._trigger(\"unselected\",event,{unselected:selectee.element});});$(\".ui-selecting\",this.element[0]).each(function(){var selectee=$.data(this,\"selectable-item\");that._removeClass(selectee.$element,\"ui-selecting\")._addClass(selectee.$element,\"ui-selected\");selectee.selecting=false;selectee.selected=true;selectee.startselected=true;that._trigger(\"selected\",event,{selected:selectee.element});});this._trigger(\"stop\",event);this.helper.remove();return false;}});});","jquery/ui-modules/widgets/selectmenu.min.js":"/*!\n * jQuery UI Selectmenu 1.13.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n(function(factory){\"use strict\";if(typeof define===\"function\"&&define.amd){define([\"jquery\",\"./menu\",\"../form-reset-mixin\",\"../keycode\",\"../labels\",\"../position\",\"../unique-id\",\"../version\",\"../widget\"],factory);}else{factory(jQuery);}})(function($){\"use strict\";return $.widget(\"ui.selectmenu\",[$.ui.formResetMixin,{version:\"1.13.1\",defaultElement:\"<select>\",options:{appendTo:null,classes:{\"ui-selectmenu-button-open\":\"ui-corner-top\",\"ui-selectmenu-button-closed\":\"ui-corner-all\"},disabled:null,icons:{button:\"ui-icon-triangle-1-s\"},position:{my:\"left top\",at:\"left bottom\",collision:\"none\"},width:false,change:null,close:null,focus:null,open:null,select:null},_create:function(){var selectmenuId=this.element.uniqueId().attr(\"id\");this.ids={element:selectmenuId,button:selectmenuId+\"-button\",menu:selectmenuId+\"-menu\"};this._drawButton();this._drawMenu();this._bindFormResetHandler();this._rendered=false;this.menuItems=$();},_drawButton:function(){var icon,that=this,item=this._parseOption(this.element.find(\"option:selected\"),this.element[0].selectedIndex);this.labels=this.element.labels().attr(\"for\",this.ids.button);this._on(this.labels,{click:function(event){this.button.trigger(\"focus\");event.preventDefault();}});this.element.hide();this.button=$(\"<span>\",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:\"combobox\",\"aria-expanded\":\"false\",\"aria-autocomplete\":\"list\",\"aria-owns\":this.ids.menu,\"aria-haspopup\":\"true\",title:this.element.attr(\"title\")}).insertAfter(this.element);this._addClass(this.button,\"ui-selectmenu-button ui-selectmenu-button-closed\",\"ui-button ui-widget\");icon=$(\"<span>\").appendTo(this.button);this._addClass(icon,\"ui-selectmenu-icon\",\"ui-icon \"+this.options.icons.button);this.buttonItem=this._renderButtonItem(item).appendTo(this.button);if(this.options.width!==false){this._resizeButton();}\nthis._on(this.button,this._buttonEvents);this.button.one(\"focusin\",function(){if(!that._rendered){that._refreshMenu();}});},_drawMenu:function(){var that=this;this.menu=$(\"<ul>\",{\"aria-hidden\":\"true\",\"aria-labelledby\":this.ids.button,id:this.ids.menu});this.menuWrap=$(\"<div>\").append(this.menu);this._addClass(this.menuWrap,\"ui-selectmenu-menu\",\"ui-front\");this.menuWrap.appendTo(this._appendTo());this.menuInstance=this.menu.menu({classes:{\"ui-menu\":\"ui-corner-bottom\"},role:\"listbox\",select:function(event,ui){event.preventDefault();that._setSelection();that._select(ui.item.data(\"ui-selectmenu-item\"),event);},focus:function(event,ui){var item=ui.item.data(\"ui-selectmenu-item\");if(that.focusIndex!=null&&item.index!==that.focusIndex){that._trigger(\"focus\",event,{item:item});if(!that.isOpen){that._select(item,event);}}\nthat.focusIndex=item.index;that.button.attr(\"aria-activedescendant\",that.menuItems.eq(item.index).attr(\"id\"));}}).menu(\"instance\");this.menuInstance._off(this.menu,\"mouseleave\");this.menuInstance._closeOnDocumentClick=function(){return false;};this.menuInstance._isDivider=function(){return false;};},refresh:function(){this._refreshMenu();this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data(\"ui-selectmenu-item\")||{}));if(this.options.width===null){this._resizeButton();}},_refreshMenu:function(){var item,options=this.element.find(\"option\");this.menu.empty();this._parseOptions(options);this._renderMenu(this.menu,this.items);this.menuInstance.refresh();this.menuItems=this.menu.find(\"li\").not(\".ui-selectmenu-optgroup\").find(\".ui-menu-item-wrapper\");this._rendered=true;if(!options.length){return;}\nitem=this._getSelectedItem();this.menuInstance.focus(null,item);this._setAria(item.data(\"ui-selectmenu-item\"));this._setOption(\"disabled\",this.element.prop(\"disabled\"));},open:function(event){if(this.options.disabled){return;}\nif(!this._rendered){this._refreshMenu();}else{this._removeClass(this.menu.find(\".ui-state-active\"),null,\"ui-state-active\");this.menuInstance.focus(null,this._getSelectedItem());}\nif(!this.menuItems.length){return;}\nthis.isOpen=true;this._toggleAttr();this._resizeMenu();this._position();this._on(this.document,this._documentClick);this._trigger(\"open\",event);},_position:function(){this.menuWrap.position($.extend({of:this.button},this.options.position));},close:function(event){if(!this.isOpen){return;}\nthis.isOpen=false;this._toggleAttr();this.range=null;this._off(this.document);this._trigger(\"close\",event);},widget:function(){return this.button;},menuWidget:function(){return this.menu;},_renderButtonItem:function(item){var buttonItem=$(\"<span>\");this._setText(buttonItem,item.label);this._addClass(buttonItem,\"ui-selectmenu-text\");return buttonItem;},_renderMenu:function(ul,items){var that=this,currentOptgroup=\"\";$.each(items,function(index,item){var li;if(item.optgroup!==currentOptgroup){li=$(\"<li>\",{text:item.optgroup});that._addClass(li,\"ui-selectmenu-optgroup\",\"ui-menu-divider\"+\n(item.element.parent(\"optgroup\").prop(\"disabled\")?\" ui-state-disabled\":\"\"));li.appendTo(ul);currentOptgroup=item.optgroup;}\nthat._renderItemData(ul,item);});},_renderItemData:function(ul,item){return this._renderItem(ul,item).data(\"ui-selectmenu-item\",item);},_renderItem:function(ul,item){var li=$(\"<li>\"),wrapper=$(\"<div>\",{title:item.element.attr(\"title\")});if(item.disabled){this._addClass(li,null,\"ui-state-disabled\");}\nthis._setText(wrapper,item.label);return li.append(wrapper).appendTo(ul);},_setText:function(element,value){if(value){element.text(value);}else{element.html(\"&#160;\");}},_move:function(direction,event){var item,next,filter=\".ui-menu-item\";if(this.isOpen){item=this.menuItems.eq(this.focusIndex).parent(\"li\");}else{item=this.menuItems.eq(this.element[0].selectedIndex).parent(\"li\");filter+=\":not(.ui-state-disabled)\";}\nif(direction===\"first\"||direction===\"last\"){next=item[direction===\"first\"?\"prevAll\":\"nextAll\"](filter).eq(-1);}else{next=item[direction+\"All\"](filter).eq(0);}\nif(next.length){this.menuInstance.focus(event,next);}},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent(\"li\");},_toggle:function(event){this[this.isOpen?\"close\":\"open\"](event);},_setSelection:function(){var selection;if(!this.range){return;}\nif(window.getSelection){selection=window.getSelection();selection.removeAllRanges();selection.addRange(this.range);}else{this.range.select();}\nthis.button.focus();},_documentClick:{mousedown:function(event){if(!this.isOpen){return;}\nif(!$(event.target).closest(\".ui-selectmenu-menu, #\"+\n$.escapeSelector(this.ids.button)).length){this.close(event);}}},_buttonEvents:{mousedown:function(){var selection;if(window.getSelection){selection=window.getSelection();if(selection.rangeCount){this.range=selection.getRangeAt(0);}}else{this.range=document.selection.createRange();}},click:function(event){this._setSelection();this._toggle(event);},keydown:function(event){var preventDefault=true;switch(event.keyCode){case $.ui.keyCode.TAB:case $.ui.keyCode.ESCAPE:this.close(event);preventDefault=false;break;case $.ui.keyCode.ENTER:if(this.isOpen){this._selectFocusedItem(event);}\nbreak;case $.ui.keyCode.UP:if(event.altKey){this._toggle(event);}else{this._move(\"prev\",event);}\nbreak;case $.ui.keyCode.DOWN:if(event.altKey){this._toggle(event);}else{this._move(\"next\",event);}\nbreak;case $.ui.keyCode.SPACE:if(this.isOpen){this._selectFocusedItem(event);}else{this._toggle(event);}\nbreak;case $.ui.keyCode.LEFT:this._move(\"prev\",event);break;case $.ui.keyCode.RIGHT:this._move(\"next\",event);break;case $.ui.keyCode.HOME:case $.ui.keyCode.PAGE_UP:this._move(\"first\",event);break;case $.ui.keyCode.END:case $.ui.keyCode.PAGE_DOWN:this._move(\"last\",event);break;default:this.menu.trigger(event);preventDefault=false;}\nif(preventDefault){event.preventDefault();}}},_selectFocusedItem:function(event){var item=this.menuItems.eq(this.focusIndex).parent(\"li\");if(!item.hasClass(\"ui-state-disabled\")){this._select(item.data(\"ui-selectmenu-item\"),event);}},_select:function(item,event){var oldIndex=this.element[0].selectedIndex;this.element[0].selectedIndex=item.index;this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(item));this._setAria(item);this._trigger(\"select\",event,{item:item});if(item.index!==oldIndex){this._trigger(\"change\",event,{item:item});}\nthis.close(event);},_setAria:function(item){var id=this.menuItems.eq(item.index).attr(\"id\");this.button.attr({\"aria-labelledby\":id,\"aria-activedescendant\":id});this.menu.attr(\"aria-activedescendant\",id);},_setOption:function(key,value){if(key===\"icons\"){var icon=this.button.find(\"span.ui-icon\");this._removeClass(icon,null,this.options.icons.button)._addClass(icon,null,value.button);}\nthis._super(key,value);if(key===\"appendTo\"){this.menuWrap.appendTo(this._appendTo());}\nif(key===\"width\"){this._resizeButton();}},_setOptionDisabled:function(value){this._super(value);this.menuInstance.option(\"disabled\",value);this.button.attr(\"aria-disabled\",value);this._toggleClass(this.button,null,\"ui-state-disabled\",value);this.element.prop(\"disabled\",value);if(value){this.button.attr(\"tabindex\",-1);this.close();}else{this.button.attr(\"tabindex\",0);}},_appendTo:function(){var element=this.options.appendTo;if(element){element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0);}\nif(!element||!element[0]){element=this.element.closest(\".ui-front, dialog\");}\nif(!element.length){element=this.document[0].body;}\nreturn element;},_toggleAttr:function(){this.button.attr(\"aria-expanded\",this.isOpen);this._removeClass(this.button,\"ui-selectmenu-button-\"+\n(this.isOpen?\"closed\":\"open\"))._addClass(this.button,\"ui-selectmenu-button-\"+\n(this.isOpen?\"open\":\"closed\"))._toggleClass(this.menuWrap,\"ui-selectmenu-open\",null,this.isOpen);this.menu.attr(\"aria-hidden\",!this.isOpen);},_resizeButton:function(){var width=this.options.width;if(width===false){this.button.css(\"width\",\"\");return;}\nif(width===null){width=this.element.show().outerWidth();this.element.hide();}\nthis.button.outerWidth(width);},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width(\"\").outerWidth()+1));},_getCreateOptions:function(){var options=this._super();options.disabled=this.element.prop(\"disabled\");return options;},_parseOptions:function(options){var that=this,data=[];options.each(function(index,item){if(item.hidden){return;}\ndata.push(that._parseOption($(item),index));});this.items=data;},_parseOption:function(option,index){var optgroup=option.parent(\"optgroup\");return{element:option,index:index,value:option.val(),label:option.text(),optgroup:optgroup.attr(\"label\")||\"\",disabled:optgroup.prop(\"disabled\")||option.prop(\"disabled\")};},_destroy:function(){this._unbindFormResetHandler();this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.labels.attr(\"for\",this.ids.element);}}]);});","jquery/ui-modules/widgets/slider.min.js":"/*!\n * jQuery UI Slider 1.13.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n(function(factory){\"use strict\";if(typeof define===\"function\"&&define.amd){define([\"jquery\",\"./mouse\",\"../keycode\",\"../version\",\"../widget\"],factory);}else{factory(jQuery);}})(function($){\"use strict\";return $.widget(\"ui.slider\",$.ui.mouse,{version:\"1.13.1\",widgetEventPrefix:\"slide\",options:{animate:false,classes:{\"ui-slider\":\"ui-corner-all\",\"ui-slider-handle\":\"ui-corner-all\",\"ui-slider-range\":\"ui-corner-all ui-widget-header\"},distance:0,max:100,min:0,orientation:\"horizontal\",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this._addClass(\"ui-slider ui-slider-\"+this.orientation,\"ui-widget ui-widget-content\");this._refresh();this._animateOff=false;},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue();},_createHandles:function(){var i,handleCount,options=this.options,existingHandles=this.element.find(\".ui-slider-handle\"),handle=\"<span tabindex='0'></span>\",handles=[];handleCount=(options.values&&options.values.length)||1;if(existingHandles.length>handleCount){existingHandles.slice(handleCount).remove();existingHandles=existingHandles.slice(0,handleCount);}\nfor(i=existingHandles.length;i<handleCount;i++){handles.push(handle);}\nthis.handles=existingHandles.add($(handles.join(\"\")).appendTo(this.element));this._addClass(this.handles,\"ui-slider-handle\",\"ui-state-default\");this.handle=this.handles.eq(0);this.handles.each(function(i){$(this).data(\"ui-slider-handle-index\",i).attr(\"tabIndex\",0);});},_createRange:function(){var options=this.options;if(options.range){if(options.range===true){if(!options.values){options.values=[this._valueMin(),this._valueMin()];}else if(options.values.length&&options.values.length!==2){options.values=[options.values[0],options.values[0]];}else if(Array.isArray(options.values)){options.values=options.values.slice(0);}}\nif(!this.range||!this.range.length){this.range=$(\"<div>\").appendTo(this.element);this._addClass(this.range,\"ui-slider-range\");}else{this._removeClass(this.range,\"ui-slider-range-min ui-slider-range-max\");this.range.css({\"left\":\"\",\"bottom\":\"\"});}\nif(options.range===\"min\"||options.range===\"max\"){this._addClass(this.range,\"ui-slider-range-\"+options.range);}}else{if(this.range){this.range.remove();}\nthis.range=null;}},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles);},_destroy:function(){this.handles.remove();if(this.range){this.range.remove();}\nthis._mouseDestroy();},_mouseCapture:function(event){var position,normValue,distance,closestHandle,index,allowed,offset,mouseOverHandle,that=this,o=this.options;if(o.disabled){return false;}\nthis.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();position={x:event.pageX,y:event.pageY};normValue=this._normValueFromMouse(position);distance=this._valueMax()-this._valueMin()+1;this.handles.each(function(i){var thisDistance=Math.abs(normValue-that.values(i));if((distance>thisDistance)||(distance===thisDistance&&(i===that._lastChangedValue||that.values(i)===o.min))){distance=thisDistance;closestHandle=$(this);index=i;}});allowed=this._start(event,index);if(allowed===false){return false;}\nthis._mouseSliding=true;this._handleIndex=index;this._addClass(closestHandle,null,\"ui-state-active\");closestHandle.trigger(\"focus\");offset=closestHandle.offset();mouseOverHandle=!$(event.target).parents().addBack().is(\".ui-slider-handle\");this._clickOffset=mouseOverHandle?{left:0,top:0}:{left:event.pageX-offset.left-(closestHandle.width()/ 2),top:event.pageY-offset.top-\n(closestHandle.height()/ 2)-\n(parseInt(closestHandle.css(\"borderTopWidth\"),10)||0)-\n(parseInt(closestHandle.css(\"borderBottomWidth\"),10)||0)+\n(parseInt(closestHandle.css(\"marginTop\"),10)||0)};if(!this.handles.hasClass(\"ui-state-hover\")){this._slide(event,index,normValue);}\nthis._animateOff=true;return true;},_mouseStart:function(){return true;},_mouseDrag:function(event){var position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position);this._slide(event,this._handleIndex,normValue);return false;},_mouseStop:function(event){this._removeClass(this.handles,null,\"ui-state-active\");this._mouseSliding=false;this._stop(event,this._handleIndex);this._change(event,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false;},_detectOrientation:function(){this.orientation=(this.options.orientation===\"vertical\")?\"vertical\":\"horizontal\";},_normValueFromMouse:function(position){var pixelTotal,pixelMouse,percentMouse,valueTotal,valueMouse;if(this.orientation===\"horizontal\"){pixelTotal=this.elementSize.width;pixelMouse=position.x-this.elementOffset.left-\n(this._clickOffset?this._clickOffset.left:0);}else{pixelTotal=this.elementSize.height;pixelMouse=position.y-this.elementOffset.top-\n(this._clickOffset?this._clickOffset.top:0);}\npercentMouse=(pixelMouse / pixelTotal);if(percentMouse>1){percentMouse=1;}\nif(percentMouse<0){percentMouse=0;}\nif(this.orientation===\"vertical\"){percentMouse=1-percentMouse;}\nvalueTotal=this._valueMax()-this._valueMin();valueMouse=this._valueMin()+percentMouse*valueTotal;return this._trimAlignValue(valueMouse);},_uiHash:function(index,value,values){var uiHash={handle:this.handles[index],handleIndex:index,value:value!==undefined?value:this.value()};if(this._hasMultipleValues()){uiHash.value=value!==undefined?value:this.values(index);uiHash.values=values||this.values();}\nreturn uiHash;},_hasMultipleValues:function(){return this.options.values&&this.options.values.length;},_start:function(event,index){return this._trigger(\"start\",event,this._uiHash(index));},_slide:function(event,index,newVal){var allowed,otherVal,currentValue=this.value(),newValues=this.values();if(this._hasMultipleValues()){otherVal=this.values(index?0:1);currentValue=this.values(index);if(this.options.values.length===2&&this.options.range===true){newVal=index===0?Math.min(otherVal,newVal):Math.max(otherVal,newVal);}\nnewValues[index]=newVal;}\nif(newVal===currentValue){return;}\nallowed=this._trigger(\"slide\",event,this._uiHash(index,newVal,newValues));if(allowed===false){return;}\nif(this._hasMultipleValues()){this.values(index,newVal);}else{this.value(newVal);}},_stop:function(event,index){this._trigger(\"stop\",event,this._uiHash(index));},_change:function(event,index){if(!this._keySliding&&!this._mouseSliding){this._lastChangedValue=index;this._trigger(\"change\",event,this._uiHash(index));}},value:function(newValue){if(arguments.length){this.options.value=this._trimAlignValue(newValue);this._refreshValue();this._change(null,0);return;}\nreturn this._value();},values:function(index,newValue){var vals,newValues,i;if(arguments.length>1){this.options.values[index]=this._trimAlignValue(newValue);this._refreshValue();this._change(null,index);return;}\nif(arguments.length){if(Array.isArray(arguments[0])){vals=this.options.values;newValues=arguments[0];for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(newValues[i]);this._change(null,i);}\nthis._refreshValue();}else{if(this._hasMultipleValues()){return this._values(index);}else{return this.value();}}}else{return this._values();}},_setOption:function(key,value){var i,valsLength=0;if(key===\"range\"&&this.options.range===true){if(value===\"min\"){this.options.value=this._values(0);this.options.values=null;}else if(value===\"max\"){this.options.value=this._values(this.options.values.length-1);this.options.values=null;}}\nif(Array.isArray(this.options.values)){valsLength=this.options.values.length;}\nthis._super(key,value);switch(key){case\"orientation\":this._detectOrientation();this._removeClass(\"ui-slider-horizontal ui-slider-vertical\")._addClass(\"ui-slider-\"+this.orientation);this._refreshValue();if(this.options.range){this._refreshRange(value);}\nthis.handles.css(value===\"horizontal\"?\"bottom\":\"left\",\"\");break;case\"value\":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case\"values\":this._animateOff=true;this._refreshValue();for(i=valsLength-1;i>=0;i--){this._change(null,i);}\nthis._animateOff=false;break;case\"step\":case\"min\":case\"max\":this._animateOff=true;this._calculateNewMax();this._refreshValue();this._animateOff=false;break;case\"range\":this._animateOff=true;this._refresh();this._animateOff=false;break;}},_setOptionDisabled:function(value){this._super(value);this._toggleClass(null,\"ui-state-disabled\",!!value);},_value:function(){var val=this.options.value;val=this._trimAlignValue(val);return val;},_values:function(index){var val,vals,i;if(arguments.length){val=this.options.values[index];val=this._trimAlignValue(val);return val;}else if(this._hasMultipleValues()){vals=this.options.values.slice();for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(vals[i]);}\nreturn vals;}else{return[];}},_trimAlignValue:function(val){if(val<=this._valueMin()){return this._valueMin();}\nif(val>=this._valueMax()){return this._valueMax();}\nvar step=(this.options.step>0)?this.options.step:1,valModStep=(val-this._valueMin())%step,alignValue=val-valModStep;if(Math.abs(valModStep)*2>=step){alignValue+=(valModStep>0)?step:(-step);}\nreturn parseFloat(alignValue.toFixed(5));},_calculateNewMax:function(){var max=this.options.max,min=this._valueMin(),step=this.options.step,aboveMin=Math.round((max-min)/ step)*step;max=aboveMin+min;if(max>this.options.max){max-=step;}\nthis.max=parseFloat(max.toFixed(this._precision()));},_precision:function(){var precision=this._precisionOf(this.options.step);if(this.options.min!==null){precision=Math.max(precision,this._precisionOf(this.options.min));}\nreturn precision;},_precisionOf:function(num){var str=num.toString(),decimal=str.indexOf(\".\");return decimal===-1?0:str.length-decimal-1;},_valueMin:function(){return this.options.min;},_valueMax:function(){return this.max;},_refreshRange:function(orientation){if(orientation===\"vertical\"){this.range.css({\"width\":\"\",\"left\":\"\"});}\nif(orientation===\"horizontal\"){this.range.css({\"height\":\"\",\"bottom\":\"\"});}},_refreshValue:function(){var lastValPercent,valPercent,value,valueMin,valueMax,oRange=this.options.range,o=this.options,that=this,animate=(!this._animateOff)?o.animate:false,_set={};if(this._hasMultipleValues()){this.handles.each(function(i){valPercent=(that.values(i)-that._valueMin())/(that._valueMax()-\nthat._valueMin())*100;_set[that.orientation===\"horizontal\"?\"left\":\"bottom\"]=valPercent+\"%\";$(this).stop(1,1)[animate?\"animate\":\"css\"](_set,o.animate);if(that.options.range===true){if(that.orientation===\"horizontal\"){if(i===0){that.range.stop(1,1)[animate?\"animate\":\"css\"]({left:valPercent+\"%\"},o.animate);}\nif(i===1){that.range[animate?\"animate\":\"css\"]({width:(valPercent-lastValPercent)+\"%\"},{queue:false,duration:o.animate});}}else{if(i===0){that.range.stop(1,1)[animate?\"animate\":\"css\"]({bottom:(valPercent)+\"%\"},o.animate);}\nif(i===1){that.range[animate?\"animate\":\"css\"]({height:(valPercent-lastValPercent)+\"%\"},{queue:false,duration:o.animate});}}}\nlastValPercent=valPercent;});}else{value=this.value();valueMin=this._valueMin();valueMax=this._valueMax();valPercent=(valueMax!==valueMin)?(value-valueMin)/(valueMax-valueMin)*100:0;_set[this.orientation===\"horizontal\"?\"left\":\"bottom\"]=valPercent+\"%\";this.handle.stop(1,1)[animate?\"animate\":\"css\"](_set,o.animate);if(oRange===\"min\"&&this.orientation===\"horizontal\"){this.range.stop(1,1)[animate?\"animate\":\"css\"]({width:valPercent+\"%\"},o.animate);}\nif(oRange===\"max\"&&this.orientation===\"horizontal\"){this.range.stop(1,1)[animate?\"animate\":\"css\"]({width:(100-valPercent)+\"%\"},o.animate);}\nif(oRange===\"min\"&&this.orientation===\"vertical\"){this.range.stop(1,1)[animate?\"animate\":\"css\"]({height:valPercent+\"%\"},o.animate);}\nif(oRange===\"max\"&&this.orientation===\"vertical\"){this.range.stop(1,1)[animate?\"animate\":\"css\"]({height:(100-valPercent)+\"%\"},o.animate);}}},_handleEvents:{keydown:function(event){var allowed,curVal,newVal,step,index=$(event.target).data(\"ui-slider-handle-index\");switch(event.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:event.preventDefault();if(!this._keySliding){this._keySliding=true;this._addClass($(event.target),null,\"ui-state-active\");allowed=this._start(event,index);if(allowed===false){return;}}\nbreak;}\nstep=this.options.step;if(this._hasMultipleValues()){curVal=newVal=this.values(index);}else{curVal=newVal=this.value();}\nswitch(event.keyCode){case $.ui.keyCode.HOME:newVal=this._valueMin();break;case $.ui.keyCode.END:newVal=this._valueMax();break;case $.ui.keyCode.PAGE_UP:newVal=this._trimAlignValue(curVal+((this._valueMax()-this._valueMin())/ this.numPages));break;case $.ui.keyCode.PAGE_DOWN:newVal=this._trimAlignValue(curVal-((this._valueMax()-this._valueMin())/ this.numPages));break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(curVal===this._valueMax()){return;}\nnewVal=this._trimAlignValue(curVal+step);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(curVal===this._valueMin()){return;}\nnewVal=this._trimAlignValue(curVal-step);break;}\nthis._slide(event,index,newVal);},keyup:function(event){var index=$(event.target).data(\"ui-slider-handle-index\");if(this._keySliding){this._keySliding=false;this._stop(event,index);this._change(event,index);this._removeClass($(event.target),null,\"ui-state-active\");}}}});});","jquery/ui-modules/widgets/sortable.min.js":"/*!\n * jQuery UI Sortable 1.13.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n(function(factory){\"use strict\";if(typeof define===\"function\"&&define.amd){define([\"jquery\",\"./mouse\",\"../data\",\"../ie\",\"../scroll-parent\",\"../version\",\"../widget\"],factory);}else{factory(jQuery);}})(function($){\"use strict\";return $.widget(\"ui.sortable\",$.ui.mouse,{version:\"1.13.1\",widgetEventPrefix:\"sort\",ready:false,options:{appendTo:\"parent\",axis:false,connectWith:false,containment:false,cursor:\"auto\",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:\"original\",items:\"> *\",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:\"default\",tolerance:\"intersect\",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(x,reference,size){return(x>=reference)&&(x<(reference+size));},_isFloating:function(item){return(/left|right/).test(item.css(\"float\"))||(/inline|table-cell/).test(item.css(\"display\"));},_create:function(){this.containerCache={};this._addClass(\"ui-sortable\");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=true;},_setOption:function(key,value){this._super(key,value);if(key===\"handle\"){this._setHandleClassName();}},_setHandleClassName:function(){var that=this;this._removeClass(this.element.find(\".ui-sortable-handle\"),\"ui-sortable-handle\");$.each(this.items,function(){that._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,\"ui-sortable-handle\");});},_destroy:function(){this._mouseDestroy();for(var i=this.items.length-1;i>=0;i--){this.items[i].item.removeData(this.widgetName+\"-item\");}\nreturn this;},_mouseCapture:function(event,overrideHandle){var currentItem=null,validHandle=false,that=this;if(this.reverting){return false;}\nif(this.options.disabled||this.options.type===\"static\"){return false;}\nthis._refreshItems(event);$(event.target).parents().each(function(){if($.data(this,that.widgetName+\"-item\")===that){currentItem=$(this);return false;}});if($.data(event.target,that.widgetName+\"-item\")===that){currentItem=$(event.target);}\nif(!currentItem){return false;}\nif(this.options.handle&&!overrideHandle){$(this.options.handle,currentItem).find(\"*\").addBack().each(function(){if(this===event.target){validHandle=true;}});if(!validHandle){return false;}}\nthis.currentItem=currentItem;this._removeCurrentsFromItems();return true;},_mouseStart:function(event,overrideHandle,noActivation){var i,body,o=this.options;this.currentContainer=this;this.refreshPositions();this.appendTo=$(o.appendTo!==\"parent\"?o.appendTo:this.currentItem.parent());this.helper=this._createHelper(event);this._cacheHelperProportions();this._cacheMargins();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},relative:this._getRelativeOffset()});this.helper.css(\"position\",\"absolute\");this.cssPosition=this.helper.css(\"position\");if(o.cursorAt){this._adjustOffsetFromHelper(o.cursorAt);}\nthis.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide();}\nthis._createPlaceholder();this.scrollParent=this.placeholder.scrollParent();$.extend(this.offset,{parent:this._getParentOffset()});if(o.containment){this._setContainment();}\nif(o.cursor&&o.cursor!==\"auto\"){body=this.document.find(\"body\");this.storedCursor=body.css(\"cursor\");body.css(\"cursor\",o.cursor);this.storedStylesheet=$(\"<style>*{ cursor: \"+o.cursor+\" !important; }</style>\").appendTo(body);}\nif(o.zIndex){if(this.helper.css(\"zIndex\")){this._storedZIndex=this.helper.css(\"zIndex\");}\nthis.helper.css(\"zIndex\",o.zIndex);}\nif(o.opacity){if(this.helper.css(\"opacity\")){this._storedOpacity=this.helper.css(\"opacity\");}\nthis.helper.css(\"opacity\",o.opacity);}\nif(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!==\"HTML\"){this.overflowOffset=this.scrollParent.offset();}\nthis._trigger(\"start\",event,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions();}\nif(!noActivation){for(i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger(\"activate\",event,this._uiHash(this));}}\nif($.ui.ddmanager){$.ui.ddmanager.current=this;}\nif($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}\nthis.dragging=true;this._addClass(this.helper,\"ui-sortable-helper\");if(!this.helper.parent().is(this.appendTo)){this.helper.detach().appendTo(this.appendTo);this.offset.parent=this._getParentOffset();}\nthis.position=this.originalPosition=this._generatePosition(event);this.originalPageX=event.pageX;this.originalPageY=event.pageY;this.lastPositionAbs=this.positionAbs=this._convertPositionTo(\"absolute\");this._mouseDrag(event);return true;},_scroll:function(event){var o=this.options,scrolled=false;if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!==\"HTML\"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-\nevent.pageY<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop+o.scrollSpeed;}else if(event.pageY-this.overflowOffset.top<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop-o.scrollSpeed;}\nif((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-\nevent.pageX<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft+o.scrollSpeed;}else if(event.pageX-this.overflowOffset.left<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft-o.scrollSpeed;}}else{if(event.pageY-this.document.scrollTop()<o.scrollSensitivity){scrolled=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed);}else if(this.window.height()-(event.pageY-this.document.scrollTop())<o.scrollSensitivity){scrolled=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed);}\nif(event.pageX-this.document.scrollLeft()<o.scrollSensitivity){scrolled=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed);}else if(this.window.width()-(event.pageX-this.document.scrollLeft())<o.scrollSensitivity){scrolled=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed);}}\nreturn scrolled;},_mouseDrag:function(event){var i,item,itemElement,intersection,o=this.options;this.position=this._generatePosition(event);this.positionAbs=this._convertPositionTo(\"absolute\");if(!this.options.axis||this.options.axis!==\"y\"){this.helper[0].style.left=this.position.left+\"px\";}\nif(!this.options.axis||this.options.axis!==\"x\"){this.helper[0].style.top=this.position.top+\"px\";}\nif(o.scroll){if(this._scroll(event)!==false){this._refreshItemPositions(true);if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}}}\nthis.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()};for(i=this.items.length-1;i>=0;i--){item=this.items[i];itemElement=item.item[0];intersection=this._intersectsWithPointer(item);if(!intersection){continue;}\nif(item.instance!==this.currentContainer){continue;}\nif(itemElement!==this.currentItem[0]&&this.placeholder[intersection===1?\"next\":\"prev\"]()[0]!==itemElement&&!$.contains(this.placeholder[0],itemElement)&&(this.options.type===\"semi-dynamic\"?!$.contains(this.element[0],itemElement):true)){this.direction=intersection===1?\"down\":\"up\";if(this.options.tolerance===\"pointer\"||this._intersectsWithSides(item)){this._rearrange(event,item);}else{break;}\nthis._trigger(\"change\",event,this._uiHash());break;}}\nthis._contactContainers(event);if($.ui.ddmanager){$.ui.ddmanager.drag(this,event);}\nthis._trigger(\"sort\",event,this._uiHash());this.lastPositionAbs=this.positionAbs;return false;},_mouseStop:function(event,noPropagation){if(!event){return;}\nif($.ui.ddmanager&&!this.options.dropBehaviour){$.ui.ddmanager.drop(this,event);}\nif(this.options.revert){var that=this,cur=this.placeholder.offset(),axis=this.options.axis,animation={};if(!axis||axis===\"x\"){animation.left=cur.left-this.offset.parent.left-this.margins.left+\n(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft);}\nif(!axis||axis===\"y\"){animation.top=cur.top-this.offset.parent.top-this.margins.top+\n(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop);}\nthis.reverting=true;$(this.helper).animate(animation,parseInt(this.options.revert,10)||500,function(){that._clear(event);});}else{this._clear(event,noPropagation);}\nreturn false;},cancel:function(){if(this.dragging){this._mouseUp(new $.Event(\"mouseup\",{target:null}));if(this.options.helper===\"original\"){this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,\"ui-sortable-helper\");}else{this.currentItem.show();}\nfor(var i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger(\"deactivate\",null,this._uiHash(this));if(this.containers[i].containerCache.over){this.containers[i]._trigger(\"out\",null,this._uiHash(this));this.containers[i].containerCache.over=0;}}}\nif(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0]);}\nif(this.options.helper!==\"original\"&&this.helper&&this.helper[0].parentNode){this.helper.remove();}\n$.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){$(this.domPosition.prev).after(this.currentItem);}else{$(this.domPosition.parent).prepend(this.currentItem);}}\nreturn this;},serialize:function(o){var items=this._getItemsAsjQuery(o&&o.connected),str=[];o=o||{};$(items).each(function(){var res=($(o.item||this).attr(o.attribute||\"id\")||\"\").match(o.expression||(/(.+)[\\-=_](.+)/));if(res){str.push((o.key||res[1]+\"[]\")+\"=\"+(o.key&&o.expression?res[1]:res[2]));}});if(!str.length&&o.key){str.push(o.key+\"=\");}\nreturn str.join(\"&\");},toArray:function(o){var items=this._getItemsAsjQuery(o&&o.connected),ret=[];o=o||{};items.each(function(){ret.push($(o.item||this).attr(o.attribute||\"id\")||\"\");});return ret;},_intersectsWith:function(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height,l=item.left,r=l+item.width,t=item.top,b=t+item.height,dyClick=this.offset.click.top,dxClick=this.offset.click.left,isOverElementHeight=(this.options.axis===\"x\")||((y1+dyClick)>t&&(y1+dyClick)<b),isOverElementWidth=(this.options.axis===\"y\")||((x1+dxClick)>l&&(x1+dxClick)<r),isOverElement=isOverElementHeight&&isOverElementWidth;if(this.options.tolerance===\"pointer\"||this.options.forcePointerForContainers||(this.options.tolerance!==\"pointer\"&&this.helperProportions[this.floating?\"width\":\"height\"]>item[this.floating?\"width\":\"height\"])){return isOverElement;}else{return(l<x1+(this.helperProportions.width / 2)&&x2-(this.helperProportions.width / 2)<r&&t<y1+(this.helperProportions.height / 2)&&y2-(this.helperProportions.height / 2)<b);}},_intersectsWithPointer:function(item){var verticalDirection,horizontalDirection,isOverElementHeight=(this.options.axis===\"x\")||this._isOverAxis(this.positionAbs.top+this.offset.click.top,item.top,item.height),isOverElementWidth=(this.options.axis===\"y\")||this._isOverAxis(this.positionAbs.left+this.offset.click.left,item.left,item.width),isOverElement=isOverElementHeight&&isOverElementWidth;if(!isOverElement){return false;}\nverticalDirection=this.dragDirection.vertical;horizontalDirection=this.dragDirection.horizontal;return this.floating?((horizontalDirection===\"right\"||verticalDirection===\"down\")?2:1):(verticalDirection&&(verticalDirection===\"down\"?2:1));},_intersectsWithSides:function(item){var isOverBottomHalf=this._isOverAxis(this.positionAbs.top+\nthis.offset.click.top,item.top+(item.height / 2),item.height),isOverRightHalf=this._isOverAxis(this.positionAbs.left+\nthis.offset.click.left,item.left+(item.width / 2),item.width),verticalDirection=this.dragDirection.vertical,horizontalDirection=this.dragDirection.horizontal;if(this.floating&&horizontalDirection){return((horizontalDirection===\"right\"&&isOverRightHalf)||(horizontalDirection===\"left\"&&!isOverRightHalf));}else{return verticalDirection&&((verticalDirection===\"down\"&&isOverBottomHalf)||(verticalDirection===\"up\"&&!isOverBottomHalf));}},_getDragVerticalDirection:function(){var delta=this.positionAbs.top-this.lastPositionAbs.top;return delta!==0&&(delta>0?\"down\":\"up\");},_getDragHorizontalDirection:function(){var delta=this.positionAbs.left-this.lastPositionAbs.left;return delta!==0&&(delta>0?\"right\":\"left\");},refresh:function(event){this._refreshItems(event);this._setHandleClassName();this.refreshPositions();return this;},_connectWith:function(){var options=this.options;return options.connectWith.constructor===String?[options.connectWith]:options.connectWith;},_getItemsAsjQuery:function(connected){var i,j,cur,inst,items=[],queries=[],connectWith=this._connectWith();if(connectWith&&connected){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i],this.document[0]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([typeof inst.options.items===\"function\"?inst.options.items.call(inst.element):$(inst.options.items,inst.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"),inst]);}}}}\nqueries.push([typeof this.options.items===\"function\"?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"),this]);function addItems(){items.push(this);}\nfor(i=queries.length-1;i>=0;i--){queries[i][0].each(addItems);}\nreturn $(items);},_removeCurrentsFromItems:function(){var list=this.currentItem.find(\":data(\"+this.widgetName+\"-item)\");this.items=$.grep(this.items,function(item){for(var j=0;j<list.length;j++){if(list[j]===item.item[0]){return false;}}\nreturn true;});},_refreshItems:function(event){this.items=[];this.containers=[this];var i,j,cur,inst,targetData,_queries,item,queriesLength,items=this.items,queries=[[typeof this.options.items===\"function\"?this.options.items.call(this.element[0],event,{item:this.currentItem}):$(this.options.items,this.element),this]],connectWith=this._connectWith();if(connectWith&&this.ready){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i],this.document[0]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([typeof inst.options.items===\"function\"?inst.options.items.call(inst.element[0],event,{item:this.currentItem}):$(inst.options.items,inst.element),inst]);this.containers.push(inst);}}}}\nfor(i=queries.length-1;i>=0;i--){targetData=queries[i][1];_queries=queries[i][0];for(j=0,queriesLength=_queries.length;j<queriesLength;j++){item=$(_queries[j]);item.data(this.widgetName+\"-item\",targetData);items.push({item:item,instance:targetData,width:0,height:0,left:0,top:0});}}},_refreshItemPositions:function(fast){var i,item,t,p;for(i=this.items.length-1;i>=0;i--){item=this.items[i];if(this.currentContainer&&item.instance!==this.currentContainer&&item.item[0]!==this.currentItem[0]){continue;}\nt=this.options.toleranceElement?$(this.options.toleranceElement,item.item):item.item;if(!fast){item.width=t.outerWidth();item.height=t.outerHeight();}\np=t.offset();item.left=p.left;item.top=p.top;}},refreshPositions:function(fast){this.floating=this.items.length?this.options.axis===\"x\"||this._isFloating(this.items[0].item):false;if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset();}\nthis._refreshItemPositions(fast);var i,p;if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this);}else{for(i=this.containers.length-1;i>=0;i--){p=this.containers[i].element.offset();this.containers[i].containerCache.left=p.left;this.containers[i].containerCache.top=p.top;this.containers[i].containerCache.width=this.containers[i].element.outerWidth();this.containers[i].containerCache.height=this.containers[i].element.outerHeight();}}\nreturn this;},_createPlaceholder:function(that){that=that||this;var className,nodeName,o=that.options;if(!o.placeholder||o.placeholder.constructor===String){className=o.placeholder;nodeName=that.currentItem[0].nodeName.toLowerCase();o.placeholder={element:function(){var element=$(\"<\"+nodeName+\">\",that.document[0]);that._addClass(element,\"ui-sortable-placeholder\",className||that.currentItem[0].className)._removeClass(element,\"ui-sortable-helper\");if(nodeName===\"tbody\"){that._createTrPlaceholder(that.currentItem.find(\"tr\").eq(0),$(\"<tr>\",that.document[0]).appendTo(element));}else if(nodeName===\"tr\"){that._createTrPlaceholder(that.currentItem,element);}else if(nodeName===\"img\"){element.attr(\"src\",that.currentItem.attr(\"src\"));}\nif(!className){element.css(\"visibility\",\"hidden\");}\nreturn element;},update:function(container,p){if(className&&!o.forcePlaceholderSize){return;}\nif(!p.height()||(o.forcePlaceholderSize&&(nodeName===\"tbody\"||nodeName===\"tr\"))){p.height(that.currentItem.innerHeight()-\nparseInt(that.currentItem.css(\"paddingTop\")||0,10)-\nparseInt(that.currentItem.css(\"paddingBottom\")||0,10));}\nif(!p.width()){p.width(that.currentItem.innerWidth()-\nparseInt(that.currentItem.css(\"paddingLeft\")||0,10)-\nparseInt(that.currentItem.css(\"paddingRight\")||0,10));}}};}\nthat.placeholder=$(o.placeholder.element.call(that.element,that.currentItem));that.currentItem.after(that.placeholder);o.placeholder.update(that,that.placeholder);},_createTrPlaceholder:function(sourceTr,targetTr){var that=this;sourceTr.children().each(function(){$(\"<td>&#160;</td>\",that.document[0]).attr(\"colspan\",$(this).attr(\"colspan\")||1).appendTo(targetTr);});},_contactContainers:function(event){var i,j,dist,itemWithLeastDistance,posProperty,sizeProperty,cur,nearBottom,floating,axis,innermostContainer=null,innermostIndex=null;for(i=this.containers.length-1;i>=0;i--){if($.contains(this.currentItem[0],this.containers[i].element[0])){continue;}\nif(this._intersectsWith(this.containers[i].containerCache)){if(innermostContainer&&$.contains(this.containers[i].element[0],innermostContainer.element[0])){continue;}\ninnermostContainer=this.containers[i];innermostIndex=i;}else{if(this.containers[i].containerCache.over){this.containers[i]._trigger(\"out\",event,this._uiHash(this));this.containers[i].containerCache.over=0;}}}\nif(!innermostContainer){return;}\nif(this.containers.length===1){if(!this.containers[innermostIndex].containerCache.over){this.containers[innermostIndex]._trigger(\"over\",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1;}}else{dist=10000;itemWithLeastDistance=null;floating=innermostContainer.floating||this._isFloating(this.currentItem);posProperty=floating?\"left\":\"top\";sizeProperty=floating?\"width\":\"height\";axis=floating?\"pageX\":\"pageY\";for(j=this.items.length-1;j>=0;j--){if(!$.contains(this.containers[innermostIndex].element[0],this.items[j].item[0])){continue;}\nif(this.items[j].item[0]===this.currentItem[0]){continue;}\ncur=this.items[j].item.offset()[posProperty];nearBottom=false;if(event[axis]-cur>this.items[j][sizeProperty]/ 2){nearBottom=true;}\nif(Math.abs(event[axis]-cur)<dist){dist=Math.abs(event[axis]-cur);itemWithLeastDistance=this.items[j];this.direction=nearBottom?\"up\":\"down\";}}\nif(!itemWithLeastDistance&&!this.options.dropOnEmpty){return;}\nif(this.currentContainer===this.containers[innermostIndex]){if(!this.currentContainer.containerCache.over){this.containers[innermostIndex]._trigger(\"over\",event,this._uiHash());this.currentContainer.containerCache.over=1;}\nreturn;}\nif(itemWithLeastDistance){this._rearrange(event,itemWithLeastDistance,null,true);}else{this._rearrange(event,null,this.containers[innermostIndex].element,true);}\nthis._trigger(\"change\",event,this._uiHash());this.containers[innermostIndex]._trigger(\"change\",event,this._uiHash(this));this.currentContainer=this.containers[innermostIndex];this.options.placeholder.update(this.currentContainer,this.placeholder);this.scrollParent=this.placeholder.scrollParent();if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!==\"HTML\"){this.overflowOffset=this.scrollParent.offset();}\nthis.containers[innermostIndex]._trigger(\"over\",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1;}},_createHelper:function(event){var o=this.options,helper=typeof o.helper===\"function\"?$(o.helper.apply(this.element[0],[event,this.currentItem])):(o.helper===\"clone\"?this.currentItem.clone():this.currentItem);if(!helper.parents(\"body\").length){this.appendTo[0].appendChild(helper[0]);}\nif(helper[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css(\"position\"),top:this.currentItem.css(\"top\"),left:this.currentItem.css(\"left\")};}\nif(!helper[0].style.width||o.forceHelperSize){helper.width(this.currentItem.width());}\nif(!helper[0].style.height||o.forceHelperSize){helper.height(this.currentItem.height());}\nreturn helper;},_adjustOffsetFromHelper:function(obj){if(typeof obj===\"string\"){obj=obj.split(\" \");}\nif(Array.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0};}\nif(\"left\"in obj){this.offset.click.left=obj.left+this.margins.left;}\nif(\"right\"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;}\nif(\"top\"in obj){this.offset.click.top=obj.top+this.margins.top;}\nif(\"bottom\"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top;}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();if(this.cssPosition===\"absolute\"&&this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop();}\nif(this.offsetParent[0]===this.document[0].body||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()===\"html\"&&$.ui.ie)){po={top:0,left:0};}\nreturn{top:po.top+(parseInt(this.offsetParent.css(\"borderTopWidth\"),10)||0),left:po.left+(parseInt(this.offsetParent.css(\"borderLeftWidth\"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition===\"relative\"){var p=this.currentItem.position();return{top:p.top-(parseInt(this.helper.css(\"top\"),10)||0)+\nthis.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css(\"left\"),10)||0)+\nthis.scrollParent.scrollLeft()};}else{return{top:0,left:0};}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css(\"marginLeft\"),10)||0),top:(parseInt(this.currentItem.css(\"marginTop\"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var ce,co,over,o=this.options;if(o.containment===\"parent\"){o.containment=this.helper[0].parentNode;}\nif(o.containment===\"document\"||o.containment===\"window\"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,o.containment===\"document\"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(o.containment===\"document\"?(this.document.height()||document.body.parentNode.scrollHeight):this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];}\nif(!(/^(document|window|parent)$/).test(o.containment)){ce=$(o.containment)[0];co=$(o.containment).offset();over=($(ce).css(\"overflow\")!==\"hidden\");this.containment=[co.left+(parseInt($(ce).css(\"borderLeftWidth\"),10)||0)+\n(parseInt($(ce).css(\"paddingLeft\"),10)||0)-this.margins.left,co.top+(parseInt($(ce).css(\"borderTopWidth\"),10)||0)+\n(parseInt($(ce).css(\"paddingTop\"),10)||0)-this.margins.top,co.left+(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-\n(parseInt($(ce).css(\"borderLeftWidth\"),10)||0)-\n(parseInt($(ce).css(\"paddingRight\"),10)||0)-\nthis.helperProportions.width-this.margins.left,co.top+(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-\n(parseInt($(ce).css(\"borderTopWidth\"),10)||0)-\n(parseInt($(ce).css(\"paddingBottom\"),10)||0)-\nthis.helperProportions.height-this.margins.top];}},_convertPositionTo:function(d,pos){if(!pos){pos=this.position;}\nvar mod=d===\"absolute\"?1:-1,scroll=this.cssPosition===\"absolute\"&&!(this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName);return{top:(pos.top+\nthis.offset.relative.top*mod+\nthis.offset.parent.top*mod-\n((this.cssPosition===\"fixed\"?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop()))*mod)),left:(pos.left+\nthis.offset.relative.left*mod+\nthis.offset.parent.left*mod-\n((this.cssPosition===\"fixed\"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod))};},_generatePosition:function(event){var top,left,o=this.options,pageX=event.pageX,pageY=event.pageY,scroll=this.cssPosition===\"absolute\"&&!(this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName);if(this.cssPosition===\"relative\"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset();}\nif(this.originalPosition){if(this.containment){if(event.pageX-this.offset.click.left<this.containment[0]){pageX=this.containment[0]+this.offset.click.left;}\nif(event.pageY-this.offset.click.top<this.containment[1]){pageY=this.containment[1]+this.offset.click.top;}\nif(event.pageX-this.offset.click.left>this.containment[2]){pageX=this.containment[2]+this.offset.click.left;}\nif(event.pageY-this.offset.click.top>this.containment[3]){pageY=this.containment[3]+this.offset.click.top;}}\nif(o.grid){top=this.originalPageY+Math.round((pageY-this.originalPageY)/\no.grid[1])*o.grid[1];pageY=this.containment?((top-this.offset.click.top>=this.containment[1]&&top-this.offset.click.top<=this.containment[3])?top:((top-this.offset.click.top>=this.containment[1])?top-o.grid[1]:top+o.grid[1])):top;left=this.originalPageX+Math.round((pageX-this.originalPageX)/\no.grid[0])*o.grid[0];pageX=this.containment?((left-this.offset.click.left>=this.containment[0]&&left-this.offset.click.left<=this.containment[2])?left:((left-this.offset.click.left>=this.containment[0])?left-o.grid[0]:left+o.grid[0])):left;}}\nreturn{top:(pageY-\nthis.offset.click.top-\nthis.offset.relative.top-\nthis.offset.parent.top+\n((this.cssPosition===\"fixed\"?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop())))),left:(pageX-\nthis.offset.click.left-\nthis.offset.relative.left-\nthis.offset.parent.left+\n((this.cssPosition===\"fixed\"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())))};},_rearrange:function(event,i,a,hardRefresh){if(a){a[0].appendChild(this.placeholder[0]);}else{i.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction===\"down\"?i.item[0]:i.item[0].nextSibling));}\nthis.counter=this.counter?++this.counter:1;var counter=this.counter;this._delay(function(){if(counter===this.counter){this.refreshPositions(!hardRefresh);}});},_clear:function(event,noPropagation){this.reverting=false;var i,delayedTriggers=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem);}\nthis._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(i in this._storedCSS){if(this._storedCSS[i]===\"auto\"||this._storedCSS[i]===\"static\"){this._storedCSS[i]=\"\";}}\nthis.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,\"ui-sortable-helper\");}else{this.currentItem.show();}\nif(this.fromOutside&&!noPropagation){delayedTriggers.push(function(event){this._trigger(\"receive\",event,this._uiHash(this.fromOutside));});}\nif((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(\".ui-sortable-helper\")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!noPropagation){delayedTriggers.push(function(event){this._trigger(\"update\",event,this._uiHash());});}\nif(this!==this.currentContainer){if(!noPropagation){delayedTriggers.push(function(event){this._trigger(\"remove\",event,this._uiHash());});delayedTriggers.push((function(c){return function(event){c._trigger(\"receive\",event,this._uiHash(this));};}).call(this,this.currentContainer));delayedTriggers.push((function(c){return function(event){c._trigger(\"update\",event,this._uiHash(this));};}).call(this,this.currentContainer));}}\nfunction delayEvent(type,instance,container){return function(event){container._trigger(type,event,instance._uiHash(instance));};}\nfor(i=this.containers.length-1;i>=0;i--){if(!noPropagation){delayedTriggers.push(delayEvent(\"deactivate\",this,this.containers[i]));}\nif(this.containers[i].containerCache.over){delayedTriggers.push(delayEvent(\"out\",this,this.containers[i]));this.containers[i].containerCache.over=0;}}\nif(this.storedCursor){this.document.find(\"body\").css(\"cursor\",this.storedCursor);this.storedStylesheet.remove();}\nif(this._storedOpacity){this.helper.css(\"opacity\",this._storedOpacity);}\nif(this._storedZIndex){this.helper.css(\"zIndex\",this._storedZIndex===\"auto\"?\"\":this._storedZIndex);}\nthis.dragging=false;if(!noPropagation){this._trigger(\"beforeStop\",event,this._uiHash());}\nthis.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(!this.cancelHelperRemoval){if(this.helper[0]!==this.currentItem[0]){this.helper.remove();}\nthis.helper=null;}\nif(!noPropagation){for(i=0;i<delayedTriggers.length;i++){delayedTriggers[i].call(this,event);}\nthis._trigger(\"stop\",event,this._uiHash());}\nthis.fromOutside=false;return!this.cancelHelperRemoval;},_trigger:function(){if($.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel();}},_uiHash:function(_inst){var inst=_inst||this;return{helper:inst.helper,placeholder:inst.placeholder||$([]),position:inst.position,originalPosition:inst.originalPosition,offset:inst.positionAbs,item:inst.currentItem,sender:_inst?_inst.element:null};}});});","jquery/ui-modules/widgets/spinner.min.js":"/*!\n * jQuery UI Spinner 1.13.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n(function(factory){\"use strict\";if(typeof define===\"function\"&&define.amd){define([\"jquery\",\"./button\",\"../version\",\"../keycode\",\"../safe-active-element\",\"../widget\"],factory);}else{factory(jQuery);}})(function($){\"use strict\";function spinnerModifier(fn){return function(){var previous=this.element.val();fn.apply(this,arguments);this._refresh();if(previous!==this.element.val()){this._trigger(\"change\");}};}\n$.widget(\"ui.spinner\",{version:\"1.13.1\",defaultElement:\"<input>\",widgetEventPrefix:\"spin\",options:{classes:{\"ui-spinner\":\"ui-corner-all\",\"ui-spinner-down\":\"ui-corner-br\",\"ui-spinner-up\":\"ui-corner-tr\"},culture:null,icons:{down:\"ui-icon-triangle-1-s\",up:\"ui-icon-triangle-1-n\"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption(\"max\",this.options.max);this._setOption(\"min\",this.options.min);this._setOption(\"step\",this.options.step);if(this.value()!==\"\"){this._value(this.element.val(),true);}\nthis._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr(\"autocomplete\");}});},_getCreateOptions:function(){var options=this._super();var element=this.element;$.each([\"min\",\"max\",\"step\"],function(i,option){var value=element.attr(option);if(value!=null&&value.length){options[option]=value;}});return options;},_events:{keydown:function(event){if(this._start(event)&&this._keydown(event)){event.preventDefault();}},keyup:\"_stop\",focus:function(){this.previous=this.element.val();},blur:function(event){if(this.cancelBlur){delete this.cancelBlur;return;}\nthis._stop();this._refresh();if(this.previous!==this.element.val()){this._trigger(\"change\",event);}},mousewheel:function(event,delta){var activeElement=$.ui.safeActiveElement(this.document[0]);var isActive=this.element[0]===activeElement;if(!isActive||!delta){return;}\nif(!this.spinning&&!this._start(event)){return false;}\nthis._spin((delta>0?1:-1)*this.options.step,event);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){if(this.spinning){this._stop(event);}},100);event.preventDefault();},\"mousedown .ui-spinner-button\":function(event){var previous;previous=this.element[0]===$.ui.safeActiveElement(this.document[0])?this.previous:this.element.val();function checkFocus(){var isActive=this.element[0]===$.ui.safeActiveElement(this.document[0]);if(!isActive){this.element.trigger(\"focus\");this.previous=previous;this._delay(function(){this.previous=previous;});}}\nevent.preventDefault();checkFocus.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;checkFocus.call(this);});if(this._start(event)===false){return;}\nthis._repeat(null,$(event.currentTarget).hasClass(\"ui-spinner-up\")?1:-1,event);},\"mouseup .ui-spinner-button\":\"_stop\",\"mouseenter .ui-spinner-button\":function(event){if(!$(event.currentTarget).hasClass(\"ui-state-active\")){return;}\nif(this._start(event)===false){return false;}\nthis._repeat(null,$(event.currentTarget).hasClass(\"ui-spinner-up\")?1:-1,event);},\"mouseleave .ui-spinner-button\":\"_stop\"},_enhance:function(){this.uiSpinner=this.element.attr(\"autocomplete\",\"off\").wrap(\"<span>\").parent().append(\"<a></a><a></a>\");},_draw:function(){this._enhance();this._addClass(this.uiSpinner,\"ui-spinner\",\"ui-widget ui-widget-content\");this._addClass(\"ui-spinner-input\");this.element.attr(\"role\",\"spinbutton\");this.buttons=this.uiSpinner.children(\"a\").attr(\"tabIndex\",-1).attr(\"aria-hidden\",true).button({classes:{\"ui-button\":\"\"}});this._removeClass(this.buttons,\"ui-corner-all\");this._addClass(this.buttons.first(),\"ui-spinner-button ui-spinner-up\");this._addClass(this.buttons.last(),\"ui-spinner-button ui-spinner-down\");this.buttons.first().button({\"icon\":this.options.icons.up,\"showLabel\":false});this.buttons.last().button({\"icon\":this.options.icons.down,\"showLabel\":false});if(this.buttons.height()>Math.ceil(this.uiSpinner.height()*0.5)&&this.uiSpinner.height()>0){this.uiSpinner.height(this.uiSpinner.height());}},_keydown:function(event){var options=this.options,keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.UP:this._repeat(null,1,event);return true;case keyCode.DOWN:this._repeat(null,-1,event);return true;case keyCode.PAGE_UP:this._repeat(null,options.page,event);return true;case keyCode.PAGE_DOWN:this._repeat(null,-options.page,event);return true;}\nreturn false;},_start:function(event){if(!this.spinning&&this._trigger(\"start\",event)===false){return false;}\nif(!this.counter){this.counter=1;}\nthis.spinning=true;return true;},_repeat:function(i,steps,event){i=i||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,steps,event);},i);this._spin(steps*this.options.step,event);},_spin:function(step,event){var value=this.value()||0;if(!this.counter){this.counter=1;}\nvalue=this._adjustValue(value+step*this._increment(this.counter));if(!this.spinning||this._trigger(\"spin\",event,{value:value})!==false){this._value(value);this.counter++;}},_increment:function(i){var incremental=this.options.incremental;if(incremental){return typeof incremental===\"function\"?incremental(i):Math.floor(i*i*i / 50000-i*i / 500+17*i / 200+1);}\nreturn 1;},_precision:function(){var precision=this._precisionOf(this.options.step);if(this.options.min!==null){precision=Math.max(precision,this._precisionOf(this.options.min));}\nreturn precision;},_precisionOf:function(num){var str=num.toString(),decimal=str.indexOf(\".\");return decimal===-1?0:str.length-decimal-1;},_adjustValue:function(value){var base,aboveMin,options=this.options;base=options.min!==null?options.min:0;aboveMin=value-base;aboveMin=Math.round(aboveMin / options.step)*options.step;value=base+aboveMin;value=parseFloat(value.toFixed(this._precision()));if(options.max!==null&&value>options.max){return options.max;}\nif(options.min!==null&&value<options.min){return options.min;}\nreturn value;},_stop:function(event){if(!this.spinning){return;}\nclearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger(\"stop\",event);},_setOption:function(key,value){var prevValue,first,last;if(key===\"culture\"||key===\"numberFormat\"){prevValue=this._parse(this.element.val());this.options[key]=value;this.element.val(this._format(prevValue));return;}\nif(key===\"max\"||key===\"min\"||key===\"step\"){if(typeof value===\"string\"){value=this._parse(value);}}\nif(key===\"icons\"){first=this.buttons.first().find(\".ui-icon\");this._removeClass(first,null,this.options.icons.up);this._addClass(first,null,value.up);last=this.buttons.last().find(\".ui-icon\");this._removeClass(last,null,this.options.icons.down);this._addClass(last,null,value.down);}\nthis._super(key,value);},_setOptionDisabled:function(value){this._super(value);this._toggleClass(this.uiSpinner,null,\"ui-state-disabled\",!!value);this.element.prop(\"disabled\",!!value);this.buttons.button(value?\"disable\":\"enable\");},_setOptions:spinnerModifier(function(options){this._super(options);}),_parse:function(val){if(typeof val===\"string\"&&val!==\"\"){val=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(val,10,this.options.culture):+val;}\nreturn val===\"\"||isNaN(val)?null:val;},_format:function(value){if(value===\"\"){return\"\";}\nreturn window.Globalize&&this.options.numberFormat?Globalize.format(value,this.options.numberFormat,this.options.culture):value;},_refresh:function(){this.element.attr({\"aria-valuemin\":this.options.min,\"aria-valuemax\":this.options.max,\"aria-valuenow\":this._parse(this.element.val())});},isValid:function(){var value=this.value();if(value===null){return false;}\nreturn value===this._adjustValue(value);},_value:function(value,allowAny){var parsed;if(value!==\"\"){parsed=this._parse(value);if(parsed!==null){if(!allowAny){parsed=this._adjustValue(parsed);}\nvalue=this._format(parsed);}}\nthis.element.val(value);this._refresh();},_destroy:function(){this.element.prop(\"disabled\",false).removeAttr(\"autocomplete role aria-valuemin aria-valuemax aria-valuenow\");this.uiSpinner.replaceWith(this.element);},stepUp:spinnerModifier(function(steps){this._stepUp(steps);}),_stepUp:function(steps){if(this._start()){this._spin((steps||1)*this.options.step);this._stop();}},stepDown:spinnerModifier(function(steps){this._stepDown(steps);}),_stepDown:function(steps){if(this._start()){this._spin((steps||1)*-this.options.step);this._stop();}},pageUp:spinnerModifier(function(pages){this._stepUp((pages||1)*this.options.page);}),pageDown:spinnerModifier(function(pages){this._stepDown((pages||1)*this.options.page);}),value:function(newVal){if(!arguments.length){return this._parse(this.element.val());}\nspinnerModifier(this._value).call(this,newVal);},widget:function(){return this.uiSpinner;}});if($.uiBackCompat!==false){$.widget(\"ui.spinner\",$.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr(\"autocomplete\",\"off\").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());},_uiSpinnerHtml:function(){return\"<span>\";},_buttonHtml:function(){return\"<a></a><a></a>\";}});}\nreturn $.ui.spinner;});","jquery/ui-modules/widgets/tabs.min.js":"/*!\n * jQuery UI Tabs 1.13.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n(function(factory){\"use strict\";if(typeof define===\"function\"&&define.amd){define([\"jquery\",\"../keycode\",\"../safe-active-element\",\"../unique-id\",\"../version\",\"../widget\"],factory);}else{factory(jQuery);}})(function($){\"use strict\";$.widget(\"ui.tabs\",{version:\"1.13.1\",delay:300,options:{active:null,classes:{\"ui-tabs\":\"ui-corner-all\",\"ui-tabs-nav\":\"ui-corner-all\",\"ui-tabs-panel\":\"ui-corner-bottom\",\"ui-tabs-tab\":\"ui-corner-top\"},collapsible:false,event:\"click\",heightStyle:\"content\",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(function(){var rhash=/#.*$/;return function(anchor){var anchorUrl,locationUrl;anchorUrl=anchor.href.replace(rhash,\"\");locationUrl=location.href.replace(rhash,\"\");try{anchorUrl=decodeURIComponent(anchorUrl);}catch(error){}\ntry{locationUrl=decodeURIComponent(locationUrl);}catch(error){}\nreturn anchor.hash.length>1&&anchorUrl===locationUrl;};})(),_create:function(){var that=this,options=this.options;this.running=false;this._addClass(\"ui-tabs\",\"ui-widget ui-widget-content\");this._toggleClass(\"ui-tabs-collapsible\",null,options.collapsible);this._processTabs();options.active=this._initialActive();if(Array.isArray(options.disabled)){options.disabled=$.uniqueSort(options.disabled.concat($.map(this.tabs.filter(\".ui-state-disabled\"),function(li){return that.tabs.index(li);}))).sort();}\nif(this.options.active!==false&&this.anchors.length){this.active=this._findActive(options.active);}else{this.active=$();}\nthis._refresh();if(this.active.length){this.load(options.active);}},_initialActive:function(){var active=this.options.active,collapsible=this.options.collapsible,locationHash=location.hash.substring(1);if(active===null){if(locationHash){this.tabs.each(function(i,tab){if($(tab).attr(\"aria-controls\")===locationHash){active=i;return false;}});}\nif(active===null){active=this.tabs.index(this.tabs.filter(\".ui-tabs-active\"));}\nif(active===null||active===-1){active=this.tabs.length?0:false;}}\nif(active!==false){active=this.tabs.index(this.tabs.eq(active));if(active===-1){active=collapsible?false:0;}}\nif(!collapsible&&active===false&&this.anchors.length){active=0;}\nreturn active;},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?$():this._getPanelForTab(this.active)};},_tabKeydown:function(event){var focusedTab=$($.ui.safeActiveElement(this.document[0])).closest(\"li\"),selectedIndex=this.tabs.index(focusedTab),goingForward=true;if(this._handlePageNav(event)){return;}\nswitch(event.keyCode){case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:selectedIndex++;break;case $.ui.keyCode.UP:case $.ui.keyCode.LEFT:goingForward=false;selectedIndex--;break;case $.ui.keyCode.END:selectedIndex=this.anchors.length-1;break;case $.ui.keyCode.HOME:selectedIndex=0;break;case $.ui.keyCode.SPACE:event.preventDefault();clearTimeout(this.activating);this._activate(selectedIndex);return;case $.ui.keyCode.ENTER:event.preventDefault();clearTimeout(this.activating);this._activate(selectedIndex===this.options.active?false:selectedIndex);return;default:return;}\nevent.preventDefault();clearTimeout(this.activating);selectedIndex=this._focusNextTab(selectedIndex,goingForward);if(!event.ctrlKey&&!event.metaKey){focusedTab.attr(\"aria-selected\",\"false\");this.tabs.eq(selectedIndex).attr(\"aria-selected\",\"true\");this.activating=this._delay(function(){this.option(\"active\",selectedIndex);},this.delay);}},_panelKeydown:function(event){if(this._handlePageNav(event)){return;}\nif(event.ctrlKey&&event.keyCode===$.ui.keyCode.UP){event.preventDefault();this.active.trigger(\"focus\");}},_handlePageNav:function(event){if(event.altKey&&event.keyCode===$.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true;}\nif(event.altKey&&event.keyCode===$.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true;}},_findNextTab:function(index,goingForward){var lastTabIndex=this.tabs.length-1;function constrain(){if(index>lastTabIndex){index=0;}\nif(index<0){index=lastTabIndex;}\nreturn index;}\nwhile($.inArray(constrain(),this.options.disabled)!==-1){index=goingForward?index+1:index-1;}\nreturn index;},_focusNextTab:function(index,goingForward){index=this._findNextTab(index,goingForward);this.tabs.eq(index).trigger(\"focus\");return index;},_setOption:function(key,value){if(key===\"active\"){this._activate(value);return;}\nthis._super(key,value);if(key===\"collapsible\"){this._toggleClass(\"ui-tabs-collapsible\",null,value);if(!value&&this.options.active===false){this._activate(0);}}\nif(key===\"event\"){this._setupEvents(value);}\nif(key===\"heightStyle\"){this._setupHeightStyle(value);}},_sanitizeSelector:function(hash){return hash?hash.replace(/[!\"$%&'()*+,.\\/:;<=>?@\\[\\]\\^`{|}~]/g,\"\\\\$&\"):\"\";},refresh:function(){var options=this.options,lis=this.tablist.children(\":has(a[href])\");options.disabled=$.map(lis.filter(\".ui-state-disabled\"),function(tab){return lis.index(tab);});this._processTabs();if(options.active===false||!this.anchors.length){options.active=false;this.active=$();}else if(this.active.length&&!$.contains(this.tablist[0],this.active[0])){if(this.tabs.length===options.disabled.length){options.active=false;this.active=$();}else{this._activate(this._findNextTab(Math.max(0,options.active-1),false));}}else{options.active=this.tabs.index(this.active);}\nthis._refresh();},_refresh:function(){this._setOptionDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({\"aria-selected\":\"false\",\"aria-expanded\":\"false\",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({\"aria-hidden\":\"true\"});if(!this.active.length){this.tabs.eq(0).attr(\"tabIndex\",0);}else{this.active.attr({\"aria-selected\":\"true\",\"aria-expanded\":\"true\",tabIndex:0});this._addClass(this.active,\"ui-tabs-active\",\"ui-state-active\");this._getPanelForTab(this.active).show().attr({\"aria-hidden\":\"false\"});}},_processTabs:function(){var that=this,prevTabs=this.tabs,prevAnchors=this.anchors,prevPanels=this.panels;this.tablist=this._getList().attr(\"role\",\"tablist\");this._addClass(this.tablist,\"ui-tabs-nav\",\"ui-helper-reset ui-helper-clearfix ui-widget-header\");this.tablist.on(\"mousedown\"+this.eventNamespace,\"> li\",function(event){if($(this).is(\".ui-state-disabled\")){event.preventDefault();}}).on(\"focus\"+this.eventNamespace,\".ui-tabs-anchor\",function(){if($(this).closest(\"li\").is(\".ui-state-disabled\")){this.blur();}});this.tabs=this.tablist.find(\"> li:has(a[href])\").attr({role:\"tab\",tabIndex:-1});this._addClass(this.tabs,\"ui-tabs-tab\",\"ui-state-default\");this.anchors=this.tabs.map(function(){return $(\"a\",this)[0];}).attr({tabIndex:-1});this._addClass(this.anchors,\"ui-tabs-anchor\");this.panels=$();this.anchors.each(function(i,anchor){var selector,panel,panelId,anchorId=$(anchor).uniqueId().attr(\"id\"),tab=$(anchor).closest(\"li\"),originalAriaControls=tab.attr(\"aria-controls\");if(that._isLocal(anchor)){selector=anchor.hash;panelId=selector.substring(1);panel=that.element.find(that._sanitizeSelector(selector));}else{panelId=tab.attr(\"aria-controls\")||$({}).uniqueId()[0].id;selector=\"#\"+panelId;panel=that.element.find(selector);if(!panel.length){panel=that._createPanel(panelId);panel.insertAfter(that.panels[i-1]||that.tablist);}\npanel.attr(\"aria-live\",\"polite\");}\nif(panel.length){that.panels=that.panels.add(panel);}\nif(originalAriaControls){tab.data(\"ui-tabs-aria-controls\",originalAriaControls);}\ntab.attr({\"aria-controls\":panelId,\"aria-labelledby\":anchorId});panel.attr(\"aria-labelledby\",anchorId);});this.panels.attr(\"role\",\"tabpanel\");this._addClass(this.panels,\"ui-tabs-panel\",\"ui-widget-content\");if(prevTabs){this._off(prevTabs.not(this.tabs));this._off(prevAnchors.not(this.anchors));this._off(prevPanels.not(this.panels));}},_getList:function(){return this.tablist||this.element.find(\"ol, ul\").eq(0);},_createPanel:function(id){return $(\"<div>\").attr(\"id\",id).data(\"ui-tabs-destroy\",true);},_setOptionDisabled:function(disabled){var currentItem,li,i;if(Array.isArray(disabled)){if(!disabled.length){disabled=false;}else if(disabled.length===this.anchors.length){disabled=true;}}\nfor(i=0;(li=this.tabs[i]);i++){currentItem=$(li);if(disabled===true||$.inArray(i,disabled)!==-1){currentItem.attr(\"aria-disabled\",\"true\");this._addClass(currentItem,null,\"ui-state-disabled\");}else{currentItem.removeAttr(\"aria-disabled\");this._removeClass(currentItem,null,\"ui-state-disabled\");}}\nthis.options.disabled=disabled;this._toggleClass(this.widget(),this.widgetFullName+\"-disabled\",null,disabled===true);},_setupEvents:function(event){var events={};if(event){$.each(event.split(\" \"),function(index,eventName){events[eventName]=\"_eventHandler\";});}\nthis._off(this.anchors.add(this.tabs).add(this.panels));this._on(true,this.anchors,{click:function(event){event.preventDefault();}});this._on(this.anchors,events);this._on(this.tabs,{keydown:\"_tabKeydown\"});this._on(this.panels,{keydown:\"_panelKeydown\"});this._focusable(this.tabs);this._hoverable(this.tabs);},_setupHeightStyle:function(heightStyle){var maxHeight,parent=this.element.parent();if(heightStyle===\"fill\"){maxHeight=parent.height();maxHeight-=this.element.outerHeight()-this.element.height();this.element.siblings(\":visible\").each(function(){var elem=$(this),position=elem.css(\"position\");if(position===\"absolute\"||position===\"fixed\"){return;}\nmaxHeight-=elem.outerHeight(true);});this.element.children().not(this.panels).each(function(){maxHeight-=$(this).outerHeight(true);});this.panels.each(function(){$(this).height(Math.max(0,maxHeight-\n$(this).innerHeight()+$(this).height()));}).css(\"overflow\",\"auto\");}else if(heightStyle===\"auto\"){maxHeight=0;this.panels.each(function(){maxHeight=Math.max(maxHeight,$(this).height(\"\").height());}).height(maxHeight);}},_eventHandler:function(event){var options=this.options,active=this.active,anchor=$(event.currentTarget),tab=anchor.closest(\"li\"),clickedIsActive=tab[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():this._getPanelForTab(tab),toHide=!active.length?$():this._getPanelForTab(active),eventData={oldTab:active,oldPanel:toHide,newTab:collapsing?$():tab,newPanel:toShow};event.preventDefault();if(tab.hasClass(\"ui-state-disabled\")||tab.hasClass(\"ui-tabs-loading\")||this.running||(clickedIsActive&&!options.collapsible)||(this._trigger(\"beforeActivate\",event,eventData)===false)){return;}\noptions.active=collapsing?false:this.tabs.index(tab);this.active=clickedIsActive?$():tab;if(this.xhr){this.xhr.abort();}\nif(!toHide.length&&!toShow.length){$.error(\"jQuery UI Tabs: Mismatching fragment identifier.\");}\nif(toShow.length){this.load(this.tabs.index(tab),event);}\nthis._toggle(event,eventData);},_toggle:function(event,eventData){var that=this,toShow=eventData.newPanel,toHide=eventData.oldPanel;this.running=true;function complete(){that.running=false;that._trigger(\"activate\",event,eventData);}\nfunction show(){that._addClass(eventData.newTab.closest(\"li\"),\"ui-tabs-active\",\"ui-state-active\");if(toShow.length&&that.options.show){that._show(toShow,that.options.show,complete);}else{toShow.show();complete();}}\nif(toHide.length&&this.options.hide){this._hide(toHide,this.options.hide,function(){that._removeClass(eventData.oldTab.closest(\"li\"),\"ui-tabs-active\",\"ui-state-active\");show();});}else{this._removeClass(eventData.oldTab.closest(\"li\"),\"ui-tabs-active\",\"ui-state-active\");toHide.hide();show();}\ntoHide.attr(\"aria-hidden\",\"true\");eventData.oldTab.attr({\"aria-selected\":\"false\",\"aria-expanded\":\"false\"});if(toShow.length&&toHide.length){eventData.oldTab.attr(\"tabIndex\",-1);}else if(toShow.length){this.tabs.filter(function(){return $(this).attr(\"tabIndex\")===0;}).attr(\"tabIndex\",-1);}\ntoShow.attr(\"aria-hidden\",\"false\");eventData.newTab.attr({\"aria-selected\":\"true\",\"aria-expanded\":\"true\",tabIndex:0});},_activate:function(index){var anchor,active=this._findActive(index);if(active[0]===this.active[0]){return;}\nif(!active.length){active=this.active;}\nanchor=active.find(\".ui-tabs-anchor\")[0];this._eventHandler({target:anchor,currentTarget:anchor,preventDefault:$.noop});},_findActive:function(index){return index===false?$():this.tabs.eq(index);},_getIndex:function(index){if(typeof index===\"string\"){index=this.anchors.index(this.anchors.filter(\"[href$='\"+\n$.escapeSelector(index)+\"']\"));}\nreturn index;},_destroy:function(){if(this.xhr){this.xhr.abort();}\nthis.tablist.removeAttr(\"role\").off(this.eventNamespace);this.anchors.removeAttr(\"role tabIndex\").removeUniqueId();this.tabs.add(this.panels).each(function(){if($.data(this,\"ui-tabs-destroy\")){$(this).remove();}else{$(this).removeAttr(\"role tabIndex \"+\"aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded\");}});this.tabs.each(function(){var li=$(this),prev=li.data(\"ui-tabs-aria-controls\");if(prev){li.attr(\"aria-controls\",prev).removeData(\"ui-tabs-aria-controls\");}else{li.removeAttr(\"aria-controls\");}});this.panels.show();if(this.options.heightStyle!==\"content\"){this.panels.css(\"height\",\"\");}},enable:function(index){var disabled=this.options.disabled;if(disabled===false){return;}\nif(index===undefined){disabled=false;}else{index=this._getIndex(index);if(Array.isArray(disabled)){disabled=$.map(disabled,function(num){return num!==index?num:null;});}else{disabled=$.map(this.tabs,function(li,num){return num!==index?num:null;});}}\nthis._setOptionDisabled(disabled);},disable:function(index){var disabled=this.options.disabled;if(disabled===true){return;}\nif(index===undefined){disabled=true;}else{index=this._getIndex(index);if($.inArray(index,disabled)!==-1){return;}\nif(Array.isArray(disabled)){disabled=$.merge([index],disabled).sort();}else{disabled=[index];}}\nthis._setOptionDisabled(disabled);},load:function(index,event){index=this._getIndex(index);var that=this,tab=this.tabs.eq(index),anchor=tab.find(\".ui-tabs-anchor\"),panel=this._getPanelForTab(tab),eventData={tab:tab,panel:panel},complete=function(jqXHR,status){if(status===\"abort\"){that.panels.stop(false,true);}\nthat._removeClass(tab,\"ui-tabs-loading\");panel.removeAttr(\"aria-busy\");if(jqXHR===that.xhr){delete that.xhr;}};if(this._isLocal(anchor[0])){return;}\nthis.xhr=$.ajax(this._ajaxSettings(anchor,event,eventData));if(this.xhr&&this.xhr.statusText!==\"canceled\"){this._addClass(tab,\"ui-tabs-loading\");panel.attr(\"aria-busy\",\"true\");this.xhr.done(function(response,status,jqXHR){setTimeout(function(){panel.html(response);that._trigger(\"load\",event,eventData);complete(jqXHR,status);},1);}).fail(function(jqXHR,status){setTimeout(function(){complete(jqXHR,status);},1);});}},_ajaxSettings:function(anchor,event,eventData){var that=this;return{url:anchor.attr(\"href\").replace(/#.*$/,\"\"),beforeSend:function(jqXHR,settings){return that._trigger(\"beforeLoad\",event,$.extend({jqXHR:jqXHR,ajaxSettings:settings},eventData));}};},_getPanelForTab:function(tab){var id=$(tab).attr(\"aria-controls\");return this.element.find(this._sanitizeSelector(\"#\"+id));}});if($.uiBackCompat!==false){$.widget(\"ui.tabs\",$.ui.tabs,{_processTabs:function(){this._superApply(arguments);this._addClass(this.tabs,\"ui-tab\");}});}\nreturn $.ui.tabs;});","jquery/ui-modules/widgets/tooltip.min.js":"/*!\n * jQuery UI Tooltip 1.13.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n(function(factory){\"use strict\";if(typeof define===\"function\"&&define.amd){define([\"jquery\",\"../keycode\",\"../position\",\"../unique-id\",\"../version\",\"../widget\"],factory);}else{factory(jQuery);}})(function($){\"use strict\";$.widget(\"ui.tooltip\",{version:\"1.13.1\",options:{classes:{\"ui-tooltip\":\"ui-corner-all ui-widget-shadow\"},content:function(){var title=$(this).attr(\"title\");return $(\"<a>\").text(title).html();},hide:true,items:\"[title]:not([disabled])\",position:{my:\"left top+15\",at:\"left bottom\",collision:\"flipfit flip\"},show:true,track:false,close:null,open:null},_addDescribedBy:function(elem,id){var describedby=(elem.attr(\"aria-describedby\")||\"\").split(/\\s+/);describedby.push(id);elem.data(\"ui-tooltip-id\",id).attr(\"aria-describedby\",String.prototype.trim.call(describedby.join(\" \")));},_removeDescribedBy:function(elem){var id=elem.data(\"ui-tooltip-id\"),describedby=(elem.attr(\"aria-describedby\")||\"\").split(/\\s+/),index=$.inArray(id,describedby);if(index!==-1){describedby.splice(index,1);}\nelem.removeData(\"ui-tooltip-id\");describedby=String.prototype.trim.call(describedby.join(\" \"));if(describedby){elem.attr(\"aria-describedby\",describedby);}else{elem.removeAttr(\"aria-describedby\");}},_create:function(){this._on({mouseover:\"open\",focusin:\"open\"});this.tooltips={};this.parents={};this.liveRegion=$(\"<div>\").attr({role:\"log\",\"aria-live\":\"assertive\",\"aria-relevant\":\"additions\"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,\"ui-helper-hidden-accessible\");this.disabledTitles=$([]);},_setOption:function(key,value){var that=this;this._super(key,value);if(key===\"content\"){$.each(this.tooltips,function(id,tooltipData){that._updateContent(tooltipData.element);});}},_setOptionDisabled:function(value){this[value?\"_disable\":\"_enable\"]();},_disable:function(){var that=this;$.each(this.tooltips,function(id,tooltipData){var event=$.Event(\"blur\");event.target=event.currentTarget=tooltipData.element[0];that.close(event,true);});this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var element=$(this);if(element.is(\"[title]\")){return element.data(\"ui-tooltip-title\",element.attr(\"title\")).removeAttr(\"title\");}}));},_enable:function(){this.disabledTitles.each(function(){var element=$(this);if(element.data(\"ui-tooltip-title\")){element.attr(\"title\",element.data(\"ui-tooltip-title\"));}});this.disabledTitles=$([]);},open:function(event){var that=this,target=$(event?event.target:this.element).closest(this.options.items);if(!target.length||target.data(\"ui-tooltip-id\")){return;}\nif(target.attr(\"title\")){target.data(\"ui-tooltip-title\",target.attr(\"title\"));}\ntarget.data(\"ui-tooltip-open\",true);if(event&&event.type===\"mouseover\"){target.parents().each(function(){var parent=$(this),blurEvent;if(parent.data(\"ui-tooltip-open\")){blurEvent=$.Event(\"blur\");blurEvent.target=blurEvent.currentTarget=this;that.close(blurEvent,true);}\nif(parent.attr(\"title\")){parent.uniqueId();that.parents[this.id]={element:this,title:parent.attr(\"title\")};parent.attr(\"title\",\"\");}});}\nthis._registerCloseHandlers(event,target);this._updateContent(target,event);},_updateContent:function(target,event){var content,contentOption=this.options.content,that=this,eventType=event?event.type:null;if(typeof contentOption===\"string\"||contentOption.nodeType||contentOption.jquery){return this._open(event,target,contentOption);}\ncontent=contentOption.call(target[0],function(response){that._delay(function(){if(!target.data(\"ui-tooltip-open\")){return;}\nif(event){event.type=eventType;}\nthis._open(event,target,response);});});if(content){this._open(event,target,content);}},_open:function(event,target,content){var tooltipData,tooltip,delayedShow,a11yContent,positionOption=$.extend({},this.options.position);if(!content){return;}\ntooltipData=this._find(target);if(tooltipData){tooltipData.tooltip.find(\".ui-tooltip-content\").html(content);return;}\nif(target.is(\"[title]\")){if(event&&event.type===\"mouseover\"){target.attr(\"title\",\"\");}else{target.removeAttr(\"title\");}}\ntooltipData=this._tooltip(target);tooltip=tooltipData.tooltip;this._addDescribedBy(target,tooltip.attr(\"id\"));tooltip.find(\".ui-tooltip-content\").html(content);this.liveRegion.children().hide();a11yContent=$(\"<div>\").html(tooltip.find(\".ui-tooltip-content\").html());a11yContent.removeAttr(\"name\").find(\"[name]\").removeAttr(\"name\");a11yContent.removeAttr(\"id\").find(\"[id]\").removeAttr(\"id\");a11yContent.appendTo(this.liveRegion);function position(event){positionOption.of=event;if(tooltip.is(\":hidden\")){return;}\ntooltip.position(positionOption);}\nif(this.options.track&&event&&/^mouse/.test(event.type)){this._on(this.document,{mousemove:position});position(event);}else{tooltip.position($.extend({of:target},this.options.position));}\ntooltip.hide();this._show(tooltip,this.options.show);if(this.options.track&&this.options.show&&this.options.show.delay){delayedShow=this.delayedShow=setInterval(function(){if(tooltip.is(\":visible\")){position(positionOption.of);clearInterval(delayedShow);}},13);}\nthis._trigger(\"open\",event,{tooltip:tooltip});},_registerCloseHandlers:function(event,target){var events={keyup:function(event){if(event.keyCode===$.ui.keyCode.ESCAPE){var fakeEvent=$.Event(event);fakeEvent.currentTarget=target[0];this.close(fakeEvent,true);}}};if(target[0]!==this.element[0]){events.remove=function(){var targetElement=this._find(target);if(targetElement){this._removeTooltip(targetElement.tooltip);}};}\nif(!event||event.type===\"mouseover\"){events.mouseleave=\"close\";}\nif(!event||event.type===\"focusin\"){events.focusout=\"close\";}\nthis._on(true,target,events);},close:function(event){var tooltip,that=this,target=$(event?event.currentTarget:this.element),tooltipData=this._find(target);if(!tooltipData){target.removeData(\"ui-tooltip-open\");return;}\ntooltip=tooltipData.tooltip;if(tooltipData.closing){return;}\nclearInterval(this.delayedShow);if(target.data(\"ui-tooltip-title\")&&!target.attr(\"title\")){target.attr(\"title\",target.data(\"ui-tooltip-title\"));}\nthis._removeDescribedBy(target);tooltipData.hiding=true;tooltip.stop(true);this._hide(tooltip,this.options.hide,function(){that._removeTooltip($(this));});target.removeData(\"ui-tooltip-open\");this._off(target,\"mouseleave focusout keyup\");if(target[0]!==this.element[0]){this._off(target,\"remove\");}\nthis._off(this.document,\"mousemove\");if(event&&event.type===\"mouseleave\"){$.each(this.parents,function(id,parent){$(parent.element).attr(\"title\",parent.title);delete that.parents[id];});}\ntooltipData.closing=true;this._trigger(\"close\",event,{tooltip:tooltip});if(!tooltipData.hiding){tooltipData.closing=false;}},_tooltip:function(element){var tooltip=$(\"<div>\").attr(\"role\",\"tooltip\"),content=$(\"<div>\").appendTo(tooltip),id=tooltip.uniqueId().attr(\"id\");this._addClass(content,\"ui-tooltip-content\");this._addClass(tooltip,\"ui-tooltip\",\"ui-widget ui-widget-content\");tooltip.appendTo(this._appendTo(element));return this.tooltips[id]={element:element,tooltip:tooltip};},_find:function(target){var id=target.data(\"ui-tooltip-id\");return id?this.tooltips[id]:null;},_removeTooltip:function(tooltip){clearInterval(this.delayedShow);tooltip.remove();delete this.tooltips[tooltip.attr(\"id\")];},_appendTo:function(target){var element=target.closest(\".ui-front, dialog\");if(!element.length){element=this.document[0].body;}\nreturn element;},_destroy:function(){var that=this;$.each(this.tooltips,function(id,tooltipData){var event=$.Event(\"blur\"),element=tooltipData.element;event.target=event.currentTarget=element[0];that.close(event,true);$(\"#\"+id).remove();if(element.data(\"ui-tooltip-title\")){if(!element.attr(\"title\")){element.attr(\"title\",element.data(\"ui-tooltip-title\"));}\nelement.removeData(\"ui-tooltip-title\");}});this.liveRegion.remove();}});if($.uiBackCompat!==false){$.widget(\"ui.tooltip\",$.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var tooltipData=this._superApply(arguments);if(this.options.tooltipClass){tooltipData.tooltip.addClass(this.options.tooltipClass);}\nreturn tooltipData;}});}\nreturn $.ui.tooltip;});","js-cookie/cookie-wrapper.min.js":"define(['jquery','js-cookie/js.cookie'],function($,cookie){'use strict';window.Cookies=window.Cookies||cookie;var config=$.cookie=function(key,value,options){if(value!==undefined){options=$.extend({},config.defaults,options);return cookie.set(key,value,options);}\nvar result=key?undefined:{},cookies=document.cookie?document.cookie.split('; '):[],i;for(i=0;i<cookies.length;i++){var parts=cookies[i].split('='),name=config.raw?parts.shift():decodeURIComponent(parts.shift()),cookieValue=parts.join('=');if(key&&key===name){result=decodeURIComponent(cookieValue.replace('/\\\\+/g',' '));break;}\nif(!key&&(cookieValue=decodeURIComponent(cookieValue.replace('/\\\\+/g',' ')))!==undefined){result[name]=cookieValue;}}\nreturn result;};config.defaults={};$.removeCookie=function(key,options){if($.cookie(key)===undefined){return false;}\n$.cookie(key,'',$.extend({},options,{expires:-1}));return!$.cookie(key);};});","js-cookie/js.cookie.min.js":"/*! js-cookie v3.0.1 | MIT */;(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory():typeof define==='function'&&define.amd?define(factory):(global=global||self,(function(){var current=global.Cookies;var exports=global.Cookies=factory();exports.noConflict=function(){global.Cookies=current;return exports;};}()));}(this,(function(){'use strict';function assign(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){target[key]=source[key];}}\nreturn target}\nvar defaultConverter={read:function(value){if(value[0]==='\"'){value=value.slice(1,-1);}\nreturn value.replace(/(%[\\dA-F]{2})+/gi,decodeURIComponent)},write:function(value){return encodeURIComponent(value).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function init(converter,defaultAttributes){function set(key,value,attributes){if(typeof document==='undefined'){return}\nattributes=assign({},defaultAttributes,attributes);if(typeof attributes.expires==='number'){attributes.expires=new Date(Date.now()+attributes.expires*864e5);}\nif(attributes.expires){attributes.expires=attributes.expires.toUTCString();}\nkey=encodeURIComponent(key).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var stringifiedAttributes='';for(var attributeName in attributes){if(!attributes[attributeName]){continue}\nstringifiedAttributes+='; '+attributeName;if(attributes[attributeName]===true){continue}\nstringifiedAttributes+='='+attributes[attributeName].split(';')[0];}\nreturn(document.cookie=key+'='+converter.write(value,key)+stringifiedAttributes)}\nfunction get(key){if(typeof document==='undefined'||(arguments.length&&!key)){return}\nvar cookies=document.cookie?document.cookie.split('; '):[];var jar={};for(var i=0;i<cookies.length;i++){var parts=cookies[i].split('=');var value=parts.slice(1).join('=');try{var foundKey=decodeURIComponent(parts[0]);jar[foundKey]=converter.read(value,foundKey);if(key===foundKey){break}}catch(e){}}\nreturn key?jar[key]:jar}\nreturn Object.create({set:set,get:get,remove:function(key,attributes){set(key,'',assign({},attributes,{expires:-1}));},withAttributes:function(attributes){return init(this.converter,assign({},this.attributes,attributes))},withConverter:function(converter){return init(assign({},this.converter,converter),this.attributes)}},{attributes:{value:Object.freeze(defaultAttributes)},converter:{value:Object.freeze(converter)}})}\nvar api=init(defaultConverter,{path:'/'});return api;})));","js-storage/js.storage.min.js":"(function(factory){var registeredInModuleLoader=false;if(typeof define==='function'&&define.amd){define(['jquery','jquery/jquery.cookie'],factory);registeredInModuleLoader=true;}\nif(typeof exports==='object'){module.exports=factory();registeredInModuleLoader=true;}\nif(!registeredInModuleLoader){var OldStorages=window.Storages;var api=window.Storages=factory();api.noConflict=function(){window.Storages=OldStorages;return api;};}}(function(){var class2type={};var toString=class2type.toString;var hasOwn=class2type.hasOwnProperty;var fnToString=hasOwn.toString;var ObjectFunctionString=fnToString.call(Object);var getProto=Object.getPrototypeOf;var apis={};var cookie_local_prefix=\"ls_\";var cookie_session_prefix=\"ss_\";function _get(){var storage=this._type,l=arguments.length,s=window[storage],a=arguments,a0=a[0],vi,ret,tmp,i,j;if(l<1){throw new Error('Minimum 1 argument must be given');}else if(Array.isArray(a0)){ret={};for(i in a0){if(a0.hasOwnProperty(i)){vi=a0[i];try{ret[vi]=JSON.parse(s.getItem(vi));}catch(e){ret[vi]=s.getItem(vi);}}}\nreturn ret;}else if(l==1){try{return JSON.parse(s.getItem(a0));}catch(e){return s.getItem(a0);}}else{try{ret=JSON.parse(s.getItem(a0));if(!ret){throw new ReferenceError(a0+' is not defined in this storage');}}catch(e){throw new ReferenceError(a0+' is not defined in this storage');}\nfor(i=1;i<l-1;i++){ret=ret[a[i]];if(ret===undefined){throw new ReferenceError([].slice.call(a,0,i+1).join('.')+' is not defined in this storage');}}\nif(Array.isArray(a[i])){tmp=ret;ret={};for(j in a[i]){if(a[i].hasOwnProperty(j)){ret[a[i][j]]=tmp[a[i][j]];}}\nreturn ret;}else{return ret[a[i]];}}}\nfunction _set(){var storage=this._type,l=arguments.length,s=window[storage],a=arguments,a0=a[0],a1=a[1],vi,to_store=isNaN(a1)?{}:[],type,tmp,i;if(l<1||!_isPlainObject(a0)&&l<2){throw new Error('Minimum 2 arguments must be given or first parameter must be an object');}else if(_isPlainObject(a0)){for(i in a0){if(a0.hasOwnProperty(i)){vi=a0[i];if(!_isPlainObject(vi)&&!this.alwaysUseJson){s.setItem(i,vi);}else{s.setItem(i,JSON.stringify(vi));}}}\nreturn a0;}else if(l==2){if(typeof a1==='object'||this.alwaysUseJson){s.setItem(a0,JSON.stringify(a1));}else{s.setItem(a0,a1);}\nreturn a1;}else{try{tmp=s.getItem(a0);if(tmp!=null){to_store=JSON.parse(tmp);}}catch(e){}\ntmp=to_store;for(i=1;i<l-2;i++){vi=a[i];type=isNaN(a[i+1])?\"object\":\"array\";if(!tmp[vi]||type==\"object\"&&!_isPlainObject(tmp[vi])||type==\"array\"&&!Array.isArray(tmp[vi])){if(type==\"array\")tmp[vi]=[];else tmp[vi]={};}\ntmp=tmp[vi];}\ntmp[a[i]]=a[i+1];s.setItem(a0,JSON.stringify(to_store));return to_store;}}\nfunction _remove(){var storage=this._type,l=arguments.length,s=window[storage],a=arguments,a0=a[0],to_store,tmp,i,j;if(l<1){throw new Error('Minimum 1 argument must be given');}else if(Array.isArray(a0)){for(i in a0){if(a0.hasOwnProperty(i)){s.removeItem(a0[i]);}}\nreturn true;}else if(l==1){s.removeItem(a0);return true;}else{try{to_store=tmp=JSON.parse(s.getItem(a0));}catch(e){throw new ReferenceError(a0+' is not defined in this storage');}\nfor(i=1;i<l-1;i++){tmp=tmp[a[i]];if(tmp===undefined){throw new ReferenceError([].slice.call(a,1,i).join('.')+' is not defined in this storage');}}\nif(Array.isArray(a[i])){for(j in a[i]){if(a[i].hasOwnProperty(j)){delete tmp[a[i][j]];}}}else{delete tmp[a[i]];}\ns.setItem(a0,JSON.stringify(to_store));return true;}}\nfunction _removeAll(reinit_ns){var keys=_keys.call(this),i;for(i in keys){if(keys.hasOwnProperty(i)){_remove.call(this,keys[i]);}}\nif(reinit_ns){for(i in apis.namespaceStorages){if(apis.namespaceStorages.hasOwnProperty(i)){_createNamespace(i);}}}}\nfunction _isEmpty(){var l=arguments.length,a=arguments,a0=a[0],i;if(l==0){return(_keys.call(this).length==0);}else if(Array.isArray(a0)){for(i=0;i<a0.length;i++){if(!_isEmpty.call(this,a0[i])){return false;}}\nreturn true;}else{try{var v=_get.apply(this,arguments);if(!Array.isArray(a[l-1])){v={'totest':v};}\nfor(i in v){if(v.hasOwnProperty(i)&&!((_isPlainObject(v[i])&&_isEmptyObject(v[i]))||(Array.isArray(v[i])&&!v[i].length)||(typeof v[i]!=='boolean'&&!v[i]))){return false;}}\nreturn true;}catch(e){return true;}}}\nfunction _isSet(){var l=arguments.length,a=arguments,a0=a[0],i;if(l<1){throw new Error('Minimum 1 argument must be given');}\nif(Array.isArray(a0)){for(i=0;i<a0.length;i++){if(!_isSet.call(this,a0[i])){return false;}}\nreturn true;}else{try{var v=_get.apply(this,arguments);if(!Array.isArray(a[l-1])){v={'totest':v};}\nfor(i in v){if(v.hasOwnProperty(i)&&!(v[i]!==undefined&&v[i]!==null)){return false;}}\nreturn true;}catch(e){return false;}}}\nfunction _keys(){var storage=this._type,l=arguments.length,s=window[storage],keys=[],o={};if(l>0){o=_get.apply(this,arguments);}else{o=s;}\nif(o&&o._cookie){var cookies=Cookies.get();for(var key in cookies){if(cookies.hasOwnProperty(key)&&key!=''){keys.push(key.replace(o._prefix,''));}}}else{for(var i in o){if(o.hasOwnProperty(i)){keys.push(i);}}}\nreturn keys;}\nfunction _createNamespace(name){if(!name||typeof name!=\"string\"){throw new Error('First parameter must be a string');}\nif(storage_available){if(!window.localStorage.getItem(name)){window.localStorage.setItem(name,'{}');}\nif(!window.sessionStorage.getItem(name)){window.sessionStorage.setItem(name,'{}');}}else{if(!window.localCookieStorage.getItem(name)){window.localCookieStorage.setItem(name,'{}');}\nif(!window.sessionCookieStorage.getItem(name)){window.sessionCookieStorage.setItem(name,'{}');}}\nvar ns={localStorage:_extend({},apis.localStorage,{_ns:name}),sessionStorage:_extend({},apis.sessionStorage,{_ns:name})};if(cookies_available){if(!window.cookieStorage.getItem(name)){window.cookieStorage.setItem(name,'{}');}\nns.cookieStorage=_extend({},apis.cookieStorage,{_ns:name});}\napis.namespaceStorages[name]=ns;return ns;}\nfunction _testStorage(name){var foo='jsapi';try{if(!window[name]){return false;}\nwindow[name].setItem(foo,foo);window[name].removeItem(foo);return true;}catch(e){return false;}}\nfunction _isPlainObject(obj){var proto,Ctor;if(!obj||toString.call(obj)!==\"[object Object]\"){return false;}\nproto=getProto(obj);if(!proto){return true;}\nCtor=hasOwn.call(proto,\"constructor\")&&proto.constructor;return typeof Ctor===\"function\"&&fnToString.call(Ctor)===ObjectFunctionString;}\nfunction _isEmptyObject(obj){var name;for(name in obj){return false;}\nreturn true;}\nfunction _extend(){var i=1;var result=arguments[0];for(;i<arguments.length;i++){var attributes=arguments[i];for(var key in attributes){if(attributes.hasOwnProperty(key)){result[key]=attributes[key];}}}\nreturn result;}\nvar storage_available=_testStorage('localStorage');var cookies_available=typeof Cookies!=='undefined';var storage={_type:'',_ns:'',_callMethod:function(f,a){a=Array.prototype.slice.call(a);var p=[],a0=a[0];if(this._ns){p.push(this._ns);}\nif(typeof a0==='string'&&a0.indexOf('.')!==-1){a.shift();[].unshift.apply(a,a0.split('.'));}\n[].push.apply(p,a);return f.apply(this,p);},alwaysUseJson:false,get:function(){if(!storage_available&&!cookies_available){return null;}\nreturn this._callMethod(_get,arguments);},set:function(){var l=arguments.length,a=arguments,a0=a[0];if(l<1||!_isPlainObject(a0)&&l<2){throw new Error('Minimum 2 arguments must be given or first parameter must be an object');}\nif(!storage_available&&!cookies_available){return null;}\nif(_isPlainObject(a0)&&this._ns){for(var i in a0){if(a0.hasOwnProperty(i)){this._callMethod(_set,[i,a0[i]]);}}\nreturn a0;}else{var r=this._callMethod(_set,a);if(this._ns){return r[a0.split('.')[0]];}else{return r;}}},remove:function(){if(arguments.length<1){throw new Error('Minimum 1 argument must be given');}\nif(!storage_available&&!cookies_available){return null;}\nreturn this._callMethod(_remove,arguments);},removeAll:function(reinit_ns){if(!storage_available&&!cookies_available){return null;}\nif(this._ns){this._callMethod(_set,[{}]);return true;}else{return this._callMethod(_removeAll,[reinit_ns]);}},isEmpty:function(){if(!storage_available&&!cookies_available){return null;}\nreturn this._callMethod(_isEmpty,arguments);},isSet:function(){if(arguments.length<1){throw new Error('Minimum 1 argument must be given');}\nif(!storage_available&&!cookies_available){return null;}\nreturn this._callMethod(_isSet,arguments);},keys:function(){if(!storage_available&&!cookies_available){return null;}\nreturn this._callMethod(_keys,arguments);}};if(cookies_available){if(!window.name){window.name=Math.floor(Math.random()*100000000);}\nvar cookie_storage={_cookie:true,_prefix:'',_expires:null,_path:null,_domain:null,_secure:false,setItem:function(n,v){Cookies.set(this._prefix+n,v,{expires:this._expires,path:this._path,domain:this._domain,secure:this._secure});},getItem:function(n){return Cookies.get(this._prefix+n);},removeItem:function(n){return Cookies.remove(this._prefix+n,{path:this._path});},clear:function(){var cookies=Cookies.get();for(var key in cookies){if(cookies.hasOwnProperty(key)&&key!=''){if(!this._prefix&&key.indexOf(cookie_local_prefix)===-1&&key.indexOf(cookie_session_prefix)===-1||this._prefix&&key.indexOf(this._prefix)===0){Cookies.remove(key);}}}},setExpires:function(e){this._expires=e;return this;},setPath:function(p){this._path=p;return this;},setDomain:function(d){this._domain=d;return this;},setSecure:function(s){this._secure=s;return this;},setConf:function(c){if(c.path){this._path=c.path;}\nif(c.domain){this._domain=c.domain;}\nif(c.secure){this._secure=c.secure;}\nif(c.expires){this._expires=c.expires;}\nreturn this;},setDefaultConf:function(){this._path=this._domain=this._expires=null;this._secure=false;}};if(!storage_available){window.localCookieStorage=_extend({},cookie_storage,{_prefix:cookie_local_prefix,_expires:365*10,_secure:true});window.sessionCookieStorage=_extend({},cookie_storage,{_prefix:cookie_session_prefix+window.name+'_',_secure:true});}\nwindow.cookieStorage=_extend({},cookie_storage);apis.cookieStorage=_extend({},storage,{_type:'cookieStorage',setExpires:function(e){window.cookieStorage.setExpires(e);return this;},setPath:function(p){window.cookieStorage.setPath(p);return this;},setDomain:function(d){window.cookieStorage.setDomain(d);return this;},setSecure:function(s){window.cookieStorage.setSecure(s);return this;},setConf:function(c){window.cookieStorage.setConf(c);return this;},setDefaultConf:function(){window.cookieStorage.setDefaultConf();return this;}});}\napis.initNamespaceStorage=function(ns){return _createNamespace(ns);};if(storage_available){apis.localStorage=_extend({},storage,{_type:'localStorage'});apis.sessionStorage=_extend({},storage,{_type:'sessionStorage'});}else{apis.localStorage=_extend({},storage,{_type:'localCookieStorage'});apis.sessionStorage=_extend({},storage,{_type:'sessionCookieStorage'});}\napis.namespaceStorages={};apis.removeAllStorages=function(reinit_ns){apis.localStorage.removeAll(reinit_ns);apis.sessionStorage.removeAll(reinit_ns);if(apis.cookieStorage){apis.cookieStorage.removeAll(reinit_ns);}\nif(!reinit_ns){apis.namespaceStorages={};}};apis.alwaysUseJsonInStorage=function(value){storage.alwaysUseJson=value;apis.localStorage.alwaysUseJson=value;apis.sessionStorage.alwaysUseJson=value;if(apis.cookieStorage){apis.cookieStorage.alwaysUseJson=value;}};return apis;}));","js-storage/storage-wrapper.min.js":"define(['jquery','js-storage/js.storage'],function($,storage){'use strict';if(window.cookieStorage){var cookiesConfig=window.cookiesConfig||{};$.extend(window.cookieStorage,{_secure:!!cookiesConfig.secure,_samesite:cookiesConfig.samesite?cookiesConfig.samesite:'lax',setItem:function(name,value,options){var _default={expires:this._expires,path:this._path,domain:this._domain,secure:this._secure,samesite:this._samesite};$.cookie(this._prefix+name,value,$.extend(_default,options||{}));},setConf:function(c){if(c.path){this._path=c.path;}\nif(c.domain){this._domain=c.domain;}\nif(c.expires){this._expires=c.expires;}\nif(typeof c.secure!=='undefined'){this._secure=c.secure;}\nif(typeof c.samesite!=='undefined'){this._samesite=c.samesite;}\nreturn this;}});}\n$.alwaysUseJsonInStorage=$.alwaysUseJsonInStorage||storage.alwaysUseJsonInStorage;$.cookieStorage=$.cookieStorage||storage.cookieStorage;$.initNamespaceStorage=$.initNamespaceStorage||storage.initNamespaceStorage;$.localStorage=$.localStorage||storage.localStorage;$.namespaceStorages=$.namespaceStorages||storage.namespaceStorages;$.removeAllStorages=$.removeAllStorages||storage.removeAllStorages;$.sessionStorage=$.sessionStorage||storage.sessionStorage;});","knockoutjs/knockout-es5.min.js":"/*!\n * Knockout ES5 plugin - https://github.com/SteveSanderson/knockout-es5\n * Copyright (c) Steve Sanderson\n * MIT license\n */\n(function(global,undefined){'use strict';var ko;function track(obj,propertyNamesOrSettings){if(!obj||typeof obj!=='object'){throw new Error('When calling ko.track, you must pass an object as the first parameter.');}\nvar propertyNames;if(isPlainObject(propertyNamesOrSettings)){propertyNamesOrSettings.deep=propertyNamesOrSettings.deep||false;propertyNamesOrSettings.fields=propertyNamesOrSettings.fields||Object.getOwnPropertyNames(obj);propertyNamesOrSettings.lazy=propertyNamesOrSettings.lazy||false;wrap(obj,propertyNamesOrSettings.fields,propertyNamesOrSettings);}else{propertyNames=propertyNamesOrSettings||Object.getOwnPropertyNames(obj);wrap(obj,propertyNames,{});}\nreturn obj;}\nvar rFunctionName=/^function\\s*([^\\s(]+)/;function getFunctionName(ctor){if(ctor.name){return ctor.name;}\nreturn(ctor.toString().trim().match(rFunctionName)||[])[1];}\nfunction canTrack(obj){return obj&&typeof obj==='object'&&getFunctionName(obj.constructor)==='Object';}\nfunction createPropertyDescriptor(originalValue,prop,map){var isObservable=ko.isObservable(originalValue);var isArray=!isObservable&&Array.isArray(originalValue);var observable=isObservable?originalValue:isArray?ko.observableArray(originalValue):ko.observable(originalValue);map[prop]=function(){return observable;};if(isArray||(isObservable&&'push'in observable)){notifyWhenPresentOrFutureArrayValuesMutate(ko,observable);}\nreturn{configurable:true,enumerable:true,get:observable,set:ko.isWriteableObservable(observable)?observable:undefined};}\nfunction createLazyPropertyDescriptor(originalValue,prop,map){if(ko.isObservable(originalValue)){return createPropertyDescriptor(originalValue,prop,map);}\nvar observable;function getOrCreateObservable(value,writing){if(observable){return writing?observable(value):observable;}\nif(Array.isArray(value)){observable=ko.observableArray(value);notifyWhenPresentOrFutureArrayValuesMutate(ko,observable);return observable;}\nreturn(observable=ko.observable(value));}\nmap[prop]=function(){return getOrCreateObservable(originalValue);};return{configurable:true,enumerable:true,get:function(){return getOrCreateObservable(originalValue)();},set:function(value){getOrCreateObservable(value,true);}};}\nfunction wrap(obj,props,options){if(!props.length){return;}\nvar allObservablesForObject=getAllObservablesForObject(obj,true);var descriptors={};props.forEach(function(prop){if(prop in allObservablesForObject){return;}\nif(Object.getOwnPropertyDescriptor(obj,prop).configurable===false){return;}\nvar originalValue=obj[prop];descriptors[prop]=(options.lazy?createLazyPropertyDescriptor:createPropertyDescriptor)\n(originalValue,prop,allObservablesForObject);if(options.deep&&canTrack(originalValue)){wrap(originalValue,Object.keys(originalValue),options);}});Object.defineProperties(obj,descriptors);}\nfunction isPlainObject(obj){return!!obj&&typeof obj==='object'&&obj.constructor===Object;}\nvar objectToObservableMap;function getAllObservablesForObject(obj,createIfNotDefined){if(!objectToObservableMap){objectToObservableMap=weakMapFactory();}\nvar result=objectToObservableMap.get(obj);if(!result&&createIfNotDefined){result={};objectToObservableMap.set(obj,result);}\nreturn result;}\nfunction untrack(obj,propertyNames){if(!objectToObservableMap){return;}\nif(arguments.length===1){objectToObservableMap['delete'](obj);}else{var allObservablesForObject=getAllObservablesForObject(obj,false);if(allObservablesForObject){propertyNames.forEach(function(propertyName){delete allObservablesForObject[propertyName];});}}}\nfunction defineComputedProperty(obj,propertyName,evaluatorOrOptions){var ko=this,computedOptions={owner:obj,deferEvaluation:true};if(typeof evaluatorOrOptions==='function'){computedOptions.read=evaluatorOrOptions;}else{if('value'in evaluatorOrOptions){throw new Error('For ko.defineProperty, you must not specify a \"value\" for the property. '+'You must provide a \"get\" function.');}\nif(typeof evaluatorOrOptions.get!=='function'){throw new Error('For ko.defineProperty, the third parameter must be either an evaluator function, '+'or an options object containing a function called \"get\".');}\ncomputedOptions.read=evaluatorOrOptions.get;computedOptions.write=evaluatorOrOptions.set;}\nobj[propertyName]=ko.computed(computedOptions);track.call(ko,obj,[propertyName]);return obj;}\nfunction notifyWhenPresentOrFutureArrayValuesMutate(ko,observable){var watchingArraySubscription=null;ko.computed(function(){if(watchingArraySubscription){watchingArraySubscription.dispose();watchingArraySubscription=null;}\nvar newArrayInstance=observable();if(newArrayInstance instanceof Array){watchingArraySubscription=startWatchingArrayInstance(ko,observable,newArrayInstance);}});}\nfunction startWatchingArrayInstance(ko,observable,arrayInstance){var subscribable=getSubscribableForArray(ko,arrayInstance);return subscribable.subscribe(observable);}\nvar arraySubscribablesMap;function getSubscribableForArray(ko,arrayInstance){if(!arraySubscribablesMap){arraySubscribablesMap=weakMapFactory();}\nvar subscribable=arraySubscribablesMap.get(arrayInstance);if(!subscribable){subscribable=new ko.subscribable();arraySubscribablesMap.set(arrayInstance,subscribable);var notificationPauseSignal={};wrapStandardArrayMutators(arrayInstance,subscribable,notificationPauseSignal);addKnockoutArrayMutators(ko,arrayInstance,subscribable,notificationPauseSignal);}\nreturn subscribable;}\nfunction wrapStandardArrayMutators(arrayInstance,subscribable,notificationPauseSignal){['pop','push','reverse','shift','sort','splice','unshift'].forEach(function(fnName){var origMutator=arrayInstance[fnName];arrayInstance[fnName]=function(){var result=origMutator.apply(this,arguments);if(notificationPauseSignal.pause!==true){subscribable.notifySubscribers(this);}\nreturn result;};});}\nfunction addKnockoutArrayMutators(ko,arrayInstance,subscribable,notificationPauseSignal){['remove','removeAll','destroy','destroyAll','replace'].forEach(function(fnName){Object.defineProperty(arrayInstance,fnName,{enumerable:false,value:function(){var result;notificationPauseSignal.pause=true;try{result=ko.observableArray.fn[fnName].apply(ko.observableArray(arrayInstance),arguments);}\nfinally{notificationPauseSignal.pause=false;}\nsubscribable.notifySubscribers(arrayInstance);return result;}});});}\nfunction getObservable(obj,propertyName){if(!obj||typeof obj!=='object'){return null;}\nvar allObservablesForObject=getAllObservablesForObject(obj,false);if(allObservablesForObject&&propertyName in allObservablesForObject){return allObservablesForObject[propertyName]();}\nreturn null;}\nfunction isTracked(obj,propertyName){if(!obj||typeof obj!=='object'){return false;}\nvar allObservablesForObject=getAllObservablesForObject(obj,false);return!!allObservablesForObject&&propertyName in allObservablesForObject;}\nfunction valueHasMutated(obj,propertyName){var observable=getObservable(obj,propertyName);if(observable){observable.valueHasMutated();}}\nvar weakMapFactory;function attachToKo(ko){ko.track=track;ko.untrack=untrack;ko.getObservable=getObservable;ko.valueHasMutated=valueHasMutated;ko.defineProperty=defineComputedProperty;ko.es5={getAllObservablesForObject:getAllObservablesForObject,notifyWhenPresentOrFutureArrayValuesMutate:notifyWhenPresentOrFutureArrayValuesMutate,isTracked:isTracked};}\nfunction prepareExports(){if(typeof exports==='object'&&typeof module==='object'){ko=require('knockout');var WM=require('../lib/weakmap');attachToKo(ko);weakMapFactory=function(){return new WM();};module.exports=ko;}else if(typeof define==='function'&&define.amd){define(['knockout'],function(koModule){ko=koModule;attachToKo(koModule);weakMapFactory=function(){return new global.WeakMap();};return koModule;});}else if('ko'in global){ko=global.ko;attachToKo(global.ko);weakMapFactory=function(){return new global.WeakMap();};}}\nprepareExports();})(this);","knockoutjs/knockout-fast-foreach.min.js":"/*!\n  Knockout Fast Foreach v0.4.1 (2015-07-17T14:06:15.974Z)\n  By: Brian M Hunt (C) 2015\n  License: MIT\n\n  Adds `fastForEach` to `ko.bindingHandlers`.\n*/\n(function(root,factory){if(typeof define==='function'&&define.amd){define(['knockout'],factory);}else if(typeof exports==='object'){module.exports=factory(require('knockout'));}else{root.KnockoutFastForeach=factory(root.ko);}}(this,function(ko){\"use strict\";function isPlainObject(o){return!!o&&typeof o==='object'&&o.constructor===Object;}\nvar commentNodesHaveTextProperty=document&&document.createComment(\"test\").text===\"<!--test-->\";var startCommentRegex=commentNodesHaveTextProperty?/^<!--\\s*ko(?:\\s+([\\s\\S]+))?\\s*-->$/:/^\\s*ko(?:\\s+([\\s\\S]+))?\\s*$/;var supportsDocumentFragment=document&&typeof document.createDocumentFragment===\"function\";function isVirtualNode(node){return(node.nodeType===8)&&startCommentRegex.test(commentNodesHaveTextProperty?node.text:node.nodeValue);}\nfunction makeTemplateNode(sourceNode){var container=document.createElement(\"div\");var parentNode;if(sourceNode.content){parentNode=sourceNode.content;}else if(sourceNode.tagName==='SCRIPT'){parentNode=document.createElement(\"div\");parentNode.innerHTML=sourceNode.text;}else{parentNode=sourceNode;}\nko.utils.arrayForEach(ko.virtualElements.childNodes(parentNode),function(child){if(child){container.insertBefore(child.cloneNode(true),null);}});return container;}\nfunction insertAllAfter(containerNode,nodeOrNodeArrayToInsert,insertAfterNode){var frag,len,i;if(typeof nodeOrNodeArrayToInsert.nodeType!==\"undefined\"&&typeof nodeOrNodeArrayToInsert.length===\"undefined\"){throw new Error(\"Expected a single node or a node array\");}\nif(typeof nodeOrNodeArrayToInsert.nodeType!==\"undefined\"){ko.virtualElements.insertAfter(containerNode,nodeOrNodeArrayToInsert,insertAfterNode);return;}\nif(nodeOrNodeArrayToInsert.length===1){ko.virtualElements.insertAfter(containerNode,nodeOrNodeArrayToInsert[0],insertAfterNode);return;}\nif(supportsDocumentFragment){frag=document.createDocumentFragment();for(i=0,len=nodeOrNodeArrayToInsert.length;i!==len;++i){frag.appendChild(nodeOrNodeArrayToInsert[i]);}\nko.virtualElements.insertAfter(containerNode,frag,insertAfterNode);}else{for(i=nodeOrNodeArrayToInsert.length-1;i>=0;--i){var child=nodeOrNodeArrayToInsert[i];if(!child){return;}\nko.virtualElements.insertAfter(containerNode,child,insertAfterNode);}}}\nfunction valueToChangeAddItem(value,index){return{status:'added',value:value,index:index};}\nfunction isAdditionAdjacentToLast(changeIndex,arrayChanges){return changeIndex>0&&changeIndex<arrayChanges.length&&arrayChanges[changeIndex].status===\"added\"&&arrayChanges[changeIndex-1].status===\"added\"&&arrayChanges[changeIndex-1].index===arrayChanges[changeIndex].index-1;}\nfunction FastForEach(spec){this.element=spec.element;this.container=isVirtualNode(this.element)?this.element.parentNode:this.element;this.$context=spec.$context;this.data=spec.data;this.as=spec.as;this.noContext=spec.noContext;this.templateNode=makeTemplateNode(spec.name?document.getElementById(spec.name).cloneNode(true):spec.element);this.afterQueueFlush=spec.afterQueueFlush;this.beforeQueueFlush=spec.beforeQueueFlush;this.changeQueue=[];this.lastNodesList=[];this.indexesToDelete=[];this.rendering_queued=false;ko.virtualElements.emptyNode(this.element);var primeData=ko.unwrap(this.data);if(primeData.map){this.onArrayChange(primeData.map(valueToChangeAddItem));}\nif(ko.isObservable(this.data)){if(!this.data.indexOf){this.data=this.data.extend({trackArrayChanges:true});}\nthis.changeSubs=this.data.subscribe(this.onArrayChange,this,'arrayChange');}}\nFastForEach.animateFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(cb){return window.setTimeout(cb,1000 / 60);};FastForEach.prototype.dispose=function(){if(this.changeSubs){this.changeSubs.dispose();}};FastForEach.prototype.onArrayChange=function(changeSet){var self=this;var changeMap={added:[],deleted:[]};for(var i=0,len=changeSet.length;i<len;i++){if(isAdditionAdjacentToLast(i,changeSet)){var batchValues=changeMap.added[changeMap.added.length-1].values;if(!batchValues){var lastAddition=changeMap.added.pop();var batchAddition={isBatch:true,status:'added',index:lastAddition.index,values:[lastAddition.value]};batchValues=batchAddition.values;changeMap.added.push(batchAddition);}\nbatchValues.push(changeSet[i].value);}else{changeMap[changeSet[i].status].push(changeSet[i]);}}\nif(changeMap.deleted.length>0){this.changeQueue.push.apply(this.changeQueue,changeMap.deleted);this.changeQueue.push({status:'clearDeletedIndexes'});}\nthis.changeQueue.push.apply(this.changeQueue,changeMap.added);if(this.changeQueue.length>0&&!this.rendering_queued){this.rendering_queued=true;FastForEach.animateFrame.call(window,function(){self.processQueue();});}};FastForEach.prototype.processQueue=function(){var self=this;if(typeof this.beforeQueueFlush==='function'){this.beforeQueueFlush(this.changeQueue);}\nko.utils.arrayForEach(this.changeQueue,function(changeItem){self[changeItem.status](changeItem);});this.rendering_queued=false;if(typeof this.afterQueueFlush==='function'){this.afterQueueFlush(this.changeQueue);}\nthis.changeQueue=[];};FastForEach.prototype.added=function(changeItem){var index=changeItem.index;var valuesToAdd=changeItem.isBatch?changeItem.values:[changeItem.value];var referenceElement=this.lastNodesList[index-1]||null;var allChildNodes=[];for(var i=0,len=valuesToAdd.length;i<len;++i){var templateClone=this.templateNode.cloneNode(true);var childContext;if(this.noContext){childContext=this.$context.extend({'$item':valuesToAdd[i]});}else{childContext=this.$context.createChildContext(valuesToAdd[i],this.as||null);}\nko.applyBindingsToDescendants(childContext,templateClone);var childNodes=ko.virtualElements.childNodes(templateClone);allChildNodes.push.apply(allChildNodes,Array.prototype.slice.call(childNodes));this.lastNodesList.splice(index+i,0,childNodes[childNodes.length-1]);}\ninsertAllAfter(this.element,allChildNodes,referenceElement);};FastForEach.prototype.deleted=function(changeItem){var index=changeItem.index;var ptr=this.lastNodesList[index],lastNode=this.lastNodesList[index-1]||this.element;do{ptr=ptr.previousSibling;ko.removeNode((ptr&&ptr.nextSibling)||ko.virtualElements.firstChild(this.element));}while(ptr&&ptr!==lastNode);this.lastNodesList[index]=this.lastNodesList[index-1];this.indexesToDelete.push(index);};FastForEach.prototype.clearDeletedIndexes=function(){for(var i=this.indexesToDelete.length-1;i>=0;--i){this.lastNodesList.splice(this.indexesToDelete[i],1);}\nthis.indexesToDelete=[];};ko.bindingHandlers.fastForEach={init:function init(element,valueAccessor,bindings,vm,context){var value=valueAccessor(),ffe;if(isPlainObject(value)){value.element=value.element||element;value.$context=context;ffe=new FastForEach(value);}else{ffe=new FastForEach({element:element,data:ko.unwrap(context.$rawData)===value?context.$rawData:value,$context:context});}\nko.utils.domNodeDisposal.addDisposeCallback(element,function(){ffe.dispose();});return{controlsDescendantBindings:true};},FastForEach:FastForEach};ko.virtualElements.allowedBindings.fastForEach=true;}));","knockoutjs/knockout-repeat.min.js":"(function(factory){if(typeof define==='function'&&define.amd){define(['knockout'],factory);}else if(typeof exports==='object'){factory(require('knockout'));}else{factory(window.ko);}})(function(ko){if(!ko.virtualElements)\nthrow Error('Repeat requires at least Knockout 2.1');var ko_bindingFlags=ko.bindingFlags||{};var ko_unwrap=ko.utils.unwrapObservable;var koProtoName='__ko_proto__';if(ko.version>=\"3.0.0\"){var provider=ko.bindingProvider.instance,previousPreprocessFn=provider.preprocessNode;provider.preprocessNode=function(node){var newNodes,nodeBinding;if(!previousPreprocessFn||!(newNodes=previousPreprocessFn.call(this,node))){if(node.nodeType===1&&(nodeBinding=node.getAttribute('data-bind'))){if(/^\\s*repeat\\s*:/.test(nodeBinding)){var leadingComment=node.ownerDocument.createComment('ko '+nodeBinding),trailingComment=node.ownerDocument.createComment('/ko');node.parentNode.insertBefore(leadingComment,node);node.parentNode.insertBefore(trailingComment,node.nextSibling);node.removeAttribute('data-bind');newNodes=[leadingComment,node,trailingComment];}}}\nreturn newNodes;};}\nko.virtualElements.allowedBindings.repeat=true;ko.bindingHandlers.repeat={flags:ko_bindingFlags.contentBind|ko_bindingFlags.canUseVirtual,init:function(element,valueAccessor,allBindingsAccessor,xxx,bindingContext){var repeatParam=ko_unwrap(valueAccessor());if(repeatParam&&typeof repeatParam=='object'&&!('length'in repeatParam)){var repeatIndex=repeatParam.index,repeatData=repeatParam.item,repeatStep=repeatParam.step,repeatReversed=repeatParam.reverse,repeatBind=repeatParam.bind,repeatInit=repeatParam.init,repeatUpdate=repeatParam.update;}\nrepeatIndex=repeatIndex||'$index';repeatData=repeatData||ko.bindingHandlers.repeat.itemName||'$item';repeatStep=repeatStep||1;repeatReversed=repeatReversed||false;var parent=element.parentNode,placeholder;if(element.nodeType==8){var childNodes=ko.utils.arrayFilter(ko.virtualElements.childNodes(element),function(node){return node.nodeType==1;});if(childNodes.length!==1){throw Error(\"Repeat binding requires a single element to repeat\");}\nko.virtualElements.emptyNode(element);placeholder=repeatReversed?element:element.nextSibling;element=childNodes[0];}else{var origBindString=element.getAttribute('data-bind');ko.cleanNode(element);element.removeAttribute('data-bind');placeholder=element.ownerDocument.createComment('ko_repeatplaceholder '+origBindString);parent.replaceChild(placeholder,element);}\nif(!repeatBind){repeatBind=element.getAttribute('data-repeat-bind');if(repeatBind){element.removeAttribute('data-repeat-bind');}}\nvar cleanNode=element.cloneNode(true);if(typeof repeatBind==\"string\"){cleanNode.setAttribute('data-bind',repeatBind);repeatBind=null;}\nvar lastRepeatCount=0,notificationObservable=ko.observable(),repeatArray,arrayObservable;if(repeatInit){repeatInit(parent);}\nvar subscribable=ko.computed(function(){function makeArrayItemAccessor(index){var f=function(newValue){var item=repeatArray[index];if(!arguments.length){notificationObservable();return ko_unwrap(item);}\nif(ko.isObservable(item)){item(newValue);}else if(arrayObservable&&arrayObservable.splice){arrayObservable.splice(index,1,newValue);}else{repeatArray[index]=newValue;}\nreturn this;};f[koProtoName]=ko.observable;return f;}\nfunction makeBinding(item,index,context){return repeatArray?function(){return repeatBind.call(bindingContext.$data,item,index,context);}:function(){return repeatBind.call(bindingContext.$data,index,context);}}\nvar paramObservable=valueAccessor(),repeatParam=ko_unwrap(paramObservable),repeatCount=0;if(repeatParam&&typeof repeatParam=='object'){if('length'in repeatParam){repeatArray=repeatParam;repeatCount=repeatArray.length;}else{if('foreach'in repeatParam){repeatArray=ko_unwrap(paramObservable=repeatParam.foreach);if(repeatArray&&typeof repeatArray=='object'&&'length'in repeatArray){repeatCount=repeatArray.length||0;}else{repeatCount=repeatArray||0;repeatArray=null;}}\nif('count'in repeatParam)\nrepeatCount=ko_unwrap(repeatParam.count)||repeatCount;if('limit'in repeatParam)\nrepeatCount=Math.min(repeatCount,ko_unwrap(repeatParam.limit))||repeatCount;}\narrayObservable=repeatArray&&ko.isObservable(paramObservable)?paramObservable:null;}else{repeatCount=repeatParam||0;}\nfor(;lastRepeatCount>repeatCount;lastRepeatCount-=repeatStep){ko.removeNode(repeatReversed?placeholder.nextSibling:placeholder.previousSibling);}\nnotificationObservable.notifySubscribers();for(;lastRepeatCount<repeatCount;lastRepeatCount+=repeatStep){var newNode=cleanNode.cloneNode(true);parent.insertBefore(newNode,repeatReversed?placeholder.nextSibling:placeholder);newNode.setAttribute('data-repeat-index',lastRepeatCount);if(repeatArray&&repeatData=='$data'){var newContext=bindingContext.createChildContext(makeArrayItemAccessor(lastRepeatCount));}else{var newContext=bindingContext.extend();if(repeatArray)\nnewContext[repeatData]=makeArrayItemAccessor(lastRepeatCount);}\nnewContext[repeatIndex]=lastRepeatCount;if(repeatBind){var result=ko.applyBindingsToNode(newNode,makeBinding(newContext[repeatData],lastRepeatCount,newContext),newContext,true),shouldBindDescendants=result&&result.shouldBindDescendants;}\nif(!repeatBind||(result&&shouldBindDescendants!==false)){ko.applyBindings(newContext,newNode);}}\nif(repeatUpdate){repeatUpdate(parent);}},null,{disposeWhenNodeIsRemoved:placeholder});return{controlsDescendantBindings:true,subscribable:subscribable};}};});","knockoutjs/knockout.min.js":"/*!\n * Knockout JavaScript library v3.5.1\n * (c) The Knockout.js team - http://knockoutjs.com/\n * License: MIT (http://www.opensource.org/licenses/mit-license.php)\n */\n(function(){var DEBUG=true;(function(undefined){var window=this||(0,eval)('this'),document=window['document'],navigator=window['navigator'],jQueryInstance=window[\"jQuery\"],JSON=window[\"JSON\"];if(!jQueryInstance&&typeof jQuery!==\"undefined\"){jQueryInstance=jQuery;}\n(function(factory){if(typeof define==='function'&&define['amd']){define(['exports','require'],factory);}else if(typeof exports==='object'&&typeof module==='object'){factory(module['exports']||exports);}else{factory(window['ko']={});}}(function(koExports,amdRequire){var ko=typeof koExports!=='undefined'?koExports:{};ko.exportSymbol=function(koPath,object){var tokens=koPath.split(\".\");var target=ko;for(var i=0;i<tokens.length-1;i++)\ntarget=target[tokens[i]];target[tokens[tokens.length-1]]=object;};ko.exportProperty=function(owner,publicName,object){owner[publicName]=object;};ko.version=\"3.5.1\";ko.exportSymbol('version',ko.version);ko.options={'deferUpdates':false,'useOnlyNativeEvents':false,'foreachHidesDestroyed':false};ko.utils=(function(){var hasOwnProperty=Object.prototype.hasOwnProperty;function objectForEach(obj,action){for(var prop in obj){if(hasOwnProperty.call(obj,prop)){action(prop,obj[prop]);}}}\nfunction extend(target,source){if(source){for(var prop in source){if(hasOwnProperty.call(source,prop)){target[prop]=source[prop];}}}\nreturn target;}\nfunction setPrototypeOf(obj,proto){obj.__proto__=proto;return obj;}\nvar canSetPrototype=({__proto__:[]}instanceof Array);var canUseSymbols=!DEBUG&&typeof Symbol==='function';var knownEvents={},knownEventTypesByEventName={};var keyEventTypeName=(navigator&&/Firefox\\/2/i.test(navigator.userAgent))?'KeyboardEvent':'UIEvents';knownEvents[keyEventTypeName]=['keyup','keydown','keypress'];knownEvents['MouseEvents']=['click','dblclick','mousedown','mouseup','mousemove','mouseover','mouseout','mouseenter','mouseleave'];objectForEach(knownEvents,function(eventType,knownEventsForType){if(knownEventsForType.length){for(var i=0,j=knownEventsForType.length;i<j;i++)\nknownEventTypesByEventName[knownEventsForType[i]]=eventType;}});var eventsThatMustBeRegisteredUsingAttachEvent={'propertychange':true};var ieVersion=document&&(function(){var version=3,div=document.createElement('div'),iElems=div.getElementsByTagName('i');while(div.innerHTML='<!--[if gt IE '+(++version)+']><i></i><![endif]-->',iElems[0]){}\nreturn version>4?version:undefined;}());var isIe6=ieVersion===6,isIe7=ieVersion===7;function isClickOnCheckableElement(element,eventType){if((ko.utils.tagNameLower(element)!==\"input\")||!element.type)return false;if(eventType.toLowerCase()!=\"click\")return false;var inputType=element.type;return(inputType==\"checkbox\")||(inputType==\"radio\");}\nvar cssClassNameRegex=/\\S+/g;var jQueryEventAttachName;function toggleDomNodeCssClass(node,classNames,shouldHaveClass){var addOrRemoveFn;if(classNames){if(typeof node.classList==='object'){addOrRemoveFn=node.classList[shouldHaveClass?'add':'remove'];ko.utils.arrayForEach(classNames.match(cssClassNameRegex),function(className){addOrRemoveFn.call(node.classList,className);});}else if(typeof node.className['baseVal']==='string'){toggleObjectClassPropertyString(node.className,'baseVal',classNames,shouldHaveClass);}else{toggleObjectClassPropertyString(node,'className',classNames,shouldHaveClass);}}}\nfunction toggleObjectClassPropertyString(obj,prop,classNames,shouldHaveClass){var currentClassNames=obj[prop].match(cssClassNameRegex)||[];ko.utils.arrayForEach(classNames.match(cssClassNameRegex),function(className){ko.utils.addOrRemoveItem(currentClassNames,className,shouldHaveClass);});obj[prop]=currentClassNames.join(\" \");}\nreturn{fieldsIncludedWithJsonPost:['authenticity_token',/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(array,action,actionOwner){for(var i=0,j=array.length;i<j;i++){action.call(actionOwner,array[i],i,array);}},arrayIndexOf:typeof Array.prototype.indexOf==\"function\"?function(array,item){return Array.prototype.indexOf.call(array,item);}:function(array,item){for(var i=0,j=array.length;i<j;i++){if(array[i]===item)\nreturn i;}\nreturn-1;},arrayFirst:function(array,predicate,predicateOwner){for(var i=0,j=array.length;i<j;i++){if(predicate.call(predicateOwner,array[i],i,array))\nreturn array[i];}\nreturn undefined;},arrayRemoveItem:function(array,itemToRemove){var index=ko.utils.arrayIndexOf(array,itemToRemove);if(index>0){array.splice(index,1);}\nelse if(index===0){array.shift();}},arrayGetDistinctValues:function(array){var result=[];if(array){ko.utils.arrayForEach(array,function(item){if(ko.utils.arrayIndexOf(result,item)<0)\nresult.push(item);});}\nreturn result;},arrayMap:function(array,mapping,mappingOwner){var result=[];if(array){for(var i=0,j=array.length;i<j;i++)\nresult.push(mapping.call(mappingOwner,array[i],i));}\nreturn result;},arrayFilter:function(array,predicate,predicateOwner){var result=[];if(array){for(var i=0,j=array.length;i<j;i++)\nif(predicate.call(predicateOwner,array[i],i))\nresult.push(array[i]);}\nreturn result;},arrayPushAll:function(array,valuesToPush){if(valuesToPush instanceof Array)\narray.push.apply(array,valuesToPush);else\nfor(var i=0,j=valuesToPush.length;i<j;i++)\narray.push(valuesToPush[i]);return array;},addOrRemoveItem:function(array,value,included){var existingEntryIndex=ko.utils.arrayIndexOf(ko.utils.peekObservable(array),value);if(existingEntryIndex<0){if(included)\narray.push(value);}else{if(!included)\narray.splice(existingEntryIndex,1);}},canSetPrototype:canSetPrototype,extend:extend,setPrototypeOf:setPrototypeOf,setPrototypeOfOrExtend:canSetPrototype?setPrototypeOf:extend,objectForEach:objectForEach,objectMap:function(source,mapping,mappingOwner){if(!source)\nreturn source;var target={};for(var prop in source){if(hasOwnProperty.call(source,prop)){target[prop]=mapping.call(mappingOwner,source[prop],prop,source);}}\nreturn target;},emptyDomNode:function(domNode){while(domNode.firstChild){ko.removeNode(domNode.firstChild);}},moveCleanedNodesToContainerElement:function(nodes){var nodesArray=ko.utils.makeArray(nodes);var templateDocument=(nodesArray[0]&&nodesArray[0].ownerDocument)||document;var container=templateDocument.createElement('div');for(var i=0,j=nodesArray.length;i<j;i++){container.appendChild(ko.cleanNode(nodesArray[i]));}\nreturn container;},cloneNodes:function(nodesArray,shouldCleanNodes){for(var i=0,j=nodesArray.length,newNodesArray=[];i<j;i++){var clonedNode=nodesArray[i].cloneNode(true);newNodesArray.push(shouldCleanNodes?ko.cleanNode(clonedNode):clonedNode);}\nreturn newNodesArray;},setDomNodeChildren:function(domNode,childNodes){ko.utils.emptyDomNode(domNode);if(childNodes){for(var i=0,j=childNodes.length;i<j;i++)\ndomNode.appendChild(childNodes[i]);}},replaceDomNodes:function(nodeToReplaceOrNodeArray,newNodesArray){var nodesToReplaceArray=nodeToReplaceOrNodeArray.nodeType?[nodeToReplaceOrNodeArray]:nodeToReplaceOrNodeArray;if(nodesToReplaceArray.length>0){var insertionPoint=nodesToReplaceArray[0];var parent=insertionPoint.parentNode;for(var i=0,j=newNodesArray.length;i<j;i++)\nparent.insertBefore(newNodesArray[i],insertionPoint);for(var i=0,j=nodesToReplaceArray.length;i<j;i++){ko.removeNode(nodesToReplaceArray[i]);}}},fixUpContinuousNodeArray:function(continuousNodeArray,parentNode){if(continuousNodeArray.length){parentNode=(parentNode.nodeType===8&&parentNode.parentNode)||parentNode;while(continuousNodeArray.length&&continuousNodeArray[0].parentNode!==parentNode)\ncontinuousNodeArray.splice(0,1);while(continuousNodeArray.length>1&&continuousNodeArray[continuousNodeArray.length-1].parentNode!==parentNode)\ncontinuousNodeArray.length--;if(continuousNodeArray.length>1){var current=continuousNodeArray[0],last=continuousNodeArray[continuousNodeArray.length-1];continuousNodeArray.length=0;while(current!==last){continuousNodeArray.push(current);current=current.nextSibling;}\ncontinuousNodeArray.push(last);}}\nreturn continuousNodeArray;},setOptionNodeSelectionState:function(optionNode,isSelected){if(ieVersion<7)\noptionNode.setAttribute(\"selected\",isSelected);else\noptionNode.selected=isSelected;},stringTrim:function(string){return string===null||string===undefined?'':string.trim?string.trim():string.toString().replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,'');},stringStartsWith:function(string,startsWith){string=string||\"\";if(startsWith.length>string.length)\nreturn false;return string.substring(0,startsWith.length)===startsWith;},domNodeIsContainedBy:function(node,containedByNode){if(node===containedByNode)\nreturn true;if(node.nodeType===11)\nreturn false;if(containedByNode.contains)\nreturn containedByNode.contains(node.nodeType!==1?node.parentNode:node);if(containedByNode.compareDocumentPosition)\nreturn(containedByNode.compareDocumentPosition(node)&16)==16;while(node&&node!=containedByNode){node=node.parentNode;}\nreturn!!node;},domNodeIsAttachedToDocument:function(node){return ko.utils.domNodeIsContainedBy(node,node.ownerDocument.documentElement);},anyDomNodeIsAttachedToDocument:function(nodes){return!!ko.utils.arrayFirst(nodes,ko.utils.domNodeIsAttachedToDocument);},tagNameLower:function(element){return element&&element.tagName&&element.tagName.toLowerCase();},catchFunctionErrors:function(delegate){return ko['onError']?function(){try{return delegate.apply(this,arguments);}catch(e){ko['onError']&&ko['onError'](e);throw e;}}:delegate;},setTimeout:function(handler,timeout){return setTimeout(ko.utils.catchFunctionErrors(handler),timeout);},deferError:function(error){setTimeout(function(){ko['onError']&&ko['onError'](error);throw error;},0);},registerEventHandler:function(element,eventType,handler){var wrappedHandler=ko.utils.catchFunctionErrors(handler);var mustUseAttachEvent=eventsThatMustBeRegisteredUsingAttachEvent[eventType];if(!ko.options['useOnlyNativeEvents']&&!mustUseAttachEvent&&jQueryInstance){if(!jQueryEventAttachName){jQueryEventAttachName=(typeof jQueryInstance(element)['on']=='function')?'on':'bind';}\njQueryInstance(element)[jQueryEventAttachName](eventType,wrappedHandler);}else if(!mustUseAttachEvent&&typeof element.addEventListener==\"function\")\nelement.addEventListener(eventType,wrappedHandler,false);else if(typeof element.attachEvent!=\"undefined\"){var attachEventHandler=function(event){wrappedHandler.call(element,event);},attachEventName=\"on\"+eventType;element.attachEvent(attachEventName,attachEventHandler);ko.utils.domNodeDisposal.addDisposeCallback(element,function(){element.detachEvent(attachEventName,attachEventHandler);});}else\nthrow new Error(\"Browser doesn't support addEventListener or attachEvent\");},triggerEvent:function(element,eventType){if(!(element&&element.nodeType))\nthrow new Error(\"element must be a DOM node when calling triggerEvent\");var useClickWorkaround=isClickOnCheckableElement(element,eventType);if(!ko.options['useOnlyNativeEvents']&&jQueryInstance&&!useClickWorkaround){jQueryInstance(element)['trigger'](eventType);}else if(typeof document.createEvent==\"function\"){if(typeof element.dispatchEvent==\"function\"){var eventCategory=knownEventTypesByEventName[eventType]||\"HTMLEvents\";var event=document.createEvent(eventCategory);event.initEvent(eventType,true,true,window,0,0,0,0,0,false,false,false,false,0,element);element.dispatchEvent(event);}\nelse\nthrow new Error(\"The supplied element doesn't support dispatchEvent\");}else if(useClickWorkaround&&element.click){element.click();}else if(typeof element.fireEvent!=\"undefined\"){element.fireEvent(\"on\"+eventType);}else{throw new Error(\"Browser doesn't support triggering events\");}},unwrapObservable:function(value){return ko.isObservable(value)?value():value;},peekObservable:function(value){return ko.isObservable(value)?value.peek():value;},toggleDomNodeCssClass:toggleDomNodeCssClass,setTextContent:function(element,textContent){var value=ko.utils.unwrapObservable(textContent);if((value===null)||(value===undefined))\nvalue=\"\";var innerTextNode=ko.virtualElements.firstChild(element);if(!innerTextNode||innerTextNode.nodeType!=3||ko.virtualElements.nextSibling(innerTextNode)){ko.virtualElements.setDomNodeChildren(element,[element.ownerDocument.createTextNode(value)]);}else{innerTextNode.data=value;}\nko.utils.forceRefresh(element);},setElementName:function(element,name){element.name=name;if(ieVersion<=7){try{var escapedName=element.name.replace(/[&<>'\"]/g,function(r){return\"&#\"+r.charCodeAt(0)+\";\";});element.mergeAttributes(document.createElement(\"<input name='\"+escapedName+\"'/>\"),false);}\ncatch(e){}}},forceRefresh:function(node){if(ieVersion>=9){var elem=node.nodeType==1?node:node.parentNode;if(elem.style)\nelem.style.zoom=elem.style.zoom;}},ensureSelectElementIsRenderedCorrectly:function(selectElement){if(ieVersion){var originalWidth=selectElement.style.width;selectElement.style.width=0;selectElement.style.width=originalWidth;}},range:function(min,max){min=ko.utils.unwrapObservable(min);max=ko.utils.unwrapObservable(max);var result=[];for(var i=min;i<=max;i++)\nresult.push(i);return result;},makeArray:function(arrayLikeObject){var result=[];for(var i=0,j=arrayLikeObject.length;i<j;i++){result.push(arrayLikeObject[i]);};return result;},createSymbolOrString:function(identifier){return canUseSymbols?Symbol(identifier):identifier;},isIe6:isIe6,isIe7:isIe7,ieVersion:ieVersion,getFormFields:function(form,fieldName){var fields=ko.utils.makeArray(form.getElementsByTagName(\"input\")).concat(ko.utils.makeArray(form.getElementsByTagName(\"textarea\")));var isMatchingField=(typeof fieldName=='string')?function(field){return field.name===fieldName}:function(field){return fieldName.test(field.name)};var matches=[];for(var i=fields.length-1;i>=0;i--){if(isMatchingField(fields[i]))\nmatches.push(fields[i]);};return matches;},parseJson:function(jsonString){if(typeof jsonString==\"string\"){jsonString=ko.utils.stringTrim(jsonString);if(jsonString){if(JSON&&JSON.parse)\nreturn JSON.parse(jsonString);return(new Function(\"return \"+jsonString))();}}\nreturn null;},stringifyJson:function(data,replacer,space){if(!JSON||!JSON.stringify)\nthrow new Error(\"Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js\");return JSON.stringify(ko.utils.unwrapObservable(data),replacer,space);},postJson:function(urlOrForm,data,options){options=options||{};var params=options['params']||{};var includeFields=options['includeFields']||this.fieldsIncludedWithJsonPost;var url=urlOrForm;if((typeof urlOrForm=='object')&&(ko.utils.tagNameLower(urlOrForm)===\"form\")){var originalForm=urlOrForm;url=originalForm.action;for(var i=includeFields.length-1;i>=0;i--){var fields=ko.utils.getFormFields(originalForm,includeFields[i]);for(var j=fields.length-1;j>=0;j--)\nparams[fields[j].name]=fields[j].value;}}\ndata=ko.utils.unwrapObservable(data);var form=document.createElement(\"form\");form.style.display=\"none\";form.action=url;form.method=\"post\";for(var key in data){var input=document.createElement(\"input\");input.type=\"hidden\";input.name=key;input.value=ko.utils.stringifyJson(ko.utils.unwrapObservable(data[key]));form.appendChild(input);}\nobjectForEach(params,function(key,value){var input=document.createElement(\"input\");input.type=\"hidden\";input.name=key;input.value=value;form.appendChild(input);});document.body.appendChild(form);options['submitter']?options['submitter'](form):form.submit();setTimeout(function(){form.parentNode.removeChild(form);},0);}}}());ko.exportSymbol('utils',ko.utils);ko.exportSymbol('utils.arrayForEach',ko.utils.arrayForEach);ko.exportSymbol('utils.arrayFirst',ko.utils.arrayFirst);ko.exportSymbol('utils.arrayFilter',ko.utils.arrayFilter);ko.exportSymbol('utils.arrayGetDistinctValues',ko.utils.arrayGetDistinctValues);ko.exportSymbol('utils.arrayIndexOf',ko.utils.arrayIndexOf);ko.exportSymbol('utils.arrayMap',ko.utils.arrayMap);ko.exportSymbol('utils.arrayPushAll',ko.utils.arrayPushAll);ko.exportSymbol('utils.arrayRemoveItem',ko.utils.arrayRemoveItem);ko.exportSymbol('utils.cloneNodes',ko.utils.cloneNodes);ko.exportSymbol('utils.createSymbolOrString',ko.utils.createSymbolOrString);ko.exportSymbol('utils.extend',ko.utils.extend);ko.exportSymbol('utils.fieldsIncludedWithJsonPost',ko.utils.fieldsIncludedWithJsonPost);ko.exportSymbol('utils.getFormFields',ko.utils.getFormFields);ko.exportSymbol('utils.objectMap',ko.utils.objectMap);ko.exportSymbol('utils.peekObservable',ko.utils.peekObservable);ko.exportSymbol('utils.postJson',ko.utils.postJson);ko.exportSymbol('utils.parseJson',ko.utils.parseJson);ko.exportSymbol('utils.registerEventHandler',ko.utils.registerEventHandler);ko.exportSymbol('utils.stringifyJson',ko.utils.stringifyJson);ko.exportSymbol('utils.range',ko.utils.range);ko.exportSymbol('utils.toggleDomNodeCssClass',ko.utils.toggleDomNodeCssClass);ko.exportSymbol('utils.triggerEvent',ko.utils.triggerEvent);ko.exportSymbol('utils.unwrapObservable',ko.utils.unwrapObservable);ko.exportSymbol('utils.objectForEach',ko.utils.objectForEach);ko.exportSymbol('utils.addOrRemoveItem',ko.utils.addOrRemoveItem);ko.exportSymbol('utils.setTextContent',ko.utils.setTextContent);ko.exportSymbol('unwrap',ko.utils.unwrapObservable);if(!Function.prototype['bind']){Function.prototype['bind']=function(object){var originalFunction=this;if(arguments.length===1){return function(){return originalFunction.apply(object,arguments);};}else{var partialArgs=Array.prototype.slice.call(arguments,1);return function(){var args=partialArgs.slice(0);args.push.apply(args,arguments);return originalFunction.apply(object,args);};}};}\nko.utils.domData=new(function(){var uniqueId=0;var dataStoreKeyExpandoPropertyName=\"__ko__\"+(new Date).getTime();var dataStore={};var getDataForNode,clear;if(!ko.utils.ieVersion){getDataForNode=function(node,createIfNotFound){var dataForNode=node[dataStoreKeyExpandoPropertyName];if(!dataForNode&&createIfNotFound){dataForNode=node[dataStoreKeyExpandoPropertyName]={};}\nreturn dataForNode;};clear=function(node){if(node[dataStoreKeyExpandoPropertyName]){delete node[dataStoreKeyExpandoPropertyName];return true;}\nreturn false;};}else{getDataForNode=function(node,createIfNotFound){var dataStoreKey=node[dataStoreKeyExpandoPropertyName];var hasExistingDataStore=dataStoreKey&&(dataStoreKey!==\"null\")&&dataStore[dataStoreKey];if(!hasExistingDataStore){if(!createIfNotFound)\nreturn undefined;dataStoreKey=node[dataStoreKeyExpandoPropertyName]=\"ko\"+uniqueId++;dataStore[dataStoreKey]={};}\nreturn dataStore[dataStoreKey];};clear=function(node){var dataStoreKey=node[dataStoreKeyExpandoPropertyName];if(dataStoreKey){delete dataStore[dataStoreKey];node[dataStoreKeyExpandoPropertyName]=null;return true;}\nreturn false;};}\nreturn{get:function(node,key){var dataForNode=getDataForNode(node,false);return dataForNode&&dataForNode[key];},set:function(node,key,value){var dataForNode=getDataForNode(node,value!==undefined);dataForNode&&(dataForNode[key]=value);},getOrSet:function(node,key,value){var dataForNode=getDataForNode(node,true);return dataForNode[key]||(dataForNode[key]=value);},clear:clear,nextKey:function(){return(uniqueId++)+dataStoreKeyExpandoPropertyName;}};})();ko.exportSymbol('utils.domData',ko.utils.domData);ko.exportSymbol('utils.domData.clear',ko.utils.domData.clear);ko.utils.domNodeDisposal=new(function(){var domDataKey=ko.utils.domData.nextKey();var cleanableNodeTypes={1:true,8:true,9:true};var cleanableNodeTypesWithDescendants={1:true,9:true};function getDisposeCallbacksCollection(node,createIfNotFound){var allDisposeCallbacks=ko.utils.domData.get(node,domDataKey);if((allDisposeCallbacks===undefined)&&createIfNotFound){allDisposeCallbacks=[];ko.utils.domData.set(node,domDataKey,allDisposeCallbacks);}\nreturn allDisposeCallbacks;}\nfunction destroyCallbacksCollection(node){ko.utils.domData.set(node,domDataKey,undefined);}\nfunction cleanSingleNode(node){var callbacks=getDisposeCallbacksCollection(node,false);if(callbacks){callbacks=callbacks.slice(0);for(var i=0;i<callbacks.length;i++)\ncallbacks[i](node);}\nko.utils.domData.clear(node);ko.utils.domNodeDisposal[\"cleanExternalData\"](node);if(cleanableNodeTypesWithDescendants[node.nodeType]){cleanNodesInList(node.childNodes,true);}}\nfunction cleanNodesInList(nodeList,onlyComments){var cleanedNodes=[],lastCleanedNode;for(var i=0;i<nodeList.length;i++){if(!onlyComments||nodeList[i].nodeType===8){cleanSingleNode(cleanedNodes[cleanedNodes.length]=lastCleanedNode=nodeList[i]);if(nodeList[i]!==lastCleanedNode){while(i--&&ko.utils.arrayIndexOf(cleanedNodes,nodeList[i])==-1){}}}}}\nreturn{addDisposeCallback:function(node,callback){if(typeof callback!=\"function\")\nthrow new Error(\"Callback must be a function\");getDisposeCallbacksCollection(node,true).push(callback);},removeDisposeCallback:function(node,callback){var callbacksCollection=getDisposeCallbacksCollection(node,false);if(callbacksCollection){ko.utils.arrayRemoveItem(callbacksCollection,callback);if(callbacksCollection.length==0)\ndestroyCallbacksCollection(node);}},cleanNode:function(node){ko.dependencyDetection.ignore(function(){if(cleanableNodeTypes[node.nodeType]){cleanSingleNode(node);if(cleanableNodeTypesWithDescendants[node.nodeType]){cleanNodesInList(node.getElementsByTagName(\"*\"));}}});return node;},removeNode:function(node){ko.cleanNode(node);if(node.parentNode)\nnode.parentNode.removeChild(node);},\"cleanExternalData\":function(node){if(jQueryInstance&&(typeof jQueryInstance['cleanData']==\"function\"))\njQueryInstance['cleanData']([node]);}};})();ko.cleanNode=ko.utils.domNodeDisposal.cleanNode;ko.removeNode=ko.utils.domNodeDisposal.removeNode;ko.exportSymbol('cleanNode',ko.cleanNode);ko.exportSymbol('removeNode',ko.removeNode);ko.exportSymbol('utils.domNodeDisposal',ko.utils.domNodeDisposal);ko.exportSymbol('utils.domNodeDisposal.addDisposeCallback',ko.utils.domNodeDisposal.addDisposeCallback);ko.exportSymbol('utils.domNodeDisposal.removeDisposeCallback',ko.utils.domNodeDisposal.removeDisposeCallback);(function(){var none=[0,\"\",\"\"],table=[1,\"<table>\",\"</table>\"],tbody=[2,\"<table><tbody>\",\"</tbody></table>\"],tr=[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],select=[1,\"<select multiple='multiple'>\",\"</select>\"],lookup={'thead':table,'tbody':table,'tfoot':table,'tr':tbody,'td':tr,'th':tr,'option':select,'optgroup':select},mayRequireCreateElementHack=ko.utils.ieVersion<=8;function getWrap(tags){var m=tags.match(/^(?:<!--.*?-->\\s*?)*?<([a-z]+)[\\s>]/);return(m&&lookup[m[1]])||none;}\nfunction simpleHtmlParse(html,documentContext){documentContext||(documentContext=document);var windowContext=documentContext['parentWindow']||documentContext['defaultView']||window;var tags=ko.utils.stringTrim(html).toLowerCase(),div=documentContext.createElement(\"div\"),wrap=getWrap(tags),depth=wrap[0];var markup=\"ignored<div>\"+wrap[1]+html+wrap[2]+\"</div>\";if(typeof windowContext['innerShiv']==\"function\"){div.appendChild(windowContext['innerShiv'](markup));}else{if(mayRequireCreateElementHack){documentContext.body.appendChild(div);}\ndiv.innerHTML=markup;if(mayRequireCreateElementHack){div.parentNode.removeChild(div);}}\nwhile(depth--)\ndiv=div.lastChild;return ko.utils.makeArray(div.lastChild.childNodes);}\nfunction jQueryHtmlParse(html,documentContext){if(jQueryInstance['parseHTML']){return jQueryInstance['parseHTML'](html,documentContext)||[];}else{var elems=jQueryInstance['clean']([html],documentContext);if(elems&&elems[0]){var elem=elems[0];while(elem.parentNode&&elem.parentNode.nodeType!==11)\nelem=elem.parentNode;if(elem.parentNode)\nelem.parentNode.removeChild(elem);}\nreturn elems;}}\nko.utils.parseHtmlFragment=function(html,documentContext){return jQueryInstance?jQueryHtmlParse(html,documentContext):simpleHtmlParse(html,documentContext);};ko.utils.parseHtmlForTemplateNodes=function(html,documentContext){var nodes=ko.utils.parseHtmlFragment(html,documentContext);return(nodes.length&&nodes[0].parentElement)||ko.utils.moveCleanedNodesToContainerElement(nodes);};ko.utils.setHtml=function(node,html){ko.utils.emptyDomNode(node);html=ko.utils.unwrapObservable(html);if((html!==null)&&(html!==undefined)){if(typeof html!='string')\nhtml=html.toString();if(jQueryInstance){jQueryInstance(node)['html'](html);}else{var parsedNodes=ko.utils.parseHtmlFragment(html,node.ownerDocument);for(var i=0;i<parsedNodes.length;i++)\nnode.appendChild(parsedNodes[i]);}}};})();ko.exportSymbol('utils.parseHtmlFragment',ko.utils.parseHtmlFragment);ko.exportSymbol('utils.setHtml',ko.utils.setHtml);ko.memoization=(function(){var memos={};function randomMax8HexChars(){return(((1+Math.random())*0x100000000)|0).toString(16).substring(1);}\nfunction generateRandomId(){return randomMax8HexChars()+randomMax8HexChars();}\nfunction findMemoNodes(rootNode,appendToArray){if(!rootNode)\nreturn;if(rootNode.nodeType==8){var memoId=ko.memoization.parseMemoText(rootNode.nodeValue);if(memoId!=null)\nappendToArray.push({domNode:rootNode,memoId:memoId});}else if(rootNode.nodeType==1){for(var i=0,childNodes=rootNode.childNodes,j=childNodes.length;i<j;i++)\nfindMemoNodes(childNodes[i],appendToArray);}}\nreturn{memoize:function(callback){if(typeof callback!=\"function\")\nthrow new Error(\"You can only pass a function to ko.memoization.memoize()\");var memoId=generateRandomId();memos[memoId]=callback;return\"<!--[ko_memo:\"+memoId+\"]-->\";},unmemoize:function(memoId,callbackParams){var callback=memos[memoId];if(callback===undefined)\nthrow new Error(\"Couldn't find any memo with ID \"+memoId+\". Perhaps it's already been unmemoized.\");try{callback.apply(null,callbackParams||[]);return true;}\nfinally{delete memos[memoId];}},unmemoizeDomNodeAndDescendants:function(domNode,extraCallbackParamsArray){var memos=[];findMemoNodes(domNode,memos);for(var i=0,j=memos.length;i<j;i++){var node=memos[i].domNode;var combinedParams=[node];if(extraCallbackParamsArray)\nko.utils.arrayPushAll(combinedParams,extraCallbackParamsArray);ko.memoization.unmemoize(memos[i].memoId,combinedParams);node.nodeValue=\"\";if(node.parentNode)\nnode.parentNode.removeChild(node);}},parseMemoText:function(memoText){var match=memoText.match(/^\\[ko_memo\\:(.*?)\\]$/);return match?match[1]:null;}};})();ko.exportSymbol('memoization',ko.memoization);ko.exportSymbol('memoization.memoize',ko.memoization.memoize);ko.exportSymbol('memoization.unmemoize',ko.memoization.unmemoize);ko.exportSymbol('memoization.parseMemoText',ko.memoization.parseMemoText);ko.exportSymbol('memoization.unmemoizeDomNodeAndDescendants',ko.memoization.unmemoizeDomNodeAndDescendants);ko.tasks=(function(){var scheduler,taskQueue=[],taskQueueLength=0,nextHandle=1,nextIndexToProcess=0;if(window['MutationObserver']){scheduler=(function(callback){var div=document.createElement(\"div\");new MutationObserver(callback).observe(div,{attributes:true});return function(){div.classList.toggle(\"foo\");};})(scheduledProcess);}else if(document&&\"onreadystatechange\"in document.createElement(\"script\")){scheduler=function(callback){var script=document.createElement(\"script\");script.onreadystatechange=function(){script.onreadystatechange=null;document.documentElement.removeChild(script);script=null;callback();};document.documentElement.appendChild(script);};}else{scheduler=function(callback){setTimeout(callback,0);};}\nfunction processTasks(){if(taskQueueLength){var mark=taskQueueLength,countMarks=0;for(var task;nextIndexToProcess<taskQueueLength;){if(task=taskQueue[nextIndexToProcess++]){if(nextIndexToProcess>mark){if(++countMarks>=5000){nextIndexToProcess=taskQueueLength;ko.utils.deferError(Error(\"'Too much recursion' after processing \"+countMarks+\" task groups.\"));break;}\nmark=taskQueueLength;}\ntry{task();}catch(ex){ko.utils.deferError(ex);}}}}}\nfunction scheduledProcess(){processTasks();nextIndexToProcess=taskQueueLength=taskQueue.length=0;}\nfunction scheduleTaskProcessing(){ko.tasks['scheduler'](scheduledProcess);}\nvar tasks={'scheduler':scheduler,schedule:function(func){if(!taskQueueLength){scheduleTaskProcessing();}\ntaskQueue[taskQueueLength++]=func;return nextHandle++;},cancel:function(handle){var index=handle-(nextHandle-taskQueueLength);if(index>=nextIndexToProcess&&index<taskQueueLength){taskQueue[index]=null;}},'resetForTesting':function(){var length=taskQueueLength-nextIndexToProcess;nextIndexToProcess=taskQueueLength=taskQueue.length=0;return length;},runEarly:processTasks};return tasks;})();ko.exportSymbol('tasks',ko.tasks);ko.exportSymbol('tasks.schedule',ko.tasks.schedule);ko.exportSymbol('tasks.runEarly',ko.tasks.runEarly);ko.extenders={'throttle':function(target,timeout){target['throttleEvaluation']=timeout;var writeTimeoutInstance=null;return ko.dependentObservable({'read':target,'write':function(value){clearTimeout(writeTimeoutInstance);writeTimeoutInstance=ko.utils.setTimeout(function(){target(value);},timeout);}});},'rateLimit':function(target,options){var timeout,method,limitFunction;if(typeof options=='number'){timeout=options;}else{timeout=options['timeout'];method=options['method'];}\ntarget._deferUpdates=false;limitFunction=typeof method=='function'?method:method=='notifyWhenChangesStop'?debounce:throttle;target.limit(function(callback){return limitFunction(callback,timeout,options);});},'deferred':function(target,options){if(options!==true){throw new Error('The \\'deferred\\' extender only accepts the value \\'true\\', because it is not supported to turn deferral off once enabled.')}\nif(!target._deferUpdates){target._deferUpdates=true;target.limit(function(callback){var handle,ignoreUpdates=false;return function(){if(!ignoreUpdates){ko.tasks.cancel(handle);handle=ko.tasks.schedule(callback);try{ignoreUpdates=true;target['notifySubscribers'](undefined,'dirty');}finally{ignoreUpdates=false;}}};});}},'notify':function(target,notifyWhen){target[\"equalityComparer\"]=notifyWhen==\"always\"?null:valuesArePrimitiveAndEqual;}};var primitiveTypes={'undefined':1,'boolean':1,'number':1,'string':1};function valuesArePrimitiveAndEqual(a,b){var oldValueIsPrimitive=(a===null)||(typeof(a)in primitiveTypes);return oldValueIsPrimitive?(a===b):false;}\nfunction throttle(callback,timeout){var timeoutInstance;return function(){if(!timeoutInstance){timeoutInstance=ko.utils.setTimeout(function(){timeoutInstance=undefined;callback();},timeout);}};}\nfunction debounce(callback,timeout){var timeoutInstance;return function(){clearTimeout(timeoutInstance);timeoutInstance=ko.utils.setTimeout(callback,timeout);};}\nfunction applyExtenders(requestedExtenders){var target=this;if(requestedExtenders){ko.utils.objectForEach(requestedExtenders,function(key,value){var extenderHandler=ko.extenders[key];if(typeof extenderHandler=='function'){target=extenderHandler(target,value)||target;}});}\nreturn target;}\nko.exportSymbol('extenders',ko.extenders);ko.subscription=function(target,callback,disposeCallback){this._target=target;this._callback=callback;this._disposeCallback=disposeCallback;this._isDisposed=false;this._node=null;this._domNodeDisposalCallback=null;ko.exportProperty(this,'dispose',this.dispose);ko.exportProperty(this,'disposeWhenNodeIsRemoved',this.disposeWhenNodeIsRemoved);};ko.subscription.prototype.dispose=function(){var self=this;if(!self._isDisposed){if(self._domNodeDisposalCallback){ko.utils.domNodeDisposal.removeDisposeCallback(self._node,self._domNodeDisposalCallback);}\nself._isDisposed=true;self._disposeCallback();self._target=self._callback=self._disposeCallback=self._node=self._domNodeDisposalCallback=null;}};ko.subscription.prototype.disposeWhenNodeIsRemoved=function(node){this._node=node;ko.utils.domNodeDisposal.addDisposeCallback(node,this._domNodeDisposalCallback=this.dispose.bind(this));};ko.subscribable=function(){ko.utils.setPrototypeOfOrExtend(this,ko_subscribable_fn);ko_subscribable_fn.init(this);}\nvar defaultEvent=\"change\";function limitNotifySubscribers(value,event){if(!event||event===defaultEvent){this._limitChange(value);}else if(event==='beforeChange'){this._limitBeforeChange(value);}else{this._origNotifySubscribers(value,event);}}\nvar ko_subscribable_fn={init:function(instance){instance._subscriptions={\"change\":[]};instance._versionNumber=1;},subscribe:function(callback,callbackTarget,event){var self=this;event=event||defaultEvent;var boundCallback=callbackTarget?callback.bind(callbackTarget):callback;var subscription=new ko.subscription(self,boundCallback,function(){ko.utils.arrayRemoveItem(self._subscriptions[event],subscription);if(self.afterSubscriptionRemove)\nself.afterSubscriptionRemove(event);});if(self.beforeSubscriptionAdd)\nself.beforeSubscriptionAdd(event);if(!self._subscriptions[event])\nself._subscriptions[event]=[];self._subscriptions[event].push(subscription);return subscription;},\"notifySubscribers\":function(valueToNotify,event){event=event||defaultEvent;if(event===defaultEvent){this.updateVersion();}\nif(this.hasSubscriptionsForEvent(event)){var subs=event===defaultEvent&&this._changeSubscriptions||this._subscriptions[event].slice(0);try{ko.dependencyDetection.begin();for(var i=0,subscription;subscription=subs[i];++i){if(!subscription._isDisposed)\nsubscription._callback(valueToNotify);}}finally{ko.dependencyDetection.end();}}},getVersion:function(){return this._versionNumber;},hasChanged:function(versionToCheck){return this.getVersion()!==versionToCheck;},updateVersion:function(){++this._versionNumber;},limit:function(limitFunction){var self=this,selfIsObservable=ko.isObservable(self),ignoreBeforeChange,notifyNextChange,previousValue,pendingValue,didUpdate,beforeChange='beforeChange';if(!self._origNotifySubscribers){self._origNotifySubscribers=self[\"notifySubscribers\"];self[\"notifySubscribers\"]=limitNotifySubscribers;}\nvar finish=limitFunction(function(){self._notificationIsPending=false;if(selfIsObservable&&pendingValue===self){pendingValue=self._evalIfChanged?self._evalIfChanged():self();}\nvar shouldNotify=notifyNextChange||(didUpdate&&self.isDifferent(previousValue,pendingValue));didUpdate=notifyNextChange=ignoreBeforeChange=false;if(shouldNotify){self._origNotifySubscribers(previousValue=pendingValue);}});self._limitChange=function(value,isDirty){if(!isDirty||!self._notificationIsPending){didUpdate=!isDirty;}\nself._changeSubscriptions=self._subscriptions[defaultEvent].slice(0);self._notificationIsPending=ignoreBeforeChange=true;pendingValue=value;finish();};self._limitBeforeChange=function(value){if(!ignoreBeforeChange){previousValue=value;self._origNotifySubscribers(value,beforeChange);}};self._recordUpdate=function(){didUpdate=true;};self._notifyNextChangeIfValueIsDifferent=function(){if(self.isDifferent(previousValue,self.peek(true))){notifyNextChange=true;}};},hasSubscriptionsForEvent:function(event){return this._subscriptions[event]&&this._subscriptions[event].length;},getSubscriptionsCount:function(event){if(event){return this._subscriptions[event]&&this._subscriptions[event].length||0;}else{var total=0;ko.utils.objectForEach(this._subscriptions,function(eventName,subscriptions){if(eventName!=='dirty')\ntotal+=subscriptions.length;});return total;}},isDifferent:function(oldValue,newValue){return!this['equalityComparer']||!this['equalityComparer'](oldValue,newValue);},toString:function(){return'[object Object]'},extend:applyExtenders};ko.exportProperty(ko_subscribable_fn,'init',ko_subscribable_fn.init);ko.exportProperty(ko_subscribable_fn,'subscribe',ko_subscribable_fn.subscribe);ko.exportProperty(ko_subscribable_fn,'extend',ko_subscribable_fn.extend);ko.exportProperty(ko_subscribable_fn,'getSubscriptionsCount',ko_subscribable_fn.getSubscriptionsCount);if(ko.utils.canSetPrototype){ko.utils.setPrototypeOf(ko_subscribable_fn,Function.prototype);}\nko.subscribable['fn']=ko_subscribable_fn;ko.isSubscribable=function(instance){return instance!=null&&typeof instance.subscribe==\"function\"&&typeof instance[\"notifySubscribers\"]==\"function\";};ko.exportSymbol('subscribable',ko.subscribable);ko.exportSymbol('isSubscribable',ko.isSubscribable);ko.computedContext=ko.dependencyDetection=(function(){var outerFrames=[],currentFrame,lastId=0;function getId(){return++lastId;}\nfunction begin(options){outerFrames.push(currentFrame);currentFrame=options;}\nfunction end(){currentFrame=outerFrames.pop();}\nreturn{begin:begin,end:end,registerDependency:function(subscribable){if(currentFrame){if(!ko.isSubscribable(subscribable))\nthrow new Error(\"Only subscribable things can act as dependencies\");currentFrame.callback.call(currentFrame.callbackTarget,subscribable,subscribable._id||(subscribable._id=getId()));}},ignore:function(callback,callbackTarget,callbackArgs){try{begin();return callback.apply(callbackTarget,callbackArgs||[]);}finally{end();}},getDependenciesCount:function(){if(currentFrame)\nreturn currentFrame.computed.getDependenciesCount();},getDependencies:function(){if(currentFrame)\nreturn currentFrame.computed.getDependencies();},isInitial:function(){if(currentFrame)\nreturn currentFrame.isInitial;},computed:function(){if(currentFrame)\nreturn currentFrame.computed;}};})();ko.exportSymbol('computedContext',ko.computedContext);ko.exportSymbol('computedContext.getDependenciesCount',ko.computedContext.getDependenciesCount);ko.exportSymbol('computedContext.getDependencies',ko.computedContext.getDependencies);ko.exportSymbol('computedContext.isInitial',ko.computedContext.isInitial);ko.exportSymbol('computedContext.registerDependency',ko.computedContext.registerDependency);ko.exportSymbol('ignoreDependencies',ko.ignoreDependencies=ko.dependencyDetection.ignore);var observableLatestValue=ko.utils.createSymbolOrString('_latestValue');ko.observable=function(initialValue){function observable(){if(arguments.length>0){if(observable.isDifferent(observable[observableLatestValue],arguments[0])){observable.valueWillMutate();observable[observableLatestValue]=arguments[0];observable.valueHasMutated();}\nreturn this;}\nelse{ko.dependencyDetection.registerDependency(observable);return observable[observableLatestValue];}}\nobservable[observableLatestValue]=initialValue;if(!ko.utils.canSetPrototype){ko.utils.extend(observable,ko.subscribable['fn']);}\nko.subscribable['fn'].init(observable);ko.utils.setPrototypeOfOrExtend(observable,observableFn);if(ko.options['deferUpdates']){ko.extenders['deferred'](observable,true);}\nreturn observable;}\nvar observableFn={'equalityComparer':valuesArePrimitiveAndEqual,peek:function(){return this[observableLatestValue];},valueHasMutated:function(){this['notifySubscribers'](this[observableLatestValue],'spectate');this['notifySubscribers'](this[observableLatestValue]);},valueWillMutate:function(){this['notifySubscribers'](this[observableLatestValue],'beforeChange');}};if(ko.utils.canSetPrototype){ko.utils.setPrototypeOf(observableFn,ko.subscribable['fn']);}\nvar protoProperty=ko.observable.protoProperty='__ko_proto__';observableFn[protoProperty]=ko.observable;ko.isObservable=function(instance){var proto=typeof instance=='function'&&instance[protoProperty];if(proto&&proto!==observableFn[protoProperty]&&proto!==ko.computed['fn'][protoProperty]){throw Error(\"Invalid object that looks like an observable; possibly from another Knockout instance\");}\nreturn!!proto;};ko.isWriteableObservable=function(instance){return(typeof instance=='function'&&((instance[protoProperty]===observableFn[protoProperty])||(instance[protoProperty]===ko.computed['fn'][protoProperty]&&instance.hasWriteFunction)));};ko.exportSymbol('observable',ko.observable);ko.exportSymbol('isObservable',ko.isObservable);ko.exportSymbol('isWriteableObservable',ko.isWriteableObservable);ko.exportSymbol('isWritableObservable',ko.isWriteableObservable);ko.exportSymbol('observable.fn',observableFn);ko.exportProperty(observableFn,'peek',observableFn.peek);ko.exportProperty(observableFn,'valueHasMutated',observableFn.valueHasMutated);ko.exportProperty(observableFn,'valueWillMutate',observableFn.valueWillMutate);ko.observableArray=function(initialValues){initialValues=initialValues||[];if(typeof initialValues!='object'||!('length'in initialValues))\nthrow new Error(\"The argument passed when initializing an observable array must be an array, or null, or undefined.\");var result=ko.observable(initialValues);ko.utils.setPrototypeOfOrExtend(result,ko.observableArray['fn']);return result.extend({'trackArrayChanges':true});};ko.observableArray['fn']={'remove':function(valueOrPredicate){var underlyingArray=this.peek();var removedValues=[];var predicate=typeof valueOrPredicate==\"function\"&&!ko.isObservable(valueOrPredicate)?valueOrPredicate:function(value){return value===valueOrPredicate;};for(var i=0;i<underlyingArray.length;i++){var value=underlyingArray[i];if(predicate(value)){if(removedValues.length===0){this.valueWillMutate();}\nif(underlyingArray[i]!==value){throw Error(\"Array modified during remove; cannot remove item\");}\nremovedValues.push(value);underlyingArray.splice(i,1);i--;}}\nif(removedValues.length){this.valueHasMutated();}\nreturn removedValues;},'removeAll':function(arrayOfValues){if(arrayOfValues===undefined){var underlyingArray=this.peek();var allValues=underlyingArray.slice(0);this.valueWillMutate();underlyingArray.splice(0,underlyingArray.length);this.valueHasMutated();return allValues;}\nif(!arrayOfValues)\nreturn[];return this['remove'](function(value){return ko.utils.arrayIndexOf(arrayOfValues,value)>=0;});},'destroy':function(valueOrPredicate){var underlyingArray=this.peek();var predicate=typeof valueOrPredicate==\"function\"&&!ko.isObservable(valueOrPredicate)?valueOrPredicate:function(value){return value===valueOrPredicate;};this.valueWillMutate();for(var i=underlyingArray.length-1;i>=0;i--){var value=underlyingArray[i];if(predicate(value))\nvalue[\"_destroy\"]=true;}\nthis.valueHasMutated();},'destroyAll':function(arrayOfValues){if(arrayOfValues===undefined)\nreturn this['destroy'](function(){return true});if(!arrayOfValues)\nreturn[];return this['destroy'](function(value){return ko.utils.arrayIndexOf(arrayOfValues,value)>=0;});},'indexOf':function(item){var underlyingArray=this();return ko.utils.arrayIndexOf(underlyingArray,item);},'replace':function(oldItem,newItem){var index=this['indexOf'](oldItem);if(index>=0){this.valueWillMutate();this.peek()[index]=newItem;this.valueHasMutated();}},'sorted':function(compareFunction){var arrayCopy=this().slice(0);return compareFunction?arrayCopy.sort(compareFunction):arrayCopy.sort();},'reversed':function(){return this().slice(0).reverse();}};if(ko.utils.canSetPrototype){ko.utils.setPrototypeOf(ko.observableArray['fn'],ko.observable['fn']);}\nko.utils.arrayForEach([\"pop\",\"push\",\"reverse\",\"shift\",\"sort\",\"splice\",\"unshift\"],function(methodName){ko.observableArray['fn'][methodName]=function(){var underlyingArray=this.peek();this.valueWillMutate();this.cacheDiffForKnownOperation(underlyingArray,methodName,arguments);var methodCallResult=underlyingArray[methodName].apply(underlyingArray,arguments);this.valueHasMutated();return methodCallResult===underlyingArray?this:methodCallResult;};});ko.utils.arrayForEach([\"slice\"],function(methodName){ko.observableArray['fn'][methodName]=function(){var underlyingArray=this();return underlyingArray[methodName].apply(underlyingArray,arguments);};});ko.isObservableArray=function(instance){return ko.isObservable(instance)&&typeof instance[\"remove\"]==\"function\"&&typeof instance[\"push\"]==\"function\";};ko.exportSymbol('observableArray',ko.observableArray);ko.exportSymbol('isObservableArray',ko.isObservableArray);var arrayChangeEventName='arrayChange';ko.extenders['trackArrayChanges']=function(target,options){target.compareArrayOptions={};if(options&&typeof options==\"object\"){ko.utils.extend(target.compareArrayOptions,options);}\ntarget.compareArrayOptions['sparse']=true;if(target.cacheDiffForKnownOperation){return;}\nvar trackingChanges=false,cachedDiff=null,changeSubscription,spectateSubscription,pendingChanges=0,previousContents,underlyingBeforeSubscriptionAddFunction=target.beforeSubscriptionAdd,underlyingAfterSubscriptionRemoveFunction=target.afterSubscriptionRemove;target.beforeSubscriptionAdd=function(event){if(underlyingBeforeSubscriptionAddFunction){underlyingBeforeSubscriptionAddFunction.call(target,event);}\nif(event===arrayChangeEventName){trackChanges();}};target.afterSubscriptionRemove=function(event){if(underlyingAfterSubscriptionRemoveFunction){underlyingAfterSubscriptionRemoveFunction.call(target,event);}\nif(event===arrayChangeEventName&&!target.hasSubscriptionsForEvent(arrayChangeEventName)){if(changeSubscription){changeSubscription.dispose();}\nif(spectateSubscription){spectateSubscription.dispose();}\nspectateSubscription=changeSubscription=null;trackingChanges=false;previousContents=undefined;}};function trackChanges(){if(trackingChanges){notifyChanges();return;}\ntrackingChanges=true;spectateSubscription=target.subscribe(function(){++pendingChanges;},null,\"spectate\");previousContents=[].concat(target.peek()||[]);cachedDiff=null;changeSubscription=target.subscribe(notifyChanges);function notifyChanges(){if(pendingChanges){var currentContents=[].concat(target.peek()||[]),changes;if(target.hasSubscriptionsForEvent(arrayChangeEventName)){changes=getChanges(previousContents,currentContents);}\npreviousContents=currentContents;cachedDiff=null;pendingChanges=0;if(changes&&changes.length){target['notifySubscribers'](changes,arrayChangeEventName);}}}}\nfunction getChanges(previousContents,currentContents){if(!cachedDiff||pendingChanges>1){cachedDiff=ko.utils.compareArrays(previousContents,currentContents,target.compareArrayOptions);}\nreturn cachedDiff;}\ntarget.cacheDiffForKnownOperation=function(rawArray,operationName,args){if(!trackingChanges||pendingChanges){return;}\nvar diff=[],arrayLength=rawArray.length,argsLength=args.length,offset=0;function pushDiff(status,value,index){return diff[diff.length]={'status':status,'value':value,'index':index};}\nswitch(operationName){case'push':offset=arrayLength;case'unshift':for(var index=0;index<argsLength;index++){pushDiff('added',args[index],offset+index);}\nbreak;case'pop':offset=arrayLength-1;case'shift':if(arrayLength){pushDiff('deleted',rawArray[offset],offset);}\nbreak;case'splice':var startIndex=Math.min(Math.max(0,args[0]<0?arrayLength+args[0]:args[0]),arrayLength),endDeleteIndex=argsLength===1?arrayLength:Math.min(startIndex+(args[1]||0),arrayLength),endAddIndex=startIndex+argsLength-2,endIndex=Math.max(endDeleteIndex,endAddIndex),additions=[],deletions=[];for(var index=startIndex,argsIndex=2;index<endIndex;++index,++argsIndex){if(index<endDeleteIndex)\ndeletions.push(pushDiff('deleted',rawArray[index],index));if(index<endAddIndex)\nadditions.push(pushDiff('added',args[argsIndex],index));}\nko.utils.findMovesInArrayComparison(deletions,additions);break;default:return;}\ncachedDiff=diff;};};var computedState=ko.utils.createSymbolOrString('_state');ko.computed=ko.dependentObservable=function(evaluatorFunctionOrOptions,evaluatorFunctionTarget,options){if(typeof evaluatorFunctionOrOptions===\"object\"){options=evaluatorFunctionOrOptions;}else{options=options||{};if(evaluatorFunctionOrOptions){options[\"read\"]=evaluatorFunctionOrOptions;}}\nif(typeof options[\"read\"]!=\"function\")\nthrow Error(\"Pass a function that returns the value of the ko.computed\");var writeFunction=options[\"write\"];var state={latestValue:undefined,isStale:true,isDirty:true,isBeingEvaluated:false,suppressDisposalUntilDisposeWhenReturnsFalse:false,isDisposed:false,pure:false,isSleeping:false,readFunction:options[\"read\"],evaluatorFunctionTarget:evaluatorFunctionTarget||options[\"owner\"],disposeWhenNodeIsRemoved:options[\"disposeWhenNodeIsRemoved\"]||options.disposeWhenNodeIsRemoved||null,disposeWhen:options[\"disposeWhen\"]||options.disposeWhen,domNodeDisposalCallback:null,dependencyTracking:{},dependenciesCount:0,evaluationTimeoutInstance:null};function computedObservable(){if(arguments.length>0){if(typeof writeFunction===\"function\"){writeFunction.apply(state.evaluatorFunctionTarget,arguments);}else{throw new Error(\"Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.\");}\nreturn this;}else{if(!state.isDisposed){ko.dependencyDetection.registerDependency(computedObservable);}\nif(state.isDirty||(state.isSleeping&&computedObservable.haveDependenciesChanged())){computedObservable.evaluateImmediate();}\nreturn state.latestValue;}}\ncomputedObservable[computedState]=state;computedObservable.hasWriteFunction=typeof writeFunction===\"function\";if(!ko.utils.canSetPrototype){ko.utils.extend(computedObservable,ko.subscribable['fn']);}\nko.subscribable['fn'].init(computedObservable);ko.utils.setPrototypeOfOrExtend(computedObservable,computedFn);if(options['pure']){state.pure=true;state.isSleeping=true;ko.utils.extend(computedObservable,pureComputedOverrides);}else if(options['deferEvaluation']){ko.utils.extend(computedObservable,deferEvaluationOverrides);}\nif(ko.options['deferUpdates']){ko.extenders['deferred'](computedObservable,true);}\nif(DEBUG){computedObservable[\"_options\"]=options;}\nif(state.disposeWhenNodeIsRemoved){state.suppressDisposalUntilDisposeWhenReturnsFalse=true;if(!state.disposeWhenNodeIsRemoved.nodeType){state.disposeWhenNodeIsRemoved=null;}}\nif(!state.isSleeping&&!options['deferEvaluation']){computedObservable.evaluateImmediate();}\nif(state.disposeWhenNodeIsRemoved&&computedObservable.isActive()){ko.utils.domNodeDisposal.addDisposeCallback(state.disposeWhenNodeIsRemoved,state.domNodeDisposalCallback=function(){computedObservable.dispose();});}\nreturn computedObservable;};function computedDisposeDependencyCallback(id,entryToDispose){if(entryToDispose!==null&&entryToDispose.dispose){entryToDispose.dispose();}}\nfunction computedBeginDependencyDetectionCallback(subscribable,id){var computedObservable=this.computedObservable,state=computedObservable[computedState];if(!state.isDisposed){if(this.disposalCount&&this.disposalCandidates[id]){computedObservable.addDependencyTracking(id,subscribable,this.disposalCandidates[id]);this.disposalCandidates[id]=null;--this.disposalCount;}else if(!state.dependencyTracking[id]){computedObservable.addDependencyTracking(id,subscribable,state.isSleeping?{_target:subscribable}:computedObservable.subscribeToDependency(subscribable));}\nif(subscribable._notificationIsPending){subscribable._notifyNextChangeIfValueIsDifferent();}}}\nvar computedFn={\"equalityComparer\":valuesArePrimitiveAndEqual,getDependenciesCount:function(){return this[computedState].dependenciesCount;},getDependencies:function(){var dependencyTracking=this[computedState].dependencyTracking,dependentObservables=[];ko.utils.objectForEach(dependencyTracking,function(id,dependency){dependentObservables[dependency._order]=dependency._target;});return dependentObservables;},hasAncestorDependency:function(obs){if(!this[computedState].dependenciesCount){return false;}\nvar dependencies=this.getDependencies();if(ko.utils.arrayIndexOf(dependencies,obs)!==-1){return true;}\nreturn!!ko.utils.arrayFirst(dependencies,function(dep){return dep.hasAncestorDependency&&dep.hasAncestorDependency(obs);});},addDependencyTracking:function(id,target,trackingObj){if(this[computedState].pure&&target===this){throw Error(\"A 'pure' computed must not be called recursively\");}\nthis[computedState].dependencyTracking[id]=trackingObj;trackingObj._order=this[computedState].dependenciesCount++;trackingObj._version=target.getVersion();},haveDependenciesChanged:function(){var id,dependency,dependencyTracking=this[computedState].dependencyTracking;for(id in dependencyTracking){if(Object.prototype.hasOwnProperty.call(dependencyTracking,id)){dependency=dependencyTracking[id];if((this._evalDelayed&&dependency._target._notificationIsPending)||dependency._target.hasChanged(dependency._version)){return true;}}}},markDirty:function(){if(this._evalDelayed&&!this[computedState].isBeingEvaluated){this._evalDelayed(false);}},isActive:function(){var state=this[computedState];return state.isDirty||state.dependenciesCount>0;},respondToChange:function(){if(!this._notificationIsPending){this.evaluatePossiblyAsync();}else if(this[computedState].isDirty){this[computedState].isStale=true;}},subscribeToDependency:function(target){if(target._deferUpdates){var dirtySub=target.subscribe(this.markDirty,this,'dirty'),changeSub=target.subscribe(this.respondToChange,this);return{_target:target,dispose:function(){dirtySub.dispose();changeSub.dispose();}};}else{return target.subscribe(this.evaluatePossiblyAsync,this);}},evaluatePossiblyAsync:function(){var computedObservable=this,throttleEvaluationTimeout=computedObservable['throttleEvaluation'];if(throttleEvaluationTimeout&&throttleEvaluationTimeout>=0){clearTimeout(this[computedState].evaluationTimeoutInstance);this[computedState].evaluationTimeoutInstance=ko.utils.setTimeout(function(){computedObservable.evaluateImmediate(true);},throttleEvaluationTimeout);}else if(computedObservable._evalDelayed){computedObservable._evalDelayed(true);}else{computedObservable.evaluateImmediate(true);}},evaluateImmediate:function(notifyChange){var computedObservable=this,state=computedObservable[computedState],disposeWhen=state.disposeWhen,changed=false;if(state.isBeingEvaluated){return;}\nif(state.isDisposed){return;}\nif(state.disposeWhenNodeIsRemoved&&!ko.utils.domNodeIsAttachedToDocument(state.disposeWhenNodeIsRemoved)||disposeWhen&&disposeWhen()){if(!state.suppressDisposalUntilDisposeWhenReturnsFalse){computedObservable.dispose();return;}}else{state.suppressDisposalUntilDisposeWhenReturnsFalse=false;}\nstate.isBeingEvaluated=true;try{changed=this.evaluateImmediate_CallReadWithDependencyDetection(notifyChange);}finally{state.isBeingEvaluated=false;}\nreturn changed;},evaluateImmediate_CallReadWithDependencyDetection:function(notifyChange){var computedObservable=this,state=computedObservable[computedState],changed=false;var isInitial=state.pure?undefined:!state.dependenciesCount,dependencyDetectionContext={computedObservable:computedObservable,disposalCandidates:state.dependencyTracking,disposalCount:state.dependenciesCount};ko.dependencyDetection.begin({callbackTarget:dependencyDetectionContext,callback:computedBeginDependencyDetectionCallback,computed:computedObservable,isInitial:isInitial});state.dependencyTracking={};state.dependenciesCount=0;var newValue=this.evaluateImmediate_CallReadThenEndDependencyDetection(state,dependencyDetectionContext);if(!state.dependenciesCount){computedObservable.dispose();changed=true;}else{changed=computedObservable.isDifferent(state.latestValue,newValue);}\nif(changed){if(!state.isSleeping){computedObservable[\"notifySubscribers\"](state.latestValue,\"beforeChange\");}else{computedObservable.updateVersion();}\nstate.latestValue=newValue;if(DEBUG)computedObservable._latestValue=newValue;computedObservable[\"notifySubscribers\"](state.latestValue,\"spectate\");if(!state.isSleeping&&notifyChange){computedObservable[\"notifySubscribers\"](state.latestValue);}\nif(computedObservable._recordUpdate){computedObservable._recordUpdate();}}\nif(isInitial){computedObservable[\"notifySubscribers\"](state.latestValue,\"awake\");}\nreturn changed;},evaluateImmediate_CallReadThenEndDependencyDetection:function(state,dependencyDetectionContext){try{var readFunction=state.readFunction;return state.evaluatorFunctionTarget?readFunction.call(state.evaluatorFunctionTarget):readFunction();}finally{ko.dependencyDetection.end();if(dependencyDetectionContext.disposalCount&&!state.isSleeping){ko.utils.objectForEach(dependencyDetectionContext.disposalCandidates,computedDisposeDependencyCallback);}\nstate.isStale=state.isDirty=false;}},peek:function(evaluate){var state=this[computedState];if((state.isDirty&&(evaluate||!state.dependenciesCount))||(state.isSleeping&&this.haveDependenciesChanged())){this.evaluateImmediate();}\nreturn state.latestValue;},limit:function(limitFunction){ko.subscribable['fn'].limit.call(this,limitFunction);this._evalIfChanged=function(){if(!this[computedState].isSleeping){if(this[computedState].isStale){this.evaluateImmediate();}else{this[computedState].isDirty=false;}}\nreturn this[computedState].latestValue;};this._evalDelayed=function(isChange){this._limitBeforeChange(this[computedState].latestValue);this[computedState].isDirty=true;if(isChange){this[computedState].isStale=true;}\nthis._limitChange(this,!isChange);};},dispose:function(){var state=this[computedState];if(!state.isSleeping&&state.dependencyTracking){ko.utils.objectForEach(state.dependencyTracking,function(id,dependency){if(dependency.dispose)\ndependency.dispose();});}\nif(state.disposeWhenNodeIsRemoved&&state.domNodeDisposalCallback){ko.utils.domNodeDisposal.removeDisposeCallback(state.disposeWhenNodeIsRemoved,state.domNodeDisposalCallback);}\nstate.dependencyTracking=undefined;state.dependenciesCount=0;state.isDisposed=true;state.isStale=false;state.isDirty=false;state.isSleeping=false;state.disposeWhenNodeIsRemoved=undefined;state.disposeWhen=undefined;state.readFunction=undefined;if(!this.hasWriteFunction){state.evaluatorFunctionTarget=undefined;}}};var pureComputedOverrides={beforeSubscriptionAdd:function(event){var computedObservable=this,state=computedObservable[computedState];if(!state.isDisposed&&state.isSleeping&&event=='change'){state.isSleeping=false;if(state.isStale||computedObservable.haveDependenciesChanged()){state.dependencyTracking=null;state.dependenciesCount=0;if(computedObservable.evaluateImmediate()){computedObservable.updateVersion();}}else{var dependenciesOrder=[];ko.utils.objectForEach(state.dependencyTracking,function(id,dependency){dependenciesOrder[dependency._order]=id;});ko.utils.arrayForEach(dependenciesOrder,function(id,order){var dependency=state.dependencyTracking[id],subscription=computedObservable.subscribeToDependency(dependency._target);subscription._order=order;subscription._version=dependency._version;state.dependencyTracking[id]=subscription;});if(computedObservable.haveDependenciesChanged()){if(computedObservable.evaluateImmediate()){computedObservable.updateVersion();}}}\nif(!state.isDisposed){computedObservable[\"notifySubscribers\"](state.latestValue,\"awake\");}}},afterSubscriptionRemove:function(event){var state=this[computedState];if(!state.isDisposed&&event=='change'&&!this.hasSubscriptionsForEvent('change')){ko.utils.objectForEach(state.dependencyTracking,function(id,dependency){if(dependency.dispose){state.dependencyTracking[id]={_target:dependency._target,_order:dependency._order,_version:dependency._version};dependency.dispose();}});state.isSleeping=true;this[\"notifySubscribers\"](undefined,\"asleep\");}},getVersion:function(){var state=this[computedState];if(state.isSleeping&&(state.isStale||this.haveDependenciesChanged())){this.evaluateImmediate();}\nreturn ko.subscribable['fn'].getVersion.call(this);}};var deferEvaluationOverrides={beforeSubscriptionAdd:function(event){if(event=='change'||event=='beforeChange'){this.peek();}}};if(ko.utils.canSetPrototype){ko.utils.setPrototypeOf(computedFn,ko.subscribable['fn']);}\nvar protoProp=ko.observable.protoProperty;computedFn[protoProp]=ko.computed;ko.isComputed=function(instance){return(typeof instance=='function'&&instance[protoProp]===computedFn[protoProp]);};ko.isPureComputed=function(instance){return ko.isComputed(instance)&&instance[computedState]&&instance[computedState].pure;};ko.exportSymbol('computed',ko.computed);ko.exportSymbol('dependentObservable',ko.computed);ko.exportSymbol('isComputed',ko.isComputed);ko.exportSymbol('isPureComputed',ko.isPureComputed);ko.exportSymbol('computed.fn',computedFn);ko.exportProperty(computedFn,'peek',computedFn.peek);ko.exportProperty(computedFn,'dispose',computedFn.dispose);ko.exportProperty(computedFn,'isActive',computedFn.isActive);ko.exportProperty(computedFn,'getDependenciesCount',computedFn.getDependenciesCount);ko.exportProperty(computedFn,'getDependencies',computedFn.getDependencies);ko.pureComputed=function(evaluatorFunctionOrOptions,evaluatorFunctionTarget){if(typeof evaluatorFunctionOrOptions==='function'){return ko.computed(evaluatorFunctionOrOptions,evaluatorFunctionTarget,{'pure':true});}else{evaluatorFunctionOrOptions=ko.utils.extend({},evaluatorFunctionOrOptions);evaluatorFunctionOrOptions['pure']=true;return ko.computed(evaluatorFunctionOrOptions,evaluatorFunctionTarget);}}\nko.exportSymbol('pureComputed',ko.pureComputed);(function(){var maxNestedObservableDepth=10;ko.toJS=function(rootObject){if(arguments.length==0)\nthrow new Error(\"When calling ko.toJS, pass the object you want to convert.\");return mapJsObjectGraph(rootObject,function(valueToMap){for(var i=0;ko.isObservable(valueToMap)&&(i<maxNestedObservableDepth);i++)\nvalueToMap=valueToMap();return valueToMap;});};ko.toJSON=function(rootObject,replacer,space){var plainJavaScriptObject=ko.toJS(rootObject);return ko.utils.stringifyJson(plainJavaScriptObject,replacer,space);};function mapJsObjectGraph(rootObject,mapInputCallback,visitedObjects){visitedObjects=visitedObjects||new objectLookup();rootObject=mapInputCallback(rootObject);var canHaveProperties=(typeof rootObject==\"object\")&&(rootObject!==null)&&(rootObject!==undefined)&&(!(rootObject instanceof RegExp))&&(!(rootObject instanceof Date))&&(!(rootObject instanceof String))&&(!(rootObject instanceof Number))&&(!(rootObject instanceof Boolean));if(!canHaveProperties)\nreturn rootObject;var outputProperties=rootObject instanceof Array?[]:{};visitedObjects.save(rootObject,outputProperties);visitPropertiesOrArrayEntries(rootObject,function(indexer){var propertyValue=mapInputCallback(rootObject[indexer]);switch(typeof propertyValue){case\"boolean\":case\"number\":case\"string\":case\"function\":outputProperties[indexer]=propertyValue;break;case\"object\":case\"undefined\":var previouslyMappedValue=visitedObjects.get(propertyValue);outputProperties[indexer]=(previouslyMappedValue!==undefined)?previouslyMappedValue:mapJsObjectGraph(propertyValue,mapInputCallback,visitedObjects);break;}});return outputProperties;}\nfunction visitPropertiesOrArrayEntries(rootObject,visitorCallback){if(rootObject instanceof Array){for(var i=0;i<rootObject.length;i++)\nvisitorCallback(i);if(typeof rootObject['toJSON']=='function')\nvisitorCallback('toJSON');}else{for(var propertyName in rootObject){visitorCallback(propertyName);}}};function objectLookup(){this.keys=[];this.values=[];};objectLookup.prototype={constructor:objectLookup,save:function(key,value){var existingIndex=ko.utils.arrayIndexOf(this.keys,key);if(existingIndex>=0)\nthis.values[existingIndex]=value;else{this.keys.push(key);this.values.push(value);}},get:function(key){var existingIndex=ko.utils.arrayIndexOf(this.keys,key);return(existingIndex>=0)?this.values[existingIndex]:undefined;}};})();ko.exportSymbol('toJS',ko.toJS);ko.exportSymbol('toJSON',ko.toJSON);ko.when=function(predicate,callback,context){function kowhen(resolve){var observable=ko.pureComputed(predicate,context).extend({notify:'always'});var subscription=observable.subscribe(function(value){if(value){subscription.dispose();resolve(value);}});observable['notifySubscribers'](observable.peek());return subscription;}\nif(typeof Promise===\"function\"&&!callback){return new Promise(kowhen);}else{return kowhen(callback.bind(context));}};ko.exportSymbol('when',ko.when);(function(){var hasDomDataExpandoProperty='__ko__hasDomDataOptionValue__';ko.selectExtensions={readValue:function(element){switch(ko.utils.tagNameLower(element)){case'option':if(element[hasDomDataExpandoProperty]===true)\nreturn ko.utils.domData.get(element,ko.bindingHandlers.options.optionValueDomDataKey);return ko.utils.ieVersion<=7?(element.getAttributeNode('value')&&element.getAttributeNode('value').specified?element.value:element.text):element.value;case'select':return element.selectedIndex>=0?ko.selectExtensions.readValue(element.options[element.selectedIndex]):undefined;default:return element.value;}},writeValue:function(element,value,allowUnset){switch(ko.utils.tagNameLower(element)){case'option':if(typeof value===\"string\"){ko.utils.domData.set(element,ko.bindingHandlers.options.optionValueDomDataKey,undefined);if(hasDomDataExpandoProperty in element){delete element[hasDomDataExpandoProperty];}\nelement.value=value;}\nelse{ko.utils.domData.set(element,ko.bindingHandlers.options.optionValueDomDataKey,value);element[hasDomDataExpandoProperty]=true;element.value=typeof value===\"number\"?value:\"\";}\nbreak;case'select':if(value===\"\"||value===null)\nvalue=undefined;var selection=-1;for(var i=0,n=element.options.length,optionValue;i<n;++i){optionValue=ko.selectExtensions.readValue(element.options[i]);if(optionValue==value||(optionValue===\"\"&&value===undefined)){selection=i;break;}}\nif(allowUnset||selection>=0||(value===undefined&&element.size>1)){element.selectedIndex=selection;if(ko.utils.ieVersion===6){ko.utils.setTimeout(function(){element.selectedIndex=selection;},0);}}\nbreak;default:if((value===null)||(value===undefined))\nvalue=\"\";element.value=value;break;}}};})();ko.exportSymbol('selectExtensions',ko.selectExtensions);ko.exportSymbol('selectExtensions.readValue',ko.selectExtensions.readValue);ko.exportSymbol('selectExtensions.writeValue',ko.selectExtensions.writeValue);ko.expressionRewriting=(function(){var javaScriptReservedWords=[\"true\",\"false\",\"null\",\"undefined\"];var javaScriptAssignmentTarget=/^(?:[$_a-z][$\\w]*|(.+)(\\.\\s*[$_a-z][$\\w]*|\\[.+\\]))$/i;function getWriteableValue(expression){if(ko.utils.arrayIndexOf(javaScriptReservedWords,expression)>=0)\nreturn false;var match=expression.match(javaScriptAssignmentTarget);return match===null?false:match[1]?('Object('+match[1]+')'+match[2]):expression;}\nvar specials=',\"\\'`{}()/:[\\\\]',bindingToken=RegExp(['\"(?:\\\\\\\\.|[^\"])*\"',\"'(?:\\\\\\\\.|[^'])*'\",\"`(?:\\\\\\\\.|[^`])*`\",\"/\\\\*(?:[^*]|\\\\*+[^*/])*\\\\*+/\",\"//.*\\n\",'/(?:\\\\\\\\.|[^/])+/\\w*','[^\\\\s:,/][^'+specials+']*[^\\\\s'+specials+']','[^\\\\s]'].join('|'),'g'),divisionLookBehind=/[\\])\"'A-Za-z0-9_$]+$/,keywordRegexLookBehind={'in':1,'return':1,'typeof':1};function parseObjectLiteral(objectLiteralString){var str=ko.utils.stringTrim(objectLiteralString);if(str.charCodeAt(0)===123)str=str.slice(1,-1);str+=\"\\n,\";var result=[],toks=str.match(bindingToken),key,values=[],depth=0;if(toks.length>1){for(var i=0,tok;tok=toks[i];++i){var c=tok.charCodeAt(0);if(c===44){if(depth<=0){result.push((key&&values.length)?{key:key,value:values.join('')}:{'unknown':key||values.join('')});key=depth=0;values=[];continue;}}else if(c===58){if(!depth&&!key&&values.length===1){key=values.pop();continue;}}else if(c===47&&tok.length>1&&(tok.charCodeAt(1)===47||tok.charCodeAt(1)===42)){continue;}else if(c===47&&i&&tok.length>1){var match=toks[i-1].match(divisionLookBehind);if(match&&!keywordRegexLookBehind[match[0]]){str=str.substr(str.indexOf(tok)+1);toks=str.match(bindingToken);i=-1;tok='/';}}else if(c===40||c===123||c===91){++depth;}else if(c===41||c===125||c===93){--depth;}else if(!key&&!values.length&&(c===34||c===39)){tok=tok.slice(1,-1);}\nvalues.push(tok);}\nif(depth>0){throw Error(\"Unbalanced parentheses, braces, or brackets\");}}\nreturn result;}\nvar twoWayBindings={};function preProcessBindings(bindingsStringOrKeyValueArray,bindingOptions){bindingOptions=bindingOptions||{};function processKeyValue(key,val){var writableVal;function callPreprocessHook(obj){return(obj&&obj['preprocess'])?(val=obj['preprocess'](val,key,processKeyValue)):true;}\nif(!bindingParams){if(!callPreprocessHook(ko['getBindingHandler'](key)))\nreturn;if(twoWayBindings[key]&&(writableVal=getWriteableValue(val))){var writeKey=typeof twoWayBindings[key]=='string'?twoWayBindings[key]:key;propertyAccessorResultStrings.push(\"'\"+writeKey+\"':function(_z){\"+writableVal+\"=_z}\");}}\nif(makeValueAccessors){val='function(){return '+val+' }';}\nresultStrings.push(\"'\"+key+\"':\"+val);}\nvar resultStrings=[],propertyAccessorResultStrings=[],makeValueAccessors=bindingOptions['valueAccessors'],bindingParams=bindingOptions['bindingParams'],keyValueArray=typeof bindingsStringOrKeyValueArray===\"string\"?parseObjectLiteral(bindingsStringOrKeyValueArray):bindingsStringOrKeyValueArray;ko.utils.arrayForEach(keyValueArray,function(keyValue){processKeyValue(keyValue.key||keyValue['unknown'],keyValue.value);});if(propertyAccessorResultStrings.length)\nprocessKeyValue('_ko_property_writers',\"{\"+propertyAccessorResultStrings.join(\",\")+\" }\");return resultStrings.join(\",\");}\nreturn{bindingRewriteValidators:[],twoWayBindings:twoWayBindings,parseObjectLiteral:parseObjectLiteral,preProcessBindings:preProcessBindings,keyValueArrayContainsKey:function(keyValueArray,key){for(var i=0;i<keyValueArray.length;i++)\nif(keyValueArray[i]['key']==key)\nreturn true;return false;},writeValueToProperty:function(property,allBindings,key,value,checkIfDifferent){if(!property||!ko.isObservable(property)){var propWriters=allBindings.get('_ko_property_writers');if(propWriters&&propWriters[key])\npropWriters[key](value);}else if(ko.isWriteableObservable(property)&&(!checkIfDifferent||property.peek()!==value)){property(value);}}};})();ko.exportSymbol('expressionRewriting',ko.expressionRewriting);ko.exportSymbol('expressionRewriting.bindingRewriteValidators',ko.expressionRewriting.bindingRewriteValidators);ko.exportSymbol('expressionRewriting.parseObjectLiteral',ko.expressionRewriting.parseObjectLiteral);ko.exportSymbol('expressionRewriting.preProcessBindings',ko.expressionRewriting.preProcessBindings);ko.exportSymbol('expressionRewriting._twoWayBindings',ko.expressionRewriting.twoWayBindings);ko.exportSymbol('jsonExpressionRewriting',ko.expressionRewriting);ko.exportSymbol('jsonExpressionRewriting.insertPropertyAccessorsIntoJson',ko.expressionRewriting.preProcessBindings);(function(){var commentNodesHaveTextProperty=document&&document.createComment(\"test\").text===\"<!--test-->\";var startCommentRegex=commentNodesHaveTextProperty?/^<!--\\s*ko(?:\\s+([\\s\\S]+))?\\s*-->$/:/^\\s*ko(?:\\s+([\\s\\S]+))?\\s*$/;var endCommentRegex=commentNodesHaveTextProperty?/^<!--\\s*\\/ko\\s*-->$/:/^\\s*\\/ko\\s*$/;var htmlTagsWithOptionallyClosingChildren={'ul':true,'ol':true};function isStartComment(node){return(node.nodeType==8)&&startCommentRegex.test(commentNodesHaveTextProperty?node.text:node.nodeValue);}\nfunction isEndComment(node){return(node.nodeType==8)&&endCommentRegex.test(commentNodesHaveTextProperty?node.text:node.nodeValue);}\nfunction isUnmatchedEndComment(node){return isEndComment(node)&&!(ko.utils.domData.get(node,matchedEndCommentDataKey));}\nvar matchedEndCommentDataKey=\"__ko_matchedEndComment__\"\nfunction getVirtualChildren(startComment,allowUnbalanced){var currentNode=startComment;var depth=1;var children=[];while(currentNode=currentNode.nextSibling){if(isEndComment(currentNode)){ko.utils.domData.set(currentNode,matchedEndCommentDataKey,true);depth--;if(depth===0)\nreturn children;}\nchildren.push(currentNode);if(isStartComment(currentNode))\ndepth++;}\nif(!allowUnbalanced)\nthrow new Error(\"Cannot find closing comment tag to match: \"+startComment.nodeValue);return null;}\nfunction getMatchingEndComment(startComment,allowUnbalanced){var allVirtualChildren=getVirtualChildren(startComment,allowUnbalanced);if(allVirtualChildren){if(allVirtualChildren.length>0)\nreturn allVirtualChildren[allVirtualChildren.length-1].nextSibling;return startComment.nextSibling;}else\nreturn null;}\nfunction getUnbalancedChildTags(node){var childNode=node.firstChild,captureRemaining=null;if(childNode){do{if(captureRemaining)\ncaptureRemaining.push(childNode);else if(isStartComment(childNode)){var matchingEndComment=getMatchingEndComment(childNode,true);if(matchingEndComment)\nchildNode=matchingEndComment;else\ncaptureRemaining=[childNode];}else if(isEndComment(childNode)){captureRemaining=[childNode];}}while(childNode=childNode.nextSibling);}\nreturn captureRemaining;}\nko.virtualElements={allowedBindings:{},childNodes:function(node){return isStartComment(node)?getVirtualChildren(node):node.childNodes;},emptyNode:function(node){if(!isStartComment(node))\nko.utils.emptyDomNode(node);else{var virtualChildren=ko.virtualElements.childNodes(node);for(var i=0,j=virtualChildren.length;i<j;i++)\nko.removeNode(virtualChildren[i]);}},setDomNodeChildren:function(node,childNodes){if(!isStartComment(node))\nko.utils.setDomNodeChildren(node,childNodes);else{ko.virtualElements.emptyNode(node);var endCommentNode=node.nextSibling;for(var i=0,j=childNodes.length;i<j;i++)\nendCommentNode.parentNode.insertBefore(childNodes[i],endCommentNode);}},prepend:function(containerNode,nodeToPrepend){var insertBeforeNode;if(isStartComment(containerNode)){insertBeforeNode=containerNode.nextSibling;containerNode=containerNode.parentNode;}else{insertBeforeNode=containerNode.firstChild;}\nif(!insertBeforeNode){containerNode.appendChild(nodeToPrepend);}else if(nodeToPrepend!==insertBeforeNode){containerNode.insertBefore(nodeToPrepend,insertBeforeNode);}},insertAfter:function(containerNode,nodeToInsert,insertAfterNode){if(!insertAfterNode){ko.virtualElements.prepend(containerNode,nodeToInsert);}else{var insertBeforeNode=insertAfterNode.nextSibling;if(isStartComment(containerNode)){containerNode=containerNode.parentNode;}\nif(!insertBeforeNode){containerNode.appendChild(nodeToInsert);}else if(nodeToInsert!==insertBeforeNode){containerNode.insertBefore(nodeToInsert,insertBeforeNode);}}},firstChild:function(node){if(!isStartComment(node)){if(node.firstChild&&isEndComment(node.firstChild)){throw new Error(\"Found invalid end comment, as the first child of \"+node);}\nreturn node.firstChild;}else if(!node.nextSibling||isEndComment(node.nextSibling)){return null;}else{return node.nextSibling;}},nextSibling:function(node){if(isStartComment(node)){node=getMatchingEndComment(node);}\nif(node.nextSibling&&isEndComment(node.nextSibling)){if(isUnmatchedEndComment(node.nextSibling)){throw Error(\"Found end comment without a matching opening comment, as child of \"+node);}else{return null;}}else{return node.nextSibling;}},hasBindingValue:isStartComment,virtualNodeBindingValue:function(node){var regexMatch=(commentNodesHaveTextProperty?node.text:node.nodeValue).match(startCommentRegex);return regexMatch?regexMatch[1]:null;},normaliseVirtualElementDomStructure:function(elementVerified){if(!htmlTagsWithOptionallyClosingChildren[ko.utils.tagNameLower(elementVerified)])\nreturn;var childNode=elementVerified.firstChild;if(childNode){do{if(childNode.nodeType===1){var unbalancedTags=getUnbalancedChildTags(childNode);if(unbalancedTags){var nodeToInsertBefore=childNode.nextSibling;for(var i=0;i<unbalancedTags.length;i++){if(nodeToInsertBefore)\nelementVerified.insertBefore(unbalancedTags[i],nodeToInsertBefore);else\nelementVerified.appendChild(unbalancedTags[i]);}}}}while(childNode=childNode.nextSibling);}}};})();ko.exportSymbol('virtualElements',ko.virtualElements);ko.exportSymbol('virtualElements.allowedBindings',ko.virtualElements.allowedBindings);ko.exportSymbol('virtualElements.emptyNode',ko.virtualElements.emptyNode);ko.exportSymbol('virtualElements.insertAfter',ko.virtualElements.insertAfter);ko.exportSymbol('virtualElements.prepend',ko.virtualElements.prepend);ko.exportSymbol('virtualElements.setDomNodeChildren',ko.virtualElements.setDomNodeChildren);(function(){var defaultBindingAttributeName=\"data-bind\";ko.bindingProvider=function(){this.bindingCache={};};ko.utils.extend(ko.bindingProvider.prototype,{'nodeHasBindings':function(node){switch(node.nodeType){case 1:return node.getAttribute(defaultBindingAttributeName)!=null||ko.components['getComponentNameForNode'](node);case 8:return ko.virtualElements.hasBindingValue(node);default:return false;}},'getBindings':function(node,bindingContext){var bindingsString=this['getBindingsString'](node,bindingContext),parsedBindings=bindingsString?this['parseBindingsString'](bindingsString,bindingContext,node):null;return ko.components.addBindingsForCustomElement(parsedBindings,node,bindingContext,false);},'getBindingAccessors':function(node,bindingContext){var bindingsString=this['getBindingsString'](node,bindingContext),parsedBindings=bindingsString?this['parseBindingsString'](bindingsString,bindingContext,node,{'valueAccessors':true}):null;return ko.components.addBindingsForCustomElement(parsedBindings,node,bindingContext,true);},'getBindingsString':function(node,bindingContext){switch(node.nodeType){case 1:return node.getAttribute(defaultBindingAttributeName);case 8:return ko.virtualElements.virtualNodeBindingValue(node);default:return null;}},'parseBindingsString':function(bindingsString,bindingContext,node,options){try{var bindingFunction=createBindingsStringEvaluatorViaCache(bindingsString,this.bindingCache,options);return bindingFunction(bindingContext,node);}catch(ex){ex.message=\"Unable to parse bindings.\\nBindings value: \"+bindingsString+\"\\nMessage: \"+ex.message;throw ex;}}});ko.bindingProvider['instance']=new ko.bindingProvider();function createBindingsStringEvaluatorViaCache(bindingsString,cache,options){var cacheKey=bindingsString+(options&&options['valueAccessors']||'');return cache[cacheKey]||(cache[cacheKey]=createBindingsStringEvaluator(bindingsString,options));}\nfunction createBindingsStringEvaluator(bindingsString,options){var rewrittenBindings=ko.expressionRewriting.preProcessBindings(bindingsString,options),functionBody=\"with($context){with($data||{}){return{\"+rewrittenBindings+\"}}}\";return new Function(\"$context\",\"$element\",functionBody);}})();ko.exportSymbol('bindingProvider',ko.bindingProvider);(function(){var contextSubscribable=ko.utils.createSymbolOrString('_subscribable');var contextAncestorBindingInfo=ko.utils.createSymbolOrString('_ancestorBindingInfo');var contextDataDependency=ko.utils.createSymbolOrString('_dataDependency');ko.bindingHandlers={};var bindingDoesNotRecurseIntoElementTypes={'script':true,'textarea':true,'template':true};ko['getBindingHandler']=function(bindingKey){return ko.bindingHandlers[bindingKey];};var inheritParentVm={};ko.bindingContext=function(dataItemOrAccessor,parentContext,dataItemAlias,extendCallback,options){function updateContext(){var dataItemOrObservable=isFunc?realDataItemOrAccessor():realDataItemOrAccessor,dataItem=ko.utils.unwrapObservable(dataItemOrObservable);if(parentContext){ko.utils.extend(self,parentContext);if(contextAncestorBindingInfo in parentContext){self[contextAncestorBindingInfo]=parentContext[contextAncestorBindingInfo];}}else{self['$parents']=[];self['$root']=dataItem;self['ko']=ko;}\nself[contextSubscribable]=subscribable;if(shouldInheritData){dataItem=self['$data'];}else{self['$rawData']=dataItemOrObservable;self['$data']=dataItem;}\nif(dataItemAlias)\nself[dataItemAlias]=dataItem;if(extendCallback)\nextendCallback(self,parentContext,dataItem);if(parentContext&&parentContext[contextSubscribable]&&!ko.computedContext.computed().hasAncestorDependency(parentContext[contextSubscribable])){parentContext[contextSubscribable]();}\nif(dataDependency){self[contextDataDependency]=dataDependency;}\nreturn self['$data'];}\nvar self=this,shouldInheritData=dataItemOrAccessor===inheritParentVm,realDataItemOrAccessor=shouldInheritData?undefined:dataItemOrAccessor,isFunc=typeof(realDataItemOrAccessor)==\"function\"&&!ko.isObservable(realDataItemOrAccessor),nodes,subscribable,dataDependency=options&&options['dataDependency'];if(options&&options['exportDependencies']){updateContext();}else{subscribable=ko.pureComputed(updateContext);subscribable.peek();if(subscribable.isActive()){subscribable['equalityComparer']=null;}else{self[contextSubscribable]=undefined;}}}\nko.bindingContext.prototype['createChildContext']=function(dataItemOrAccessor,dataItemAlias,extendCallback,options){if(!options&&dataItemAlias&&typeof dataItemAlias==\"object\"){options=dataItemAlias;dataItemAlias=options['as'];extendCallback=options['extend'];}\nif(dataItemAlias&&options&&options['noChildContext']){var isFunc=typeof(dataItemOrAccessor)==\"function\"&&!ko.isObservable(dataItemOrAccessor);return new ko.bindingContext(inheritParentVm,this,null,function(self){if(extendCallback)\nextendCallback(self);self[dataItemAlias]=isFunc?dataItemOrAccessor():dataItemOrAccessor;},options);}\nreturn new ko.bindingContext(dataItemOrAccessor,this,dataItemAlias,function(self,parentContext){self['$parentContext']=parentContext;self['$parent']=parentContext['$data'];self['$parents']=(parentContext['$parents']||[]).slice(0);self['$parents'].unshift(self['$parent']);if(extendCallback)\nextendCallback(self);},options);};ko.bindingContext.prototype['extend']=function(properties,options){return new ko.bindingContext(inheritParentVm,this,null,function(self,parentContext){ko.utils.extend(self,typeof(properties)==\"function\"?properties(self):properties);},options);};var boundElementDomDataKey=ko.utils.domData.nextKey();function asyncContextDispose(node){var bindingInfo=ko.utils.domData.get(node,boundElementDomDataKey),asyncContext=bindingInfo&&bindingInfo.asyncContext;if(asyncContext){bindingInfo.asyncContext=null;asyncContext.notifyAncestor();}}\nfunction AsyncCompleteContext(node,bindingInfo,ancestorBindingInfo){this.node=node;this.bindingInfo=bindingInfo;this.asyncDescendants=[];this.childrenComplete=false;if(!bindingInfo.asyncContext){ko.utils.domNodeDisposal.addDisposeCallback(node,asyncContextDispose);}\nif(ancestorBindingInfo&&ancestorBindingInfo.asyncContext){ancestorBindingInfo.asyncContext.asyncDescendants.push(node);this.ancestorBindingInfo=ancestorBindingInfo;}}\nAsyncCompleteContext.prototype.notifyAncestor=function(){if(this.ancestorBindingInfo&&this.ancestorBindingInfo.asyncContext){this.ancestorBindingInfo.asyncContext.descendantComplete(this.node);}};AsyncCompleteContext.prototype.descendantComplete=function(node){ko.utils.arrayRemoveItem(this.asyncDescendants,node);if(!this.asyncDescendants.length&&this.childrenComplete){this.completeChildren();}};AsyncCompleteContext.prototype.completeChildren=function(){this.childrenComplete=true;if(this.bindingInfo.asyncContext&&!this.asyncDescendants.length){this.bindingInfo.asyncContext=null;ko.utils.domNodeDisposal.removeDisposeCallback(this.node,asyncContextDispose);ko.bindingEvent.notify(this.node,ko.bindingEvent.descendantsComplete);this.notifyAncestor();}};ko.bindingEvent={childrenComplete:\"childrenComplete\",descendantsComplete:\"descendantsComplete\",subscribe:function(node,event,callback,context,options){var bindingInfo=ko.utils.domData.getOrSet(node,boundElementDomDataKey,{});if(!bindingInfo.eventSubscribable){bindingInfo.eventSubscribable=new ko.subscribable;}\nif(options&&options['notifyImmediately']&&bindingInfo.notifiedEvents[event]){ko.dependencyDetection.ignore(callback,context,[node]);}\nreturn bindingInfo.eventSubscribable.subscribe(callback,context,event);},notify:function(node,event){var bindingInfo=ko.utils.domData.get(node,boundElementDomDataKey);if(bindingInfo){bindingInfo.notifiedEvents[event]=true;if(bindingInfo.eventSubscribable){bindingInfo.eventSubscribable['notifySubscribers'](node,event);}\nif(event==ko.bindingEvent.childrenComplete){if(bindingInfo.asyncContext){bindingInfo.asyncContext.completeChildren();}else if(bindingInfo.asyncContext===undefined&&bindingInfo.eventSubscribable&&bindingInfo.eventSubscribable.hasSubscriptionsForEvent(ko.bindingEvent.descendantsComplete)){throw new Error(\"descendantsComplete event not supported for bindings on this node\");}}}},startPossiblyAsyncContentBinding:function(node,bindingContext){var bindingInfo=ko.utils.domData.getOrSet(node,boundElementDomDataKey,{});if(!bindingInfo.asyncContext){bindingInfo.asyncContext=new AsyncCompleteContext(node,bindingInfo,bindingContext[contextAncestorBindingInfo]);}\nif(bindingContext[contextAncestorBindingInfo]==bindingInfo){return bindingContext;}\nreturn bindingContext['extend'](function(ctx){ctx[contextAncestorBindingInfo]=bindingInfo;});}};function makeValueAccessor(value){return function(){return value;};}\nfunction evaluateValueAccessor(valueAccessor){return valueAccessor();}\nfunction makeAccessorsFromFunction(callback){return ko.utils.objectMap(ko.dependencyDetection.ignore(callback),function(value,key){return function(){return callback()[key];};});}\nfunction makeBindingAccessors(bindings,context,node){if(typeof bindings==='function'){return makeAccessorsFromFunction(bindings.bind(null,context,node));}else{return ko.utils.objectMap(bindings,makeValueAccessor);}}\nfunction getBindingsAndMakeAccessors(node,context){return makeAccessorsFromFunction(this['getBindings'].bind(this,node,context));}\nfunction validateThatBindingIsAllowedForVirtualElements(bindingName){var validator=ko.virtualElements.allowedBindings[bindingName];if(!validator)\nthrow new Error(\"The binding '\"+bindingName+\"' cannot be used with virtual elements\")}\nfunction applyBindingsToDescendantsInternal(bindingContext,elementOrVirtualElement){var nextInQueue=ko.virtualElements.firstChild(elementOrVirtualElement);if(nextInQueue){var currentChild,provider=ko.bindingProvider['instance'],preprocessNode=provider['preprocessNode'];if(preprocessNode){while(currentChild=nextInQueue){nextInQueue=ko.virtualElements.nextSibling(currentChild);preprocessNode.call(provider,currentChild);}\nnextInQueue=ko.virtualElements.firstChild(elementOrVirtualElement);}\nwhile(currentChild=nextInQueue){nextInQueue=ko.virtualElements.nextSibling(currentChild);applyBindingsToNodeAndDescendantsInternal(bindingContext,currentChild);}}\nko.bindingEvent.notify(elementOrVirtualElement,ko.bindingEvent.childrenComplete);}\nfunction applyBindingsToNodeAndDescendantsInternal(bindingContext,nodeVerified){var bindingContextForDescendants=bindingContext;var isElement=(nodeVerified.nodeType===1);if(isElement)\nko.virtualElements.normaliseVirtualElementDomStructure(nodeVerified);var shouldApplyBindings=isElement||ko.bindingProvider['instance']['nodeHasBindings'](nodeVerified);if(shouldApplyBindings)\nbindingContextForDescendants=applyBindingsToNodeInternal(nodeVerified,null,bindingContext)['bindingContextForDescendants'];if(bindingContextForDescendants&&!bindingDoesNotRecurseIntoElementTypes[ko.utils.tagNameLower(nodeVerified)]){applyBindingsToDescendantsInternal(bindingContextForDescendants,nodeVerified);}}\nfunction topologicalSortBindings(bindings){var result=[],bindingsConsidered={},cyclicDependencyStack=[];ko.utils.objectForEach(bindings,function pushBinding(bindingKey){if(!bindingsConsidered[bindingKey]){var binding=ko['getBindingHandler'](bindingKey);if(binding){if(binding['after']){cyclicDependencyStack.push(bindingKey);ko.utils.arrayForEach(binding['after'],function(bindingDependencyKey){if(bindings[bindingDependencyKey]){if(ko.utils.arrayIndexOf(cyclicDependencyStack,bindingDependencyKey)!==-1){throw Error(\"Cannot combine the following bindings, because they have a cyclic dependency: \"+cyclicDependencyStack.join(\", \"));}else{pushBinding(bindingDependencyKey);}}});cyclicDependencyStack.length--;}\nresult.push({key:bindingKey,handler:binding});}\nbindingsConsidered[bindingKey]=true;}});return result;}\nfunction applyBindingsToNodeInternal(node,sourceBindings,bindingContext){var bindingInfo=ko.utils.domData.getOrSet(node,boundElementDomDataKey,{});var alreadyBound=bindingInfo.alreadyBound;if(!sourceBindings){if(alreadyBound){throw Error(\"You cannot apply bindings multiple times to the same element.\");}\nbindingInfo.alreadyBound=true;}\nif(!alreadyBound){bindingInfo.context=bindingContext;}\nif(!bindingInfo.notifiedEvents){bindingInfo.notifiedEvents={};}\nvar bindings;if(sourceBindings&&typeof sourceBindings!=='function'){bindings=sourceBindings;}else{var provider=ko.bindingProvider['instance'],getBindings=provider['getBindingAccessors']||getBindingsAndMakeAccessors;var bindingsUpdater=ko.dependentObservable(function(){bindings=sourceBindings?sourceBindings(bindingContext,node):getBindings.call(provider,node,bindingContext);if(bindings){if(bindingContext[contextSubscribable]){bindingContext[contextSubscribable]();}\nif(bindingContext[contextDataDependency]){bindingContext[contextDataDependency]();}}\nreturn bindings;},null,{disposeWhenNodeIsRemoved:node});if(!bindings||!bindingsUpdater.isActive())\nbindingsUpdater=null;}\nvar contextToExtend=bindingContext;var bindingHandlerThatControlsDescendantBindings;if(bindings){var getValueAccessor=bindingsUpdater?function(bindingKey){return function(){return evaluateValueAccessor(bindingsUpdater()[bindingKey]);};}:function(bindingKey){return bindings[bindingKey];};function allBindings(){return ko.utils.objectMap(bindingsUpdater?bindingsUpdater():bindings,evaluateValueAccessor);}\nallBindings['get']=function(key){return bindings[key]&&evaluateValueAccessor(getValueAccessor(key));};allBindings['has']=function(key){return key in bindings;};if(ko.bindingEvent.childrenComplete in bindings){ko.bindingEvent.subscribe(node,ko.bindingEvent.childrenComplete,function(){var callback=evaluateValueAccessor(bindings[ko.bindingEvent.childrenComplete]);if(callback){var nodes=ko.virtualElements.childNodes(node);if(nodes.length){callback(nodes,ko.dataFor(nodes[0]));}}});}\nif(ko.bindingEvent.descendantsComplete in bindings){contextToExtend=ko.bindingEvent.startPossiblyAsyncContentBinding(node,bindingContext);ko.bindingEvent.subscribe(node,ko.bindingEvent.descendantsComplete,function(){var callback=evaluateValueAccessor(bindings[ko.bindingEvent.descendantsComplete]);if(callback&&ko.virtualElements.firstChild(node)){callback(node);}});}\nvar orderedBindings=topologicalSortBindings(bindings);ko.utils.arrayForEach(orderedBindings,function(bindingKeyAndHandler){var handlerInitFn=bindingKeyAndHandler.handler[\"init\"],handlerUpdateFn=bindingKeyAndHandler.handler[\"update\"],bindingKey=bindingKeyAndHandler.key;if(node.nodeType===8){validateThatBindingIsAllowedForVirtualElements(bindingKey);}\ntry{if(typeof handlerInitFn==\"function\"){ko.dependencyDetection.ignore(function(){var initResult=handlerInitFn(node,getValueAccessor(bindingKey),allBindings,contextToExtend['$data'],contextToExtend);if(initResult&&initResult['controlsDescendantBindings']){if(bindingHandlerThatControlsDescendantBindings!==undefined)\nthrow new Error(\"Multiple bindings (\"+bindingHandlerThatControlsDescendantBindings+\" and \"+bindingKey+\") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.\");bindingHandlerThatControlsDescendantBindings=bindingKey;}});}\nif(typeof handlerUpdateFn==\"function\"){ko.dependentObservable(function(){handlerUpdateFn(node,getValueAccessor(bindingKey),allBindings,contextToExtend['$data'],contextToExtend);},null,{disposeWhenNodeIsRemoved:node});}}catch(ex){ex.message=\"Unable to process binding \\\"\"+bindingKey+\": \"+bindings[bindingKey]+\"\\\"\\nMessage: \"+ex.message;throw ex;}});}\nvar shouldBindDescendants=bindingHandlerThatControlsDescendantBindings===undefined;return{'shouldBindDescendants':shouldBindDescendants,'bindingContextForDescendants':shouldBindDescendants&&contextToExtend};};ko.storedBindingContextForNode=function(node){var bindingInfo=ko.utils.domData.get(node,boundElementDomDataKey);return bindingInfo&&bindingInfo.context;}\nfunction getBindingContext(viewModelOrBindingContext,extendContextCallback){return viewModelOrBindingContext&&(viewModelOrBindingContext instanceof ko.bindingContext)?viewModelOrBindingContext:new ko.bindingContext(viewModelOrBindingContext,undefined,undefined,extendContextCallback);}\nko.applyBindingAccessorsToNode=function(node,bindings,viewModelOrBindingContext){if(node.nodeType===1)\nko.virtualElements.normaliseVirtualElementDomStructure(node);return applyBindingsToNodeInternal(node,bindings,getBindingContext(viewModelOrBindingContext));};ko.applyBindingsToNode=function(node,bindings,viewModelOrBindingContext){var context=getBindingContext(viewModelOrBindingContext);return ko.applyBindingAccessorsToNode(node,makeBindingAccessors(bindings,context,node),context);};ko.applyBindingsToDescendants=function(viewModelOrBindingContext,rootNode){if(rootNode.nodeType===1||rootNode.nodeType===8)\napplyBindingsToDescendantsInternal(getBindingContext(viewModelOrBindingContext),rootNode);};ko.applyBindings=function(viewModelOrBindingContext,rootNode,extendContextCallback){if(!jQueryInstance&&window['jQuery']){jQueryInstance=window['jQuery'];}\nif(arguments.length<2){rootNode=document.body;if(!rootNode){throw Error(\"ko.applyBindings: could not find document.body; has the document been loaded?\");}}else if(!rootNode||(rootNode.nodeType!==1&&rootNode.nodeType!==8)){throw Error(\"ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node\");}\napplyBindingsToNodeAndDescendantsInternal(getBindingContext(viewModelOrBindingContext,extendContextCallback),rootNode);};ko.contextFor=function(node){if(node&&(node.nodeType===1||node.nodeType===8)){return ko.storedBindingContextForNode(node);}\nreturn undefined;};ko.dataFor=function(node){var context=ko.contextFor(node);return context?context['$data']:undefined;};ko.exportSymbol('bindingHandlers',ko.bindingHandlers);ko.exportSymbol('bindingEvent',ko.bindingEvent);ko.exportSymbol('bindingEvent.subscribe',ko.bindingEvent.subscribe);ko.exportSymbol('bindingEvent.startPossiblyAsyncContentBinding',ko.bindingEvent.startPossiblyAsyncContentBinding);ko.exportSymbol('applyBindings',ko.applyBindings);ko.exportSymbol('applyBindingsToDescendants',ko.applyBindingsToDescendants);ko.exportSymbol('applyBindingAccessorsToNode',ko.applyBindingAccessorsToNode);ko.exportSymbol('applyBindingsToNode',ko.applyBindingsToNode);ko.exportSymbol('contextFor',ko.contextFor);ko.exportSymbol('dataFor',ko.dataFor);})();(function(undefined){var loadingSubscribablesCache={},loadedDefinitionsCache={};ko.components={get:function(componentName,callback){var cachedDefinition=getObjectOwnProperty(loadedDefinitionsCache,componentName);if(cachedDefinition){if(cachedDefinition.isSynchronousComponent){ko.dependencyDetection.ignore(function(){callback(cachedDefinition.definition);});}else{ko.tasks.schedule(function(){callback(cachedDefinition.definition);});}}else{loadComponentAndNotify(componentName,callback);}},clearCachedDefinition:function(componentName){delete loadedDefinitionsCache[componentName];},_getFirstResultFromLoaders:getFirstResultFromLoaders};function getObjectOwnProperty(obj,propName){return Object.prototype.hasOwnProperty.call(obj,propName)?obj[propName]:undefined;}\nfunction loadComponentAndNotify(componentName,callback){var subscribable=getObjectOwnProperty(loadingSubscribablesCache,componentName),completedAsync;if(!subscribable){subscribable=loadingSubscribablesCache[componentName]=new ko.subscribable();subscribable.subscribe(callback);beginLoadingComponent(componentName,function(definition,config){var isSynchronousComponent=!!(config&&config['synchronous']);loadedDefinitionsCache[componentName]={definition:definition,isSynchronousComponent:isSynchronousComponent};delete loadingSubscribablesCache[componentName];if(completedAsync||isSynchronousComponent){subscribable['notifySubscribers'](definition);}else{ko.tasks.schedule(function(){subscribable['notifySubscribers'](definition);});}});completedAsync=true;}else{subscribable.subscribe(callback);}}\nfunction beginLoadingComponent(componentName,callback){getFirstResultFromLoaders('getConfig',[componentName],function(config){if(config){getFirstResultFromLoaders('loadComponent',[componentName,config],function(definition){callback(definition,config);});}else{callback(null,null);}});}\nfunction getFirstResultFromLoaders(methodName,argsExceptCallback,callback,candidateLoaders){if(!candidateLoaders){candidateLoaders=ko.components['loaders'].slice(0);}\nvar currentCandidateLoader=candidateLoaders.shift();if(currentCandidateLoader){var methodInstance=currentCandidateLoader[methodName];if(methodInstance){var wasAborted=false,synchronousReturnValue=methodInstance.apply(currentCandidateLoader,argsExceptCallback.concat(function(result){if(wasAborted){callback(null);}else if(result!==null){callback(result);}else{getFirstResultFromLoaders(methodName,argsExceptCallback,callback,candidateLoaders);}}));if(synchronousReturnValue!==undefined){wasAborted=true;if(!currentCandidateLoader['suppressLoaderExceptions']){throw new Error('Component loaders must supply values by invoking the callback, not by returning values synchronously.');}}}else{getFirstResultFromLoaders(methodName,argsExceptCallback,callback,candidateLoaders);}}else{callback(null);}}\nko.components['loaders']=[];ko.exportSymbol('components',ko.components);ko.exportSymbol('components.get',ko.components.get);ko.exportSymbol('components.clearCachedDefinition',ko.components.clearCachedDefinition);})();(function(undefined){var defaultConfigRegistry={};ko.components.register=function(componentName,config){if(!config){throw new Error('Invalid configuration for '+componentName);}\nif(ko.components.isRegistered(componentName)){throw new Error('Component '+componentName+' is already registered');}\ndefaultConfigRegistry[componentName]=config;};ko.components.isRegistered=function(componentName){return Object.prototype.hasOwnProperty.call(defaultConfigRegistry,componentName);};ko.components.unregister=function(componentName){delete defaultConfigRegistry[componentName];ko.components.clearCachedDefinition(componentName);};ko.components.defaultLoader={'getConfig':function(componentName,callback){var result=ko.components.isRegistered(componentName)?defaultConfigRegistry[componentName]:null;callback(result);},'loadComponent':function(componentName,config,callback){var errorCallback=makeErrorCallback(componentName);possiblyGetConfigFromAmd(errorCallback,config,function(loadedConfig){resolveConfig(componentName,errorCallback,loadedConfig,callback);});},'loadTemplate':function(componentName,templateConfig,callback){resolveTemplate(makeErrorCallback(componentName),templateConfig,callback);},'loadViewModel':function(componentName,viewModelConfig,callback){resolveViewModel(makeErrorCallback(componentName),viewModelConfig,callback);}};var createViewModelKey='createViewModel';function resolveConfig(componentName,errorCallback,config,callback){var result={},makeCallBackWhenZero=2,tryIssueCallback=function(){if(--makeCallBackWhenZero===0){callback(result);}},templateConfig=config['template'],viewModelConfig=config['viewModel'];if(templateConfig){possiblyGetConfigFromAmd(errorCallback,templateConfig,function(loadedConfig){ko.components._getFirstResultFromLoaders('loadTemplate',[componentName,loadedConfig],function(resolvedTemplate){result['template']=resolvedTemplate;tryIssueCallback();});});}else{tryIssueCallback();}\nif(viewModelConfig){possiblyGetConfigFromAmd(errorCallback,viewModelConfig,function(loadedConfig){ko.components._getFirstResultFromLoaders('loadViewModel',[componentName,loadedConfig],function(resolvedViewModel){result[createViewModelKey]=resolvedViewModel;tryIssueCallback();});});}else{tryIssueCallback();}}\nfunction resolveTemplate(errorCallback,templateConfig,callback){if(typeof templateConfig==='string'){callback(ko.utils.parseHtmlFragment(templateConfig));}else if(templateConfig instanceof Array){callback(templateConfig);}else if(isDocumentFragment(templateConfig)){callback(ko.utils.makeArray(templateConfig.childNodes));}else if(templateConfig['element']){var element=templateConfig['element'];if(isDomElement(element)){callback(cloneNodesFromTemplateSourceElement(element));}else if(typeof element==='string'){var elemInstance=document.getElementById(element);if(elemInstance){callback(cloneNodesFromTemplateSourceElement(elemInstance));}else{errorCallback('Cannot find element with ID '+element);}}else{errorCallback('Unknown element type: '+element);}}else{errorCallback('Unknown template value: '+templateConfig);}}\nfunction resolveViewModel(errorCallback,viewModelConfig,callback){if(typeof viewModelConfig==='function'){callback(function(params){return new viewModelConfig(params);});}else if(typeof viewModelConfig[createViewModelKey]==='function'){callback(viewModelConfig[createViewModelKey]);}else if('instance'in viewModelConfig){var fixedInstance=viewModelConfig['instance'];callback(function(params,componentInfo){return fixedInstance;});}else if('viewModel'in viewModelConfig){resolveViewModel(errorCallback,viewModelConfig['viewModel'],callback);}else{errorCallback('Unknown viewModel value: '+viewModelConfig);}}\nfunction cloneNodesFromTemplateSourceElement(elemInstance){switch(ko.utils.tagNameLower(elemInstance)){case'script':return ko.utils.parseHtmlFragment(elemInstance.text);case'textarea':return ko.utils.parseHtmlFragment(elemInstance.value);case'template':if(isDocumentFragment(elemInstance.content)){return ko.utils.cloneNodes(elemInstance.content.childNodes);}}\nreturn ko.utils.cloneNodes(elemInstance.childNodes);}\nfunction isDomElement(obj){if(window['HTMLElement']){return obj instanceof HTMLElement;}else{return obj&&obj.tagName&&obj.nodeType===1;}}\nfunction isDocumentFragment(obj){if(window['DocumentFragment']){return obj instanceof DocumentFragment;}else{return obj&&obj.nodeType===11;}}\nfunction possiblyGetConfigFromAmd(errorCallback,config,callback){if(typeof config['require']==='string'){if(amdRequire||window['require']){(amdRequire||window['require'])([config['require']],function(module){if(module&&typeof module==='object'&&module.__esModule&&module.default){module=module.default;}\ncallback(module);});}else{errorCallback('Uses require, but no AMD loader is present');}}else{callback(config);}}\nfunction makeErrorCallback(componentName){return function(message){throw new Error('Component \\''+componentName+'\\': '+message);};}\nko.exportSymbol('components.register',ko.components.register);ko.exportSymbol('components.isRegistered',ko.components.isRegistered);ko.exportSymbol('components.unregister',ko.components.unregister);ko.exportSymbol('components.defaultLoader',ko.components.defaultLoader);ko.components['loaders'].push(ko.components.defaultLoader);ko.components._allRegisteredComponents=defaultConfigRegistry;})();(function(undefined){ko.components['getComponentNameForNode']=function(node){var tagNameLower=ko.utils.tagNameLower(node);if(ko.components.isRegistered(tagNameLower)){if(tagNameLower.indexOf('-')!=-1||(''+node)==\"[object HTMLUnknownElement]\"||(ko.utils.ieVersion<=8&&node.tagName===tagNameLower)){return tagNameLower;}}};ko.components.addBindingsForCustomElement=function(allBindings,node,bindingContext,valueAccessors){if(node.nodeType===1){var componentName=ko.components['getComponentNameForNode'](node);if(componentName){allBindings=allBindings||{};if(allBindings['component']){throw new Error('Cannot use the \"component\" binding on a custom element matching a component');}\nvar componentBindingValue={'name':componentName,'params':getComponentParamsFromCustomElement(node,bindingContext)};allBindings['component']=valueAccessors?function(){return componentBindingValue;}:componentBindingValue;}}\nreturn allBindings;}\nvar nativeBindingProviderInstance=new ko.bindingProvider();function getComponentParamsFromCustomElement(elem,bindingContext){var paramsAttribute=elem.getAttribute('params');if(paramsAttribute){var params=nativeBindingProviderInstance['parseBindingsString'](paramsAttribute,bindingContext,elem,{'valueAccessors':true,'bindingParams':true}),rawParamComputedValues=ko.utils.objectMap(params,function(paramValue,paramName){return ko.computed(paramValue,null,{disposeWhenNodeIsRemoved:elem});}),result=ko.utils.objectMap(rawParamComputedValues,function(paramValueComputed,paramName){var paramValue=paramValueComputed.peek();if(!paramValueComputed.isActive()){return paramValue;}else{return ko.computed({'read':function(){return ko.utils.unwrapObservable(paramValueComputed());},'write':ko.isWriteableObservable(paramValue)&&function(value){paramValueComputed()(value);},disposeWhenNodeIsRemoved:elem});}});if(!Object.prototype.hasOwnProperty.call(result,'$raw')){result['$raw']=rawParamComputedValues;}\nreturn result;}else{return{'$raw':{}};}}\nif(ko.utils.ieVersion<9){ko.components['register']=(function(originalFunction){return function(componentName){document.createElement(componentName);return originalFunction.apply(this,arguments);}})(ko.components['register']);document.createDocumentFragment=(function(originalFunction){return function(){var newDocFrag=originalFunction(),allComponents=ko.components._allRegisteredComponents;for(var componentName in allComponents){if(Object.prototype.hasOwnProperty.call(allComponents,componentName)){newDocFrag.createElement(componentName);}}\nreturn newDocFrag;};})(document.createDocumentFragment);}})();(function(undefined){var componentLoadingOperationUniqueId=0;ko.bindingHandlers['component']={'init':function(element,valueAccessor,ignored1,ignored2,bindingContext){var currentViewModel,currentLoadingOperationId,afterRenderSub,disposeAssociatedComponentViewModel=function(){var currentViewModelDispose=currentViewModel&&currentViewModel['dispose'];if(typeof currentViewModelDispose==='function'){currentViewModelDispose.call(currentViewModel);}\nif(afterRenderSub){afterRenderSub.dispose();}\nafterRenderSub=null;currentViewModel=null;currentLoadingOperationId=null;},originalChildNodes=ko.utils.makeArray(ko.virtualElements.childNodes(element));ko.virtualElements.emptyNode(element);ko.utils.domNodeDisposal.addDisposeCallback(element,disposeAssociatedComponentViewModel);ko.computed(function(){var value=ko.utils.unwrapObservable(valueAccessor()),componentName,componentParams;if(typeof value==='string'){componentName=value;}else{componentName=ko.utils.unwrapObservable(value['name']);componentParams=ko.utils.unwrapObservable(value['params']);}\nif(!componentName){throw new Error('No component name specified');}\nvar asyncContext=ko.bindingEvent.startPossiblyAsyncContentBinding(element,bindingContext);var loadingOperationId=currentLoadingOperationId=++componentLoadingOperationUniqueId;ko.components.get(componentName,function(componentDefinition){if(currentLoadingOperationId!==loadingOperationId){return;}\ndisposeAssociatedComponentViewModel();if(!componentDefinition){throw new Error('Unknown component \\''+componentName+'\\'');}\ncloneTemplateIntoElement(componentName,componentDefinition,element);var componentInfo={'element':element,'templateNodes':originalChildNodes};var componentViewModel=createViewModel(componentDefinition,componentParams,componentInfo),childBindingContext=asyncContext['createChildContext'](componentViewModel,{'extend':function(ctx){ctx['$component']=componentViewModel;ctx['$componentTemplateNodes']=originalChildNodes;}});if(componentViewModel&&componentViewModel['koDescendantsComplete']){afterRenderSub=ko.bindingEvent.subscribe(element,ko.bindingEvent.descendantsComplete,componentViewModel['koDescendantsComplete'],componentViewModel);}\ncurrentViewModel=componentViewModel;ko.applyBindingsToDescendants(childBindingContext,element);});},null,{disposeWhenNodeIsRemoved:element});return{'controlsDescendantBindings':true};}};ko.virtualElements.allowedBindings['component']=true;function cloneTemplateIntoElement(componentName,componentDefinition,element){var template=componentDefinition['template'];if(!template){throw new Error('Component \\''+componentName+'\\' has no template');}\nvar clonedNodesArray=ko.utils.cloneNodes(template);ko.virtualElements.setDomNodeChildren(element,clonedNodesArray);}\nfunction createViewModel(componentDefinition,componentParams,componentInfo){var componentViewModelFactory=componentDefinition['createViewModel'];return componentViewModelFactory?componentViewModelFactory.call(componentDefinition,componentParams,componentInfo):componentParams;}})();var attrHtmlToJavaScriptMap={'class':'className','for':'htmlFor'};ko.bindingHandlers['attr']={'update':function(element,valueAccessor,allBindings){var value=ko.utils.unwrapObservable(valueAccessor())||{};ko.utils.objectForEach(value,function(attrName,attrValue){attrValue=ko.utils.unwrapObservable(attrValue);var prefixLen=attrName.indexOf(':');var namespace=\"lookupNamespaceURI\"in element&&prefixLen>0&&element.lookupNamespaceURI(attrName.substr(0,prefixLen));var toRemove=(attrValue===false)||(attrValue===null)||(attrValue===undefined);if(toRemove){namespace?element.removeAttributeNS(namespace,attrName):element.removeAttribute(attrName);}else{attrValue=attrValue.toString();}\nif(ko.utils.ieVersion<=8&&attrName in attrHtmlToJavaScriptMap){attrName=attrHtmlToJavaScriptMap[attrName];if(toRemove)\nelement.removeAttribute(attrName);else\nelement[attrName]=attrValue;}else if(!toRemove){namespace?element.setAttributeNS(namespace,attrName,attrValue):element.setAttribute(attrName,attrValue);}\nif(attrName===\"name\"){ko.utils.setElementName(element,toRemove?\"\":attrValue);}});}};(function(){ko.bindingHandlers['checked']={'after':['value','attr'],'init':function(element,valueAccessor,allBindings){var checkedValue=ko.pureComputed(function(){if(allBindings['has']('checkedValue')){return ko.utils.unwrapObservable(allBindings.get('checkedValue'));}else if(useElementValue){if(allBindings['has']('value')){return ko.utils.unwrapObservable(allBindings.get('value'));}else{return element.value;}}});function updateModel(){var isChecked=element.checked,elemValue=checkedValue();if(ko.computedContext.isInitial()){return;}\nif(!isChecked&&(isRadio||ko.computedContext.getDependenciesCount())){return;}\nvar modelValue=ko.dependencyDetection.ignore(valueAccessor);if(valueIsArray){var writableValue=rawValueIsNonArrayObservable?modelValue.peek():modelValue,saveOldValue=oldElemValue;oldElemValue=elemValue;if(saveOldValue!==elemValue){if(isChecked){ko.utils.addOrRemoveItem(writableValue,elemValue,true);ko.utils.addOrRemoveItem(writableValue,saveOldValue,false);}}else{ko.utils.addOrRemoveItem(writableValue,elemValue,isChecked);}\nif(rawValueIsNonArrayObservable&&ko.isWriteableObservable(modelValue)){modelValue(writableValue);}}else{if(isCheckbox){if(elemValue===undefined){elemValue=isChecked;}else if(!isChecked){elemValue=undefined;}}\nko.expressionRewriting.writeValueToProperty(modelValue,allBindings,'checked',elemValue,true);}};function updateView(){var modelValue=ko.utils.unwrapObservable(valueAccessor()),elemValue=checkedValue();if(valueIsArray){element.checked=ko.utils.arrayIndexOf(modelValue,elemValue)>=0;oldElemValue=elemValue;}else if(isCheckbox&&elemValue===undefined){element.checked=!!modelValue;}else{element.checked=(checkedValue()===modelValue);}};var isCheckbox=element.type==\"checkbox\",isRadio=element.type==\"radio\";if(!isCheckbox&&!isRadio){return;}\nvar rawValue=valueAccessor(),valueIsArray=isCheckbox&&(ko.utils.unwrapObservable(rawValue)instanceof Array),rawValueIsNonArrayObservable=!(valueIsArray&&rawValue.push&&rawValue.splice),useElementValue=isRadio||valueIsArray,oldElemValue=valueIsArray?checkedValue():undefined;if(isRadio&&!element.name)\nko.bindingHandlers['uniqueName']['init'](element,function(){return true});ko.computed(updateModel,null,{disposeWhenNodeIsRemoved:element});ko.utils.registerEventHandler(element,\"click\",updateModel);ko.computed(updateView,null,{disposeWhenNodeIsRemoved:element});rawValue=undefined;}};ko.expressionRewriting.twoWayBindings['checked']=true;ko.bindingHandlers['checkedValue']={'update':function(element,valueAccessor){element.value=ko.utils.unwrapObservable(valueAccessor());}};})();var classesWrittenByBindingKey='__ko__cssValue';ko.bindingHandlers['class']={'update':function(element,valueAccessor){var value=ko.utils.stringTrim(ko.utils.unwrapObservable(valueAccessor()));ko.utils.toggleDomNodeCssClass(element,element[classesWrittenByBindingKey],false);element[classesWrittenByBindingKey]=value;ko.utils.toggleDomNodeCssClass(element,value,true);}};ko.bindingHandlers['css']={'update':function(element,valueAccessor){var value=ko.utils.unwrapObservable(valueAccessor());if(value!==null&&typeof value==\"object\"){ko.utils.objectForEach(value,function(className,shouldHaveClass){shouldHaveClass=ko.utils.unwrapObservable(shouldHaveClass);ko.utils.toggleDomNodeCssClass(element,className,shouldHaveClass);});}else{ko.bindingHandlers['class']['update'](element,valueAccessor);}}};ko.bindingHandlers['enable']={'update':function(element,valueAccessor){var value=ko.utils.unwrapObservable(valueAccessor());if(value&&element.disabled)\nelement.removeAttribute(\"disabled\");else if((!value)&&(!element.disabled))\nelement.disabled=true;}};ko.bindingHandlers['disable']={'update':function(element,valueAccessor){ko.bindingHandlers['enable']['update'](element,function(){return!ko.utils.unwrapObservable(valueAccessor())});}};function makeEventHandlerShortcut(eventName){ko.bindingHandlers[eventName]={'init':function(element,valueAccessor,allBindings,viewModel,bindingContext){var newValueAccessor=function(){var result={};result[eventName]=valueAccessor();return result;};return ko.bindingHandlers['event']['init'].call(this,element,newValueAccessor,allBindings,viewModel,bindingContext);}}}\nko.bindingHandlers['event']={'init':function(element,valueAccessor,allBindings,viewModel,bindingContext){var eventsToHandle=valueAccessor()||{};ko.utils.objectForEach(eventsToHandle,function(eventName){if(typeof eventName==\"string\"){ko.utils.registerEventHandler(element,eventName,function(event){var handlerReturnValue;var handlerFunction=valueAccessor()[eventName];if(!handlerFunction)\nreturn;try{var argsForHandler=ko.utils.makeArray(arguments);viewModel=bindingContext['$data'];argsForHandler.unshift(viewModel);handlerReturnValue=handlerFunction.apply(viewModel,argsForHandler);}finally{if(handlerReturnValue!==true){if(event.preventDefault)\nevent.preventDefault();else\nevent.returnValue=false;}}\nvar bubble=allBindings.get(eventName+'Bubble')!==false;if(!bubble){event.cancelBubble=true;if(event.stopPropagation)\nevent.stopPropagation();}});}});}};ko.bindingHandlers['foreach']={makeTemplateValueAccessor:function(valueAccessor){return function(){var modelValue=valueAccessor(),unwrappedValue=ko.utils.peekObservable(modelValue);if((!unwrappedValue)||typeof unwrappedValue.length==\"number\")\nreturn{'foreach':modelValue,'templateEngine':ko.nativeTemplateEngine.instance};ko.utils.unwrapObservable(modelValue);return{'foreach':unwrappedValue['data'],'as':unwrappedValue['as'],'noChildContext':unwrappedValue['noChildContext'],'includeDestroyed':unwrappedValue['includeDestroyed'],'afterAdd':unwrappedValue['afterAdd'],'beforeRemove':unwrappedValue['beforeRemove'],'afterRender':unwrappedValue['afterRender'],'beforeMove':unwrappedValue['beforeMove'],'afterMove':unwrappedValue['afterMove'],'templateEngine':ko.nativeTemplateEngine.instance};};},'init':function(element,valueAccessor,allBindings,viewModel,bindingContext){return ko.bindingHandlers['template']['init'](element,ko.bindingHandlers['foreach'].makeTemplateValueAccessor(valueAccessor));},'update':function(element,valueAccessor,allBindings,viewModel,bindingContext){return ko.bindingHandlers['template']['update'](element,ko.bindingHandlers['foreach'].makeTemplateValueAccessor(valueAccessor),allBindings,viewModel,bindingContext);}};ko.expressionRewriting.bindingRewriteValidators['foreach']=false;ko.virtualElements.allowedBindings['foreach']=true;var hasfocusUpdatingProperty='__ko_hasfocusUpdating';var hasfocusLastValue='__ko_hasfocusLastValue';ko.bindingHandlers['hasfocus']={'init':function(element,valueAccessor,allBindings){var handleElementFocusChange=function(isFocused){element[hasfocusUpdatingProperty]=true;var ownerDoc=element.ownerDocument;if(\"activeElement\"in ownerDoc){var active;try{active=ownerDoc.activeElement;}catch(e){active=ownerDoc.body;}\nisFocused=(active===element);}\nvar modelValue=valueAccessor();ko.expressionRewriting.writeValueToProperty(modelValue,allBindings,'hasfocus',isFocused,true);element[hasfocusLastValue]=isFocused;element[hasfocusUpdatingProperty]=false;};var handleElementFocusIn=handleElementFocusChange.bind(null,true);var handleElementFocusOut=handleElementFocusChange.bind(null,false);ko.utils.registerEventHandler(element,\"focus\",handleElementFocusIn);ko.utils.registerEventHandler(element,\"focusin\",handleElementFocusIn);ko.utils.registerEventHandler(element,\"blur\",handleElementFocusOut);ko.utils.registerEventHandler(element,\"focusout\",handleElementFocusOut);element[hasfocusLastValue]=false;},'update':function(element,valueAccessor){var value=!!ko.utils.unwrapObservable(valueAccessor());if(!element[hasfocusUpdatingProperty]&&element[hasfocusLastValue]!==value){value?element.focus():element.blur();if(!value&&element[hasfocusLastValue]){element.ownerDocument.body.focus();}\nko.dependencyDetection.ignore(ko.utils.triggerEvent,null,[element,value?\"focusin\":\"focusout\"]);}}};ko.expressionRewriting.twoWayBindings['hasfocus']=true;ko.bindingHandlers['hasFocus']=ko.bindingHandlers['hasfocus'];ko.expressionRewriting.twoWayBindings['hasFocus']='hasfocus';ko.bindingHandlers['html']={'init':function(){return{'controlsDescendantBindings':true};},'update':function(element,valueAccessor){ko.utils.setHtml(element,valueAccessor());}};(function(){function makeWithIfBinding(bindingKey,isWith,isNot){ko.bindingHandlers[bindingKey]={'init':function(element,valueAccessor,allBindings,viewModel,bindingContext){var didDisplayOnLastUpdate,savedNodes,contextOptions={},completeOnRender,needAsyncContext,renderOnEveryChange;if(isWith){var as=allBindings.get('as'),noChildContext=allBindings.get('noChildContext');renderOnEveryChange=!(as&&noChildContext);contextOptions={'as':as,'noChildContext':noChildContext,'exportDependencies':renderOnEveryChange};}\ncompleteOnRender=allBindings.get(\"completeOn\")==\"render\";needAsyncContext=completeOnRender||allBindings['has'](ko.bindingEvent.descendantsComplete);ko.computed(function(){var value=ko.utils.unwrapObservable(valueAccessor()),shouldDisplay=!isNot!==!value,isInitial=!savedNodes,childContext;if(!renderOnEveryChange&&shouldDisplay===didDisplayOnLastUpdate){return;}\nif(needAsyncContext){bindingContext=ko.bindingEvent.startPossiblyAsyncContentBinding(element,bindingContext);}\nif(shouldDisplay){if(!isWith||renderOnEveryChange){contextOptions['dataDependency']=ko.computedContext.computed();}\nif(isWith){childContext=bindingContext['createChildContext'](typeof value==\"function\"?value:valueAccessor,contextOptions);}else if(ko.computedContext.getDependenciesCount()){childContext=bindingContext['extend'](null,contextOptions);}else{childContext=bindingContext;}}\nif(isInitial&&ko.computedContext.getDependenciesCount()){savedNodes=ko.utils.cloneNodes(ko.virtualElements.childNodes(element),true);}\nif(shouldDisplay){if(!isInitial){ko.virtualElements.setDomNodeChildren(element,ko.utils.cloneNodes(savedNodes));}\nko.applyBindingsToDescendants(childContext,element);}else{ko.virtualElements.emptyNode(element);if(!completeOnRender){ko.bindingEvent.notify(element,ko.bindingEvent.childrenComplete);}}\ndidDisplayOnLastUpdate=shouldDisplay;},null,{disposeWhenNodeIsRemoved:element});return{'controlsDescendantBindings':true};}};ko.expressionRewriting.bindingRewriteValidators[bindingKey]=false;ko.virtualElements.allowedBindings[bindingKey]=true;}\nmakeWithIfBinding('if');makeWithIfBinding('ifnot',false,true);makeWithIfBinding('with',true);})();ko.bindingHandlers['let']={'init':function(element,valueAccessor,allBindings,viewModel,bindingContext){var innerContext=bindingContext['extend'](valueAccessor);ko.applyBindingsToDescendants(innerContext,element);return{'controlsDescendantBindings':true};}};ko.virtualElements.allowedBindings['let']=true;var captionPlaceholder={};ko.bindingHandlers['options']={'init':function(element){if(ko.utils.tagNameLower(element)!==\"select\")\nthrow new Error(\"options binding applies only to SELECT elements\");while(element.length>0){element.remove(0);}\nreturn{'controlsDescendantBindings':true};},'update':function(element,valueAccessor,allBindings){function selectedOptions(){return ko.utils.arrayFilter(element.options,function(node){return node.selected;});}\nvar selectWasPreviouslyEmpty=element.length==0,multiple=element.multiple,previousScrollTop=(!selectWasPreviouslyEmpty&&multiple)?element.scrollTop:null,unwrappedArray=ko.utils.unwrapObservable(valueAccessor()),valueAllowUnset=allBindings.get('valueAllowUnset')&&allBindings['has']('value'),includeDestroyed=allBindings.get('optionsIncludeDestroyed'),arrayToDomNodeChildrenOptions={},captionValue,filteredArray,previousSelectedValues=[];if(!valueAllowUnset){if(multiple){previousSelectedValues=ko.utils.arrayMap(selectedOptions(),ko.selectExtensions.readValue);}else if(element.selectedIndex>=0){previousSelectedValues.push(ko.selectExtensions.readValue(element.options[element.selectedIndex]));}}\nif(unwrappedArray){if(typeof unwrappedArray.length==\"undefined\")\nunwrappedArray=[unwrappedArray];filteredArray=ko.utils.arrayFilter(unwrappedArray,function(item){return includeDestroyed||item===undefined||item===null||!ko.utils.unwrapObservable(item['_destroy']);});if(allBindings['has']('optionsCaption')){captionValue=ko.utils.unwrapObservable(allBindings.get('optionsCaption'));if(captionValue!==null&&captionValue!==undefined){filteredArray.unshift(captionPlaceholder);}}}else{}\nfunction applyToObject(object,predicate,defaultValue){var predicateType=typeof predicate;if(predicateType==\"function\")\nreturn predicate(object);else if(predicateType==\"string\")\nreturn object[predicate];else\nreturn defaultValue;}\nvar itemUpdate=false;function optionForArrayItem(arrayEntry,index,oldOptions){if(oldOptions.length){previousSelectedValues=!valueAllowUnset&&oldOptions[0].selected?[ko.selectExtensions.readValue(oldOptions[0])]:[];itemUpdate=true;}\nvar option=element.ownerDocument.createElement(\"option\");if(arrayEntry===captionPlaceholder){ko.utils.setTextContent(option,allBindings.get('optionsCaption'));ko.selectExtensions.writeValue(option,undefined);}else{var optionValue=applyToObject(arrayEntry,allBindings.get('optionsValue'),arrayEntry);ko.selectExtensions.writeValue(option,ko.utils.unwrapObservable(optionValue));var optionText=applyToObject(arrayEntry,allBindings.get('optionsText'),optionValue);ko.utils.setTextContent(option,optionText);}\nreturn[option];}\narrayToDomNodeChildrenOptions['beforeRemove']=function(option){element.removeChild(option);};function setSelectionCallback(arrayEntry,newOptions){if(itemUpdate&&valueAllowUnset){ko.bindingEvent.notify(element,ko.bindingEvent.childrenComplete);}else if(previousSelectedValues.length){var isSelected=ko.utils.arrayIndexOf(previousSelectedValues,ko.selectExtensions.readValue(newOptions[0]))>=0;ko.utils.setOptionNodeSelectionState(newOptions[0],isSelected);if(itemUpdate&&!isSelected){ko.dependencyDetection.ignore(ko.utils.triggerEvent,null,[element,\"change\"]);}}}\nvar callback=setSelectionCallback;if(allBindings['has']('optionsAfterRender')&&typeof allBindings.get('optionsAfterRender')==\"function\"){callback=function(arrayEntry,newOptions){setSelectionCallback(arrayEntry,newOptions);ko.dependencyDetection.ignore(allBindings.get('optionsAfterRender'),null,[newOptions[0],arrayEntry!==captionPlaceholder?arrayEntry:undefined]);}}\nko.utils.setDomNodeChildrenFromArrayMapping(element,filteredArray,optionForArrayItem,arrayToDomNodeChildrenOptions,callback);if(!valueAllowUnset){var selectionChanged;if(multiple){selectionChanged=previousSelectedValues.length&&selectedOptions().length<previousSelectedValues.length;}else{selectionChanged=(previousSelectedValues.length&&element.selectedIndex>=0)?(ko.selectExtensions.readValue(element.options[element.selectedIndex])!==previousSelectedValues[0]):(previousSelectedValues.length||element.selectedIndex>=0);}\nif(selectionChanged){ko.dependencyDetection.ignore(ko.utils.triggerEvent,null,[element,\"change\"]);}}\nif(valueAllowUnset||ko.computedContext.isInitial()){ko.bindingEvent.notify(element,ko.bindingEvent.childrenComplete);}\nko.utils.ensureSelectElementIsRenderedCorrectly(element);if(previousScrollTop&&Math.abs(previousScrollTop-element.scrollTop)>20)\nelement.scrollTop=previousScrollTop;}};ko.bindingHandlers['options'].optionValueDomDataKey=ko.utils.domData.nextKey();ko.bindingHandlers['selectedOptions']={'init':function(element,valueAccessor,allBindings){function updateFromView(){var value=valueAccessor(),valueToWrite=[];ko.utils.arrayForEach(element.getElementsByTagName(\"option\"),function(node){if(node.selected)\nvalueToWrite.push(ko.selectExtensions.readValue(node));});ko.expressionRewriting.writeValueToProperty(value,allBindings,'selectedOptions',valueToWrite);}\nfunction updateFromModel(){var newValue=ko.utils.unwrapObservable(valueAccessor()),previousScrollTop=element.scrollTop;if(newValue&&typeof newValue.length==\"number\"){ko.utils.arrayForEach(element.getElementsByTagName(\"option\"),function(node){var isSelected=ko.utils.arrayIndexOf(newValue,ko.selectExtensions.readValue(node))>=0;if(node.selected!=isSelected){ko.utils.setOptionNodeSelectionState(node,isSelected);}});}\nelement.scrollTop=previousScrollTop;}\nif(ko.utils.tagNameLower(element)!=\"select\"){throw new Error(\"selectedOptions binding applies only to SELECT elements\");}\nvar updateFromModelComputed;ko.bindingEvent.subscribe(element,ko.bindingEvent.childrenComplete,function(){if(!updateFromModelComputed){ko.utils.registerEventHandler(element,\"change\",updateFromView);updateFromModelComputed=ko.computed(updateFromModel,null,{disposeWhenNodeIsRemoved:element});}else{updateFromView();}},null,{'notifyImmediately':true});},'update':function(){}};ko.expressionRewriting.twoWayBindings['selectedOptions']=true;ko.bindingHandlers['style']={'update':function(element,valueAccessor){var value=ko.utils.unwrapObservable(valueAccessor()||{});ko.utils.objectForEach(value,function(styleName,styleValue){styleValue=ko.utils.unwrapObservable(styleValue);if(styleValue===null||styleValue===undefined||styleValue===false){styleValue=\"\";}\nif(jQueryInstance){jQueryInstance(element)['css'](styleName,styleValue);}else if(/^--/.test(styleName)){element.style.setProperty(styleName,styleValue);}else{styleName=styleName.replace(/-(\\w)/g,function(all,letter){return letter.toUpperCase();});var previousStyle=element.style[styleName];element.style[styleName]=styleValue;if(styleValue!==previousStyle&&element.style[styleName]==previousStyle&&!isNaN(styleValue)){element.style[styleName]=styleValue+\"px\";}}});}};ko.bindingHandlers['submit']={'init':function(element,valueAccessor,allBindings,viewModel,bindingContext){if(typeof valueAccessor()!=\"function\")\nthrow new Error(\"The value for a submit binding must be a function\");ko.utils.registerEventHandler(element,\"submit\",function(event){var handlerReturnValue;var value=valueAccessor();try{handlerReturnValue=value.call(bindingContext['$data'],element);}\nfinally{if(handlerReturnValue!==true){if(event.preventDefault)\nevent.preventDefault();else\nevent.returnValue=false;}}});}};ko.bindingHandlers['text']={'init':function(){return{'controlsDescendantBindings':true};},'update':function(element,valueAccessor){ko.utils.setTextContent(element,valueAccessor());}};ko.virtualElements.allowedBindings['text']=true;(function(){if(window&&window.navigator){var parseVersion=function(matches){if(matches){return parseFloat(matches[1]);}};var userAgent=window.navigator.userAgent,operaVersion,chromeVersion,safariVersion,firefoxVersion,ieVersion,edgeVersion;(operaVersion=window.opera&&window.opera.version&&parseInt(window.opera.version()))||(edgeVersion=parseVersion(userAgent.match(/Edge\\/([^ ]+)$/)))||(chromeVersion=parseVersion(userAgent.match(/Chrome\\/([^ ]+)/)))||(safariVersion=parseVersion(userAgent.match(/Version\\/([^ ]+) Safari/)))||(firefoxVersion=parseVersion(userAgent.match(/Firefox\\/([^ ]+)/)))||(ieVersion=ko.utils.ieVersion||parseVersion(userAgent.match(/MSIE ([^ ]+)/)))||(ieVersion=parseVersion(userAgent.match(/rv:([^ )]+)/)));}\nif(ieVersion>=8&&ieVersion<10){var selectionChangeRegisteredName=ko.utils.domData.nextKey(),selectionChangeHandlerName=ko.utils.domData.nextKey();var selectionChangeHandler=function(event){var target=this.activeElement,handler=target&&ko.utils.domData.get(target,selectionChangeHandlerName);if(handler){handler(event);}};var registerForSelectionChangeEvent=function(element,handler){var ownerDoc=element.ownerDocument;if(!ko.utils.domData.get(ownerDoc,selectionChangeRegisteredName)){ko.utils.domData.set(ownerDoc,selectionChangeRegisteredName,true);ko.utils.registerEventHandler(ownerDoc,'selectionchange',selectionChangeHandler);}\nko.utils.domData.set(element,selectionChangeHandlerName,handler);};}\nko.bindingHandlers['textInput']={'init':function(element,valueAccessor,allBindings){var previousElementValue=element.value,timeoutHandle,elementValueBeforeEvent;var updateModel=function(event){clearTimeout(timeoutHandle);elementValueBeforeEvent=timeoutHandle=undefined;var elementValue=element.value;if(previousElementValue!==elementValue){if(DEBUG&&event)element['_ko_textInputProcessedEvent']=event.type;previousElementValue=elementValue;ko.expressionRewriting.writeValueToProperty(valueAccessor(),allBindings,'textInput',elementValue);}};var deferUpdateModel=function(event){if(!timeoutHandle){elementValueBeforeEvent=element.value;var handler=DEBUG?updateModel.bind(element,{type:event.type}):updateModel;timeoutHandle=ko.utils.setTimeout(handler,4);}};var ieUpdateModel=ko.utils.ieVersion==9?deferUpdateModel:updateModel,ourUpdate=false;var updateView=function(){var modelValue=ko.utils.unwrapObservable(valueAccessor());if(modelValue===null||modelValue===undefined){modelValue='';}\nif(elementValueBeforeEvent!==undefined&&modelValue===elementValueBeforeEvent){ko.utils.setTimeout(updateView,4);return;}\nif(element.value!==modelValue){ourUpdate=true;element.value=modelValue;ourUpdate=false;previousElementValue=element.value;}};var onEvent=function(event,handler){ko.utils.registerEventHandler(element,event,handler);};if(DEBUG&&ko.bindingHandlers['textInput']['_forceUpdateOn']){ko.utils.arrayForEach(ko.bindingHandlers['textInput']['_forceUpdateOn'],function(eventName){if(eventName.slice(0,5)=='after'){onEvent(eventName.slice(5),deferUpdateModel);}else{onEvent(eventName,updateModel);}});}else{if(ieVersion){onEvent('keypress',updateModel);}\nif(ieVersion<11){onEvent('propertychange',function(event){if(!ourUpdate&&event.propertyName==='value'){ieUpdateModel(event);}});}\nif(ieVersion==8){onEvent('keyup',updateModel);onEvent('keydown',updateModel);}\nif(registerForSelectionChangeEvent){registerForSelectionChangeEvent(element,ieUpdateModel);onEvent('dragend',deferUpdateModel);}\nif(!ieVersion||ieVersion>=9){onEvent('input',ieUpdateModel);}\nif(safariVersion<5&&ko.utils.tagNameLower(element)===\"textarea\"){onEvent('keydown',deferUpdateModel);onEvent('paste',deferUpdateModel);onEvent('cut',deferUpdateModel);}else if(operaVersion<11){onEvent('keydown',deferUpdateModel);}else if(firefoxVersion<4.0){onEvent('DOMAutoComplete',updateModel);onEvent('dragdrop',updateModel);onEvent('drop',updateModel);}else if(edgeVersion&&element.type===\"number\"){onEvent('keydown',deferUpdateModel);}}\nonEvent('change',updateModel);onEvent('blur',updateModel);ko.computed(updateView,null,{disposeWhenNodeIsRemoved:element});}};ko.expressionRewriting.twoWayBindings['textInput']=true;ko.bindingHandlers['textinput']={'preprocess':function(value,name,addBinding){addBinding('textInput',value);}};})();ko.bindingHandlers['uniqueName']={'init':function(element,valueAccessor){if(valueAccessor()){var name=\"ko_unique_\"+(++ko.bindingHandlers['uniqueName'].currentIndex);ko.utils.setElementName(element,name);}}};ko.bindingHandlers['uniqueName'].currentIndex=0;ko.bindingHandlers['using']={'init':function(element,valueAccessor,allBindings,viewModel,bindingContext){var options;if(allBindings['has']('as')){options={'as':allBindings.get('as'),'noChildContext':allBindings.get('noChildContext')};}\nvar innerContext=bindingContext['createChildContext'](valueAccessor,options);ko.applyBindingsToDescendants(innerContext,element);return{'controlsDescendantBindings':true};}};ko.virtualElements.allowedBindings['using']=true;ko.bindingHandlers['value']={'init':function(element,valueAccessor,allBindings){var tagName=ko.utils.tagNameLower(element),isInputElement=tagName==\"input\";if(isInputElement&&(element.type==\"checkbox\"||element.type==\"radio\")){ko.applyBindingAccessorsToNode(element,{'checkedValue':valueAccessor});return;}\nvar eventsToCatch=[];var requestedEventsToCatch=allBindings.get(\"valueUpdate\");var propertyChangedFired=false;var elementValueBeforeEvent=null;if(requestedEventsToCatch){if(typeof requestedEventsToCatch==\"string\"){eventsToCatch=[requestedEventsToCatch];}else{eventsToCatch=ko.utils.arrayGetDistinctValues(requestedEventsToCatch);}\nko.utils.arrayRemoveItem(eventsToCatch,\"change\");}\nvar valueUpdateHandler=function(){elementValueBeforeEvent=null;propertyChangedFired=false;var modelValue=valueAccessor();var elementValue=ko.selectExtensions.readValue(element);ko.expressionRewriting.writeValueToProperty(modelValue,allBindings,'value',elementValue);}\nvar ieAutoCompleteHackNeeded=ko.utils.ieVersion&&isInputElement&&element.type==\"text\"&&element.autocomplete!=\"off\"&&(!element.form||element.form.autocomplete!=\"off\");if(ieAutoCompleteHackNeeded&&ko.utils.arrayIndexOf(eventsToCatch,\"propertychange\")==-1){ko.utils.registerEventHandler(element,\"propertychange\",function(){propertyChangedFired=true});ko.utils.registerEventHandler(element,\"focus\",function(){propertyChangedFired=false});ko.utils.registerEventHandler(element,\"blur\",function(){if(propertyChangedFired){valueUpdateHandler();}});}\nko.utils.arrayForEach(eventsToCatch,function(eventName){var handler=valueUpdateHandler;if(ko.utils.stringStartsWith(eventName,\"after\")){handler=function(){elementValueBeforeEvent=ko.selectExtensions.readValue(element);ko.utils.setTimeout(valueUpdateHandler,0);};eventName=eventName.substring(\"after\".length);}\nko.utils.registerEventHandler(element,eventName,handler);});var updateFromModel;if(isInputElement&&element.type==\"file\"){updateFromModel=function(){var newValue=ko.utils.unwrapObservable(valueAccessor());if(newValue===null||newValue===undefined||newValue===\"\"){element.value=\"\";}else{ko.dependencyDetection.ignore(valueUpdateHandler);}}}else{updateFromModel=function(){var newValue=ko.utils.unwrapObservable(valueAccessor());var elementValue=ko.selectExtensions.readValue(element);if(elementValueBeforeEvent!==null&&newValue===elementValueBeforeEvent){ko.utils.setTimeout(updateFromModel,0);return;}\nvar valueHasChanged=newValue!==elementValue;if(valueHasChanged||elementValue===undefined){if(tagName===\"select\"){var allowUnset=allBindings.get('valueAllowUnset');ko.selectExtensions.writeValue(element,newValue,allowUnset);if(!allowUnset&&newValue!==ko.selectExtensions.readValue(element)){ko.dependencyDetection.ignore(valueUpdateHandler);}}else{ko.selectExtensions.writeValue(element,newValue);}}};}\nif(tagName===\"select\"){var updateFromModelComputed;ko.bindingEvent.subscribe(element,ko.bindingEvent.childrenComplete,function(){if(!updateFromModelComputed){ko.utils.registerEventHandler(element,\"change\",valueUpdateHandler);updateFromModelComputed=ko.computed(updateFromModel,null,{disposeWhenNodeIsRemoved:element});}else if(allBindings.get('valueAllowUnset')){updateFromModel();}else{valueUpdateHandler();}},null,{'notifyImmediately':true});}else{ko.utils.registerEventHandler(element,\"change\",valueUpdateHandler);ko.computed(updateFromModel,null,{disposeWhenNodeIsRemoved:element});}},'update':function(){}};ko.expressionRewriting.twoWayBindings['value']=true;ko.bindingHandlers['visible']={'update':function(element,valueAccessor){var value=ko.utils.unwrapObservable(valueAccessor());var isCurrentlyVisible=!(element.style.display==\"none\");if(value&&!isCurrentlyVisible)\nelement.style.display=\"\";else if((!value)&&isCurrentlyVisible)\nelement.style.display=\"none\";}};ko.bindingHandlers['hidden']={'update':function(element,valueAccessor){ko.bindingHandlers['visible']['update'](element,function(){return!ko.utils.unwrapObservable(valueAccessor())});}};makeEventHandlerShortcut('click');ko.templateEngine=function(){};ko.templateEngine.prototype['renderTemplateSource']=function(templateSource,bindingContext,options,templateDocument){throw new Error(\"Override renderTemplateSource\");};ko.templateEngine.prototype['createJavaScriptEvaluatorBlock']=function(script){throw new Error(\"Override createJavaScriptEvaluatorBlock\");};ko.templateEngine.prototype['makeTemplateSource']=function(template,templateDocument){if(typeof template==\"string\"){templateDocument=templateDocument||document;var elem=templateDocument.getElementById(template);if(!elem)\nthrow new Error(\"Cannot find template with ID \"+template);return new ko.templateSources.domElement(elem);}else if((template.nodeType==1)||(template.nodeType==8)){return new ko.templateSources.anonymousTemplate(template);}else\nthrow new Error(\"Unknown template type: \"+template);};ko.templateEngine.prototype['renderTemplate']=function(template,bindingContext,options,templateDocument){var templateSource=this['makeTemplateSource'](template,templateDocument);return this['renderTemplateSource'](templateSource,bindingContext,options,templateDocument);};ko.templateEngine.prototype['isTemplateRewritten']=function(template,templateDocument){if(this['allowTemplateRewriting']===false)\nreturn true;return this['makeTemplateSource'](template,templateDocument)['data'](\"isRewritten\");};ko.templateEngine.prototype['rewriteTemplate']=function(template,rewriterCallback,templateDocument){var templateSource=this['makeTemplateSource'](template,templateDocument);var rewritten=rewriterCallback(templateSource['text']());templateSource['text'](rewritten);templateSource['data'](\"isRewritten\",true);};ko.exportSymbol('templateEngine',ko.templateEngine);ko.templateRewriting=(function(){var memoizeDataBindingAttributeSyntaxRegex=/(<([a-z]+\\d*)(?:\\s+(?!data-bind\\s*=\\s*)[a-z0-9\\-]+(?:=(?:\\\"[^\\\"]*\\\"|\\'[^\\']*\\'|[^>]*))?)*\\s+)data-bind\\s*=\\s*([\"'])([\\s\\S]*?)\\3/gi;var memoizeVirtualContainerBindingSyntaxRegex=/<!--\\s*ko\\b\\s*([\\s\\S]*?)\\s*-->/g;function validateDataBindValuesForRewriting(keyValueArray){var allValidators=ko.expressionRewriting.bindingRewriteValidators;for(var i=0;i<keyValueArray.length;i++){var key=keyValueArray[i]['key'];if(Object.prototype.hasOwnProperty.call(allValidators,key)){var validator=allValidators[key];if(typeof validator===\"function\"){var possibleErrorMessage=validator(keyValueArray[i]['value']);if(possibleErrorMessage)\nthrow new Error(possibleErrorMessage);}else if(!validator){throw new Error(\"This template engine does not support the '\"+key+\"' binding within its templates\");}}}}\nfunction constructMemoizedTagReplacement(dataBindAttributeValue,tagToRetain,nodeName,templateEngine){var dataBindKeyValueArray=ko.expressionRewriting.parseObjectLiteral(dataBindAttributeValue);validateDataBindValuesForRewriting(dataBindKeyValueArray);var rewrittenDataBindAttributeValue=ko.expressionRewriting.preProcessBindings(dataBindKeyValueArray,{'valueAccessors':true});var applyBindingsToNextSiblingScript=\"ko.__tr_ambtns(function($context,$element){return(function(){return{ \"+rewrittenDataBindAttributeValue+\" } })()},'\"+nodeName.toLowerCase()+\"')\";return templateEngine['createJavaScriptEvaluatorBlock'](applyBindingsToNextSiblingScript)+tagToRetain;}\nreturn{ensureTemplateIsRewritten:function(template,templateEngine,templateDocument){if(!templateEngine['isTemplateRewritten'](template,templateDocument))\ntemplateEngine['rewriteTemplate'](template,function(htmlString){return ko.templateRewriting.memoizeBindingAttributeSyntax(htmlString,templateEngine);},templateDocument);},memoizeBindingAttributeSyntax:function(htmlString,templateEngine){return htmlString.replace(memoizeDataBindingAttributeSyntaxRegex,function(){return constructMemoizedTagReplacement(arguments[4],arguments[1],arguments[2],templateEngine);}).replace(memoizeVirtualContainerBindingSyntaxRegex,function(){return constructMemoizedTagReplacement(arguments[1],\"<!-- ko -->\",\"#comment\",templateEngine);});},applyMemoizedBindingsToNextSibling:function(bindings,nodeName){return ko.memoization.memoize(function(domNode,bindingContext){var nodeToBind=domNode.nextSibling;if(nodeToBind&&nodeToBind.nodeName.toLowerCase()===nodeName){ko.applyBindingAccessorsToNode(nodeToBind,bindings,bindingContext);}});}}})();ko.exportSymbol('__tr_ambtns',ko.templateRewriting.applyMemoizedBindingsToNextSibling);(function(){ko.templateSources={};var templateScript=1,templateTextArea=2,templateTemplate=3,templateElement=4;ko.templateSources.domElement=function(element){this.domElement=element;if(element){var tagNameLower=ko.utils.tagNameLower(element);this.templateType=tagNameLower===\"script\"?templateScript:tagNameLower===\"textarea\"?templateTextArea:tagNameLower==\"template\"&&element.content&&element.content.nodeType===11?templateTemplate:templateElement;}}\nko.templateSources.domElement.prototype['text']=function(){var elemContentsProperty=this.templateType===templateScript?\"text\":this.templateType===templateTextArea?\"value\":\"innerHTML\";if(arguments.length==0){return this.domElement[elemContentsProperty];}else{var valueToWrite=arguments[0];if(elemContentsProperty===\"innerHTML\")\nko.utils.setHtml(this.domElement,valueToWrite);else\nthis.domElement[elemContentsProperty]=valueToWrite;}};var dataDomDataPrefix=ko.utils.domData.nextKey()+\"_\";ko.templateSources.domElement.prototype['data']=function(key){if(arguments.length===1){return ko.utils.domData.get(this.domElement,dataDomDataPrefix+key);}else{ko.utils.domData.set(this.domElement,dataDomDataPrefix+key,arguments[1]);}};var templatesDomDataKey=ko.utils.domData.nextKey();function getTemplateDomData(element){return ko.utils.domData.get(element,templatesDomDataKey)||{};}\nfunction setTemplateDomData(element,data){ko.utils.domData.set(element,templatesDomDataKey,data);}\nko.templateSources.domElement.prototype['nodes']=function(){var element=this.domElement;if(arguments.length==0){var templateData=getTemplateDomData(element),nodes=templateData.containerData||(this.templateType===templateTemplate?element.content:this.templateType===templateElement?element:undefined);if(!nodes||templateData.alwaysCheckText){var text=this['text']();if(text&&text!==templateData.textData){nodes=ko.utils.parseHtmlForTemplateNodes(text,element.ownerDocument);setTemplateDomData(element,{containerData:nodes,textData:text,alwaysCheckText:true});}}\nreturn nodes;}else{var valueToWrite=arguments[0];if(this.templateType!==undefined){this['text'](\"\");}\nsetTemplateDomData(element,{containerData:valueToWrite});}};ko.templateSources.anonymousTemplate=function(element){this.domElement=element;}\nko.templateSources.anonymousTemplate.prototype=new ko.templateSources.domElement();ko.templateSources.anonymousTemplate.prototype.constructor=ko.templateSources.anonymousTemplate;ko.templateSources.anonymousTemplate.prototype['text']=function(){if(arguments.length==0){var templateData=getTemplateDomData(this.domElement);if(templateData.textData===undefined&&templateData.containerData)\ntemplateData.textData=templateData.containerData.innerHTML;return templateData.textData;}else{var valueToWrite=arguments[0];setTemplateDomData(this.domElement,{textData:valueToWrite});}};ko.exportSymbol('templateSources',ko.templateSources);ko.exportSymbol('templateSources.domElement',ko.templateSources.domElement);ko.exportSymbol('templateSources.anonymousTemplate',ko.templateSources.anonymousTemplate);})();(function(){var _templateEngine;ko.setTemplateEngine=function(templateEngine){if((templateEngine!=undefined)&&!(templateEngine instanceof ko.templateEngine))\nthrow new Error(\"templateEngine must inherit from ko.templateEngine\");_templateEngine=templateEngine;}\nfunction invokeForEachNodeInContinuousRange(firstNode,lastNode,action){var node,nextInQueue=firstNode,firstOutOfRangeNode=ko.virtualElements.nextSibling(lastNode);while(nextInQueue&&((node=nextInQueue)!==firstOutOfRangeNode)){nextInQueue=ko.virtualElements.nextSibling(node);action(node,nextInQueue);}}\nfunction activateBindingsOnContinuousNodeArray(continuousNodeArray,bindingContext){if(continuousNodeArray.length){var firstNode=continuousNodeArray[0],lastNode=continuousNodeArray[continuousNodeArray.length-1],parentNode=firstNode.parentNode,provider=ko.bindingProvider['instance'],preprocessNode=provider['preprocessNode'];if(preprocessNode){invokeForEachNodeInContinuousRange(firstNode,lastNode,function(node,nextNodeInRange){var nodePreviousSibling=node.previousSibling;var newNodes=preprocessNode.call(provider,node);if(newNodes){if(node===firstNode)\nfirstNode=newNodes[0]||nextNodeInRange;if(node===lastNode)\nlastNode=newNodes[newNodes.length-1]||nodePreviousSibling;}});continuousNodeArray.length=0;if(!firstNode){return;}\nif(firstNode===lastNode){continuousNodeArray.push(firstNode);}else{continuousNodeArray.push(firstNode,lastNode);ko.utils.fixUpContinuousNodeArray(continuousNodeArray,parentNode);}}\ninvokeForEachNodeInContinuousRange(firstNode,lastNode,function(node){if(node.nodeType===1||node.nodeType===8)\nko.applyBindings(bindingContext,node);});invokeForEachNodeInContinuousRange(firstNode,lastNode,function(node){if(node.nodeType===1||node.nodeType===8)\nko.memoization.unmemoizeDomNodeAndDescendants(node,[bindingContext]);});ko.utils.fixUpContinuousNodeArray(continuousNodeArray,parentNode);}}\nfunction getFirstNodeFromPossibleArray(nodeOrNodeArray){return nodeOrNodeArray.nodeType?nodeOrNodeArray:nodeOrNodeArray.length>0?nodeOrNodeArray[0]:null;}\nfunction executeTemplate(targetNodeOrNodeArray,renderMode,template,bindingContext,options){options=options||{};var firstTargetNode=targetNodeOrNodeArray&&getFirstNodeFromPossibleArray(targetNodeOrNodeArray);var templateDocument=(firstTargetNode||template||{}).ownerDocument;var templateEngineToUse=(options['templateEngine']||_templateEngine);ko.templateRewriting.ensureTemplateIsRewritten(template,templateEngineToUse,templateDocument);var renderedNodesArray=templateEngineToUse['renderTemplate'](template,bindingContext,options,templateDocument);if((typeof renderedNodesArray.length!=\"number\")||(renderedNodesArray.length>0&&typeof renderedNodesArray[0].nodeType!=\"number\"))\nthrow new Error(\"Template engine must return an array of DOM nodes\");var haveAddedNodesToParent=false;switch(renderMode){case\"replaceChildren\":ko.virtualElements.setDomNodeChildren(targetNodeOrNodeArray,renderedNodesArray);haveAddedNodesToParent=true;break;case\"replaceNode\":ko.utils.replaceDomNodes(targetNodeOrNodeArray,renderedNodesArray);haveAddedNodesToParent=true;break;case\"ignoreTargetNode\":break;default:throw new Error(\"Unknown renderMode: \"+renderMode);}\nif(haveAddedNodesToParent){activateBindingsOnContinuousNodeArray(renderedNodesArray,bindingContext);if(options['afterRender']){ko.dependencyDetection.ignore(options['afterRender'],null,[renderedNodesArray,bindingContext[options['as']||'$data']]);}\nif(renderMode==\"replaceChildren\"){ko.bindingEvent.notify(targetNodeOrNodeArray,ko.bindingEvent.childrenComplete);}}\nreturn renderedNodesArray;}\nfunction resolveTemplateName(template,data,context){if(ko.isObservable(template)){return template();}else if(typeof template==='function'){return template(data,context);}else{return template;}}\nko.renderTemplate=function(template,dataOrBindingContext,options,targetNodeOrNodeArray,renderMode){options=options||{};if((options['templateEngine']||_templateEngine)==undefined)\nthrow new Error(\"Set a template engine before calling renderTemplate\");renderMode=renderMode||\"replaceChildren\";if(targetNodeOrNodeArray){var firstTargetNode=getFirstNodeFromPossibleArray(targetNodeOrNodeArray);var whenToDispose=function(){return(!firstTargetNode)||!ko.utils.domNodeIsAttachedToDocument(firstTargetNode);};var activelyDisposeWhenNodeIsRemoved=(firstTargetNode&&renderMode==\"replaceNode\")?firstTargetNode.parentNode:firstTargetNode;return ko.dependentObservable(function(){var bindingContext=(dataOrBindingContext&&(dataOrBindingContext instanceof ko.bindingContext))?dataOrBindingContext:new ko.bindingContext(dataOrBindingContext,null,null,null,{\"exportDependencies\":true});var templateName=resolveTemplateName(template,bindingContext['$data'],bindingContext),renderedNodesArray=executeTemplate(targetNodeOrNodeArray,renderMode,templateName,bindingContext,options);if(renderMode==\"replaceNode\"){targetNodeOrNodeArray=renderedNodesArray;firstTargetNode=getFirstNodeFromPossibleArray(targetNodeOrNodeArray);}},null,{disposeWhen:whenToDispose,disposeWhenNodeIsRemoved:activelyDisposeWhenNodeIsRemoved});}else{return ko.memoization.memoize(function(domNode){ko.renderTemplate(template,dataOrBindingContext,options,domNode,\"replaceNode\");});}};ko.renderTemplateForEach=function(template,arrayOrObservableArray,options,targetNode,parentBindingContext){var arrayItemContext,asName=options['as'];var executeTemplateForArrayItem=function(arrayValue,index){arrayItemContext=parentBindingContext['createChildContext'](arrayValue,{'as':asName,'noChildContext':options['noChildContext'],'extend':function(context){context['$index']=index;if(asName){context[asName+\"Index\"]=index;}}});var templateName=resolveTemplateName(template,arrayValue,arrayItemContext);return executeTemplate(targetNode,\"ignoreTargetNode\",templateName,arrayItemContext,options);};var activateBindingsCallback=function(arrayValue,addedNodesArray,index){activateBindingsOnContinuousNodeArray(addedNodesArray,arrayItemContext);if(options['afterRender'])\noptions['afterRender'](addedNodesArray,arrayValue);arrayItemContext=null;};var setDomNodeChildrenFromArrayMapping=function(newArray,changeList){ko.dependencyDetection.ignore(ko.utils.setDomNodeChildrenFromArrayMapping,null,[targetNode,newArray,executeTemplateForArrayItem,options,activateBindingsCallback,changeList]);ko.bindingEvent.notify(targetNode,ko.bindingEvent.childrenComplete);};var shouldHideDestroyed=(options['includeDestroyed']===false)||(ko.options['foreachHidesDestroyed']&&!options['includeDestroyed']);if(!shouldHideDestroyed&&!options['beforeRemove']&&ko.isObservableArray(arrayOrObservableArray)){setDomNodeChildrenFromArrayMapping(arrayOrObservableArray.peek());var subscription=arrayOrObservableArray.subscribe(function(changeList){setDomNodeChildrenFromArrayMapping(arrayOrObservableArray(),changeList);},null,\"arrayChange\");subscription.disposeWhenNodeIsRemoved(targetNode);return subscription;}else{return ko.dependentObservable(function(){var unwrappedArray=ko.utils.unwrapObservable(arrayOrObservableArray)||[];if(typeof unwrappedArray.length==\"undefined\")\nunwrappedArray=[unwrappedArray];if(shouldHideDestroyed){unwrappedArray=ko.utils.arrayFilter(unwrappedArray,function(item){return item===undefined||item===null||!ko.utils.unwrapObservable(item['_destroy']);});}\nsetDomNodeChildrenFromArrayMapping(unwrappedArray);},null,{disposeWhenNodeIsRemoved:targetNode});}};var templateComputedDomDataKey=ko.utils.domData.nextKey();function disposeOldComputedAndStoreNewOne(element,newComputed){var oldComputed=ko.utils.domData.get(element,templateComputedDomDataKey);if(oldComputed&&(typeof(oldComputed.dispose)=='function'))\noldComputed.dispose();ko.utils.domData.set(element,templateComputedDomDataKey,(newComputed&&(!newComputed.isActive||newComputed.isActive()))?newComputed:undefined);}\nvar cleanContainerDomDataKey=ko.utils.domData.nextKey();ko.bindingHandlers['template']={'init':function(element,valueAccessor){var bindingValue=ko.utils.unwrapObservable(valueAccessor());if(typeof bindingValue==\"string\"||'name'in bindingValue){ko.virtualElements.emptyNode(element);}else if('nodes'in bindingValue){var nodes=bindingValue['nodes']||[];if(ko.isObservable(nodes)){throw new Error('The \"nodes\" option must be a plain, non-observable array.');}\nvar container=nodes[0]&&nodes[0].parentNode;if(!container||!ko.utils.domData.get(container,cleanContainerDomDataKey)){container=ko.utils.moveCleanedNodesToContainerElement(nodes);ko.utils.domData.set(container,cleanContainerDomDataKey,true);}\nnew ko.templateSources.anonymousTemplate(element)['nodes'](container);}else{var templateNodes=ko.virtualElements.childNodes(element);if(templateNodes.length>0){var container=ko.utils.moveCleanedNodesToContainerElement(templateNodes);new ko.templateSources.anonymousTemplate(element)['nodes'](container);}else{throw new Error(\"Anonymous template defined, but no template content was provided\");}}\nreturn{'controlsDescendantBindings':true};},'update':function(element,valueAccessor,allBindings,viewModel,bindingContext){var value=valueAccessor(),options=ko.utils.unwrapObservable(value),shouldDisplay=true,templateComputed=null,template;if(typeof options==\"string\"){template=value;options={};}else{template='name'in options?options['name']:element;if('if'in options)\nshouldDisplay=ko.utils.unwrapObservable(options['if']);if(shouldDisplay&&'ifnot'in options)\nshouldDisplay=!ko.utils.unwrapObservable(options['ifnot']);if(shouldDisplay&&!template){shouldDisplay=false;}}\nif('foreach'in options){var dataArray=(shouldDisplay&&options['foreach'])||[];templateComputed=ko.renderTemplateForEach(template,dataArray,options,element,bindingContext);}else if(!shouldDisplay){ko.virtualElements.emptyNode(element);}else{var innerBindingContext=bindingContext;if('data'in options){innerBindingContext=bindingContext['createChildContext'](options['data'],{'as':options['as'],'noChildContext':options['noChildContext'],'exportDependencies':true});}\ntemplateComputed=ko.renderTemplate(template,innerBindingContext,options,element);}\ndisposeOldComputedAndStoreNewOne(element,templateComputed);}};ko.expressionRewriting.bindingRewriteValidators['template']=function(bindingValue){var parsedBindingValue=ko.expressionRewriting.parseObjectLiteral(bindingValue);if((parsedBindingValue.length==1)&&parsedBindingValue[0]['unknown'])\nreturn null;if(ko.expressionRewriting.keyValueArrayContainsKey(parsedBindingValue,\"name\"))\nreturn null;return\"This template engine does not support anonymous templates nested within its templates\";};ko.virtualElements.allowedBindings['template']=true;})();ko.exportSymbol('setTemplateEngine',ko.setTemplateEngine);ko.exportSymbol('renderTemplate',ko.renderTemplate);ko.utils.findMovesInArrayComparison=function(left,right,limitFailedCompares){if(left.length&&right.length){var failedCompares,l,r,leftItem,rightItem;for(failedCompares=l=0;(!limitFailedCompares||failedCompares<limitFailedCompares)&&(leftItem=left[l]);++l){for(r=0;rightItem=right[r];++r){if(leftItem['value']===rightItem['value']){leftItem['moved']=rightItem['index'];rightItem['moved']=leftItem['index'];right.splice(r,1);failedCompares=r=0;break;}}\nfailedCompares+=r;}}};ko.utils.compareArrays=(function(){var statusNotInOld='added',statusNotInNew='deleted';function compareArrays(oldArray,newArray,options){options=(typeof options==='boolean')?{'dontLimitMoves':options}:(options||{});oldArray=oldArray||[];newArray=newArray||[];if(oldArray.length<newArray.length)\nreturn compareSmallArrayToBigArray(oldArray,newArray,statusNotInOld,statusNotInNew,options);else\nreturn compareSmallArrayToBigArray(newArray,oldArray,statusNotInNew,statusNotInOld,options);}\nfunction compareSmallArrayToBigArray(smlArray,bigArray,statusNotInSml,statusNotInBig,options){var myMin=Math.min,myMax=Math.max,editDistanceMatrix=[],smlIndex,smlIndexMax=smlArray.length,bigIndex,bigIndexMax=bigArray.length,compareRange=(bigIndexMax-smlIndexMax)||1,maxDistance=smlIndexMax+bigIndexMax+1,thisRow,lastRow,bigIndexMaxForRow,bigIndexMinForRow;for(smlIndex=0;smlIndex<=smlIndexMax;smlIndex++){lastRow=thisRow;editDistanceMatrix.push(thisRow=[]);bigIndexMaxForRow=myMin(bigIndexMax,smlIndex+compareRange);bigIndexMinForRow=myMax(0,smlIndex-1);for(bigIndex=bigIndexMinForRow;bigIndex<=bigIndexMaxForRow;bigIndex++){if(!bigIndex)\nthisRow[bigIndex]=smlIndex+1;else if(!smlIndex)\nthisRow[bigIndex]=bigIndex+1;else if(smlArray[smlIndex-1]===bigArray[bigIndex-1])\nthisRow[bigIndex]=lastRow[bigIndex-1];else{var northDistance=lastRow[bigIndex]||maxDistance;var westDistance=thisRow[bigIndex-1]||maxDistance;thisRow[bigIndex]=myMin(northDistance,westDistance)+1;}}}\nvar editScript=[],meMinusOne,notInSml=[],notInBig=[];for(smlIndex=smlIndexMax,bigIndex=bigIndexMax;smlIndex||bigIndex;){meMinusOne=editDistanceMatrix[smlIndex][bigIndex]-1;if(bigIndex&&meMinusOne===editDistanceMatrix[smlIndex][bigIndex-1]){notInSml.push(editScript[editScript.length]={'status':statusNotInSml,'value':bigArray[--bigIndex],'index':bigIndex});}else if(smlIndex&&meMinusOne===editDistanceMatrix[smlIndex-1][bigIndex]){notInBig.push(editScript[editScript.length]={'status':statusNotInBig,'value':smlArray[--smlIndex],'index':smlIndex});}else{--bigIndex;--smlIndex;if(!options['sparse']){editScript.push({'status':\"retained\",'value':bigArray[bigIndex]});}}}\nko.utils.findMovesInArrayComparison(notInBig,notInSml,!options['dontLimitMoves']&&smlIndexMax*10);return editScript.reverse();}\nreturn compareArrays;})();ko.exportSymbol('utils.compareArrays',ko.utils.compareArrays);(function(){function mapNodeAndRefreshWhenChanged(containerNode,mapping,valueToMap,callbackAfterAddingNodes,index){var mappedNodes=[];var dependentObservable=ko.dependentObservable(function(){var newMappedNodes=mapping(valueToMap,index,ko.utils.fixUpContinuousNodeArray(mappedNodes,containerNode))||[];if(mappedNodes.length>0){ko.utils.replaceDomNodes(mappedNodes,newMappedNodes);if(callbackAfterAddingNodes)\nko.dependencyDetection.ignore(callbackAfterAddingNodes,null,[valueToMap,newMappedNodes,index]);}\nmappedNodes.length=0;ko.utils.arrayPushAll(mappedNodes,newMappedNodes);},null,{disposeWhenNodeIsRemoved:containerNode,disposeWhen:function(){return!ko.utils.anyDomNodeIsAttachedToDocument(mappedNodes);}});return{mappedNodes:mappedNodes,dependentObservable:(dependentObservable.isActive()?dependentObservable:undefined)};}\nvar lastMappingResultDomDataKey=ko.utils.domData.nextKey(),deletedItemDummyValue=ko.utils.domData.nextKey();ko.utils.setDomNodeChildrenFromArrayMapping=function(domNode,array,mapping,options,callbackAfterAddingNodes,editScript){array=array||[];if(typeof array.length==\"undefined\")\narray=[array];options=options||{};var lastMappingResult=ko.utils.domData.get(domNode,lastMappingResultDomDataKey);var isFirstExecution=!lastMappingResult;var newMappingResult=[];var lastMappingResultIndex=0;var currentArrayIndex=0;var nodesToDelete=[];var itemsToMoveFirstIndexes=[];var itemsForBeforeRemoveCallbacks=[];var itemsForMoveCallbacks=[];var itemsForAfterAddCallbacks=[];var mapData;var countWaitingForRemove=0;function itemAdded(value){mapData={arrayEntry:value,indexObservable:ko.observable(currentArrayIndex++)};newMappingResult.push(mapData);if(!isFirstExecution){itemsForAfterAddCallbacks.push(mapData);}}\nfunction itemMovedOrRetained(oldPosition){mapData=lastMappingResult[oldPosition];if(currentArrayIndex!==mapData.indexObservable.peek())\nitemsForMoveCallbacks.push(mapData);mapData.indexObservable(currentArrayIndex++);ko.utils.fixUpContinuousNodeArray(mapData.mappedNodes,domNode);newMappingResult.push(mapData);}\nfunction callCallback(callback,items){if(callback){for(var i=0,n=items.length;i<n;i++){ko.utils.arrayForEach(items[i].mappedNodes,function(node){callback(node,i,items[i].arrayEntry);});}}}\nif(isFirstExecution){ko.utils.arrayForEach(array,itemAdded);}else{if(!editScript||(lastMappingResult&&lastMappingResult['_countWaitingForRemove'])){var lastArray=ko.utils.arrayMap(lastMappingResult,function(x){return x.arrayEntry;}),compareOptions={'dontLimitMoves':options['dontLimitMoves'],'sparse':true};editScript=ko.utils.compareArrays(lastArray,array,compareOptions);}\nfor(var i=0,editScriptItem,movedIndex,itemIndex;editScriptItem=editScript[i];i++){movedIndex=editScriptItem['moved'];itemIndex=editScriptItem['index'];switch(editScriptItem['status']){case\"deleted\":while(lastMappingResultIndex<itemIndex){itemMovedOrRetained(lastMappingResultIndex++);}\nif(movedIndex===undefined){mapData=lastMappingResult[lastMappingResultIndex];if(mapData.dependentObservable){mapData.dependentObservable.dispose();mapData.dependentObservable=undefined;}\nif(ko.utils.fixUpContinuousNodeArray(mapData.mappedNodes,domNode).length){if(options['beforeRemove']){newMappingResult.push(mapData);countWaitingForRemove++;if(mapData.arrayEntry===deletedItemDummyValue){mapData=null;}else{itemsForBeforeRemoveCallbacks.push(mapData);}}\nif(mapData){nodesToDelete.push.apply(nodesToDelete,mapData.mappedNodes);}}}\nlastMappingResultIndex++;break;case\"added\":while(currentArrayIndex<itemIndex){itemMovedOrRetained(lastMappingResultIndex++);}\nif(movedIndex!==undefined){itemsToMoveFirstIndexes.push(newMappingResult.length);itemMovedOrRetained(movedIndex);}else{itemAdded(editScriptItem['value']);}\nbreak;}}\nwhile(currentArrayIndex<array.length){itemMovedOrRetained(lastMappingResultIndex++);}\nnewMappingResult['_countWaitingForRemove']=countWaitingForRemove;}\nko.utils.domData.set(domNode,lastMappingResultDomDataKey,newMappingResult);callCallback(options['beforeMove'],itemsForMoveCallbacks);ko.utils.arrayForEach(nodesToDelete,options['beforeRemove']?ko.cleanNode:ko.removeNode);var i,j,lastNode,nodeToInsert,mappedNodes,activeElement;try{activeElement=domNode.ownerDocument.activeElement;}catch(e){}\nif(itemsToMoveFirstIndexes.length){while((i=itemsToMoveFirstIndexes.shift())!=undefined){mapData=newMappingResult[i];for(lastNode=undefined;i;){if((mappedNodes=newMappingResult[--i].mappedNodes)&&mappedNodes.length){lastNode=mappedNodes[mappedNodes.length-1];break;}}\nfor(j=0;nodeToInsert=mapData.mappedNodes[j];lastNode=nodeToInsert,j++){ko.virtualElements.insertAfter(domNode,nodeToInsert,lastNode);}}}\nfor(i=0;mapData=newMappingResult[i];i++){if(!mapData.mappedNodes)\nko.utils.extend(mapData,mapNodeAndRefreshWhenChanged(domNode,mapping,mapData.arrayEntry,callbackAfterAddingNodes,mapData.indexObservable));for(j=0;nodeToInsert=mapData.mappedNodes[j];lastNode=nodeToInsert,j++){ko.virtualElements.insertAfter(domNode,nodeToInsert,lastNode);}\nif(!mapData.initialized&&callbackAfterAddingNodes){callbackAfterAddingNodes(mapData.arrayEntry,mapData.mappedNodes,mapData.indexObservable);mapData.initialized=true;lastNode=mapData.mappedNodes[mapData.mappedNodes.length-1];}}\nif(activeElement&&domNode.ownerDocument.activeElement!=activeElement){activeElement.focus();}\ncallCallback(options['beforeRemove'],itemsForBeforeRemoveCallbacks);for(i=0;i<itemsForBeforeRemoveCallbacks.length;++i){itemsForBeforeRemoveCallbacks[i].arrayEntry=deletedItemDummyValue;}\ncallCallback(options['afterMove'],itemsForMoveCallbacks);callCallback(options['afterAdd'],itemsForAfterAddCallbacks);}})();ko.exportSymbol('utils.setDomNodeChildrenFromArrayMapping',ko.utils.setDomNodeChildrenFromArrayMapping);ko.nativeTemplateEngine=function(){this['allowTemplateRewriting']=false;}\nko.nativeTemplateEngine.prototype=new ko.templateEngine();ko.nativeTemplateEngine.prototype.constructor=ko.nativeTemplateEngine;ko.nativeTemplateEngine.prototype['renderTemplateSource']=function(templateSource,bindingContext,options,templateDocument){var useNodesIfAvailable=!(ko.utils.ieVersion<9),templateNodesFunc=useNodesIfAvailable?templateSource['nodes']:null,templateNodes=templateNodesFunc?templateSource['nodes']():null;if(templateNodes){return ko.utils.makeArray(templateNodes.cloneNode(true).childNodes);}else{var templateText=templateSource['text']();return ko.utils.parseHtmlFragment(templateText,templateDocument);}};ko.nativeTemplateEngine.instance=new ko.nativeTemplateEngine();ko.setTemplateEngine(ko.nativeTemplateEngine.instance);ko.exportSymbol('nativeTemplateEngine',ko.nativeTemplateEngine);(function(){ko.jqueryTmplTemplateEngine=function(){var jQueryTmplVersion=this.jQueryTmplVersion=(function(){if(!jQueryInstance||!(jQueryInstance['tmpl']))\nreturn 0;try{if(jQueryInstance['tmpl']['tag']['tmpl']['open'].toString().indexOf('__')>=0){return 2;}}catch(ex){}\nreturn 1;})();function ensureHasReferencedJQueryTemplates(){if(jQueryTmplVersion<2)\nthrow new Error(\"Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.\");}\nfunction executeTemplate(compiledTemplate,data,jQueryTemplateOptions){return jQueryInstance['tmpl'](compiledTemplate,data,jQueryTemplateOptions);}\nthis['renderTemplateSource']=function(templateSource,bindingContext,options,templateDocument){templateDocument=templateDocument||document;options=options||{};ensureHasReferencedJQueryTemplates();var precompiled=templateSource['data']('precompiled');if(!precompiled){var templateText=templateSource['text']()||\"\";templateText=\"{{ko_with $item.koBindingContext}}\"+templateText+\"{{/ko_with}}\";precompiled=jQueryInstance['template'](null,templateText);templateSource['data']('precompiled',precompiled);}\nvar data=[bindingContext['$data']];var jQueryTemplateOptions=jQueryInstance['extend']({'koBindingContext':bindingContext},options['templateOptions']);var resultNodes=executeTemplate(precompiled,data,jQueryTemplateOptions);resultNodes['appendTo'](templateDocument.createElement(\"div\"));jQueryInstance['fragments']={};return resultNodes;};this['createJavaScriptEvaluatorBlock']=function(script){return\"{{ko_code ((function() { return \"+script+\" })()) }}\";};this['addTemplate']=function(templateName,templateMarkup){document.write(\"<script type='text/html' id='\"+templateName+\"'>\"+templateMarkup+\"<\"+\"/script>\");};if(jQueryTmplVersion>0){jQueryInstance['tmpl']['tag']['ko_code']={open:\"__.push($1 || '');\"};jQueryInstance['tmpl']['tag']['ko_with']={open:\"with($1) {\",close:\"} \"};}};ko.jqueryTmplTemplateEngine.prototype=new ko.templateEngine();ko.jqueryTmplTemplateEngine.prototype.constructor=ko.jqueryTmplTemplateEngine;var jqueryTmplTemplateEngineInstance=new ko.jqueryTmplTemplateEngine();if(jqueryTmplTemplateEngineInstance.jQueryTmplVersion>0)\nko.setTemplateEngine(jqueryTmplTemplateEngineInstance);ko.exportSymbol('jqueryTmplTemplateEngine',ko.jqueryTmplTemplateEngine);})();}));}());})();","mage/accordion.min.js":"define(['jquery','mage/tabs'],function($,tabs){'use strict';$.widget('mage.accordion',tabs,{options:{active:[0],multipleCollapsible:false,openOnFocus:false},_callCollapsible:function(){var self=this,disabled=false,active=false;if(typeof this.options.active==='string'){this.options.active=this.options.active.split(' ').map(function(item){return parseInt(item,10);});}\n$.each(this.collapsibles,function(i){disabled=active=false;if($.inArray(i,self.options.disabled)!==-1){disabled=true;}\nif($.inArray(i,self.options.active)!==-1){active=true;}\nself._instantiateCollapsible(this,i,active,disabled);});},_toggleActivate:function(action,index){var self=this;if(Array.isArray(index&&this.options.multipleCollapsible)){$.each(index,function(){self.collapsibles.eq(this).collapsible(action);});}else if(index===undefined&&this.options.multipleCollapsible){this.collapsibles.collapsible(action);}else{this._super(action,index);}},_handleDeepLinking:function(){if(!this.options.multipleCollapsible){this._super();}},_closeOthers:function(){var self=this;if(!this.options.multipleCollapsible){$.each(this.collapsibles,function(){$(this).on('beforeOpen',function(){self.collapsibles.not(this).collapsible('deactivate');});});}\n$.each(this.collapsibles,function(){$(this).on('beforeOpen',function(){var section=$(this);section.addClass('allow').prevAll().addClass('allow');section.nextAll().removeClass('allow');});});}});return $.mage.accordion;});","mage/bootstrap.min.js":"define(['jquery','mage/apply/main','Magento_Ui/js/lib/knockout/bootstrap'],function($,mage){'use strict';$.ajaxSetup({cache:false});setTimeout(mage.apply);});","mage/calendar.min.js":"define(['jquery','jquery-ui-modules/widget','jquery-ui-modules/datepicker','jquery-ui-modules/timepicker'],function($){'use strict';var calendarBasePrototype,datepickerPrototype=$.datepicker.constructor.prototype;$.datepicker.markerClassName='_has-datepicker';$.extend(datepickerPrototype,{_getTimezoneDate:function(options){var ms=Date.now();options=options||$.calendarConfig||{};if(typeof options.serverTimezoneOffset!=='undefined'){ms+=new Date().getTimezoneOffset()*60*1000+options.serverTimezoneOffset*1000;}else if(typeof options.serverTimezoneSeconds!=='undefined'){ms=(options.serverTimezoneSeconds+new Date().getTimezoneOffset()*60)*1000;}\nreturn new Date(ms);},_setTimezoneDateDatepicker:function(target){this._setDateDatepicker(target,this._getTimezoneDate());}});$.widget('mage.calendar',{options:{autoComplete:true},_create:function(){this._enableAMPM();this.options=$.extend({},$.calendarConfig?$.calendarConfig:{},this.options.showsTime?{showTime:true,showHour:true,showMinute:true}:{},this.options);this._initPicker(this.element);this._overwriteGenerateHtml();},_picker:function(){return this.options.showsTime?'datetimepicker':'datepicker';},_enableAMPM:function(){if(this.options.timeFormat&&this.options.timeFormat.indexOf('tt')>=0){this.options.ampm=true;}},_overwriteGenerateHtml:function(){$.datepicker.constructor.prototype._generateHTML=function(inst){var today=this._getTimezoneDate(),isRTL=this._get(inst,'isRTL'),showButtonPanel=this._get(inst,'showButtonPanel'),hideIfNoPrevNext=this._get(inst,'hideIfNoPrevNext'),navigationAsDateFormat=this._get(inst,'navigationAsDateFormat'),numMonths=this._getNumberOfMonths(inst),showCurrentAtPos=this._get(inst,'showCurrentAtPos'),stepMonths=this._get(inst,'stepMonths'),isMultiMonth=parseInt(numMonths[0],10)!==1||parseInt(numMonths[1],10)!==1,currentDate=this._daylightSavingAdjust(!inst.currentDay?new Date(9999,9,9):new Date(inst.currentYear,inst.currentMonth,inst.currentDay)),minDate=this._getMinMaxDate(inst,'min'),maxDate=this._getMinMaxDate(inst,'max'),drawMonth=inst.drawMonth-showCurrentAtPos,drawYear=inst.drawYear,maxDraw,prevText=this._get(inst,'prevText'),prev,nextText=this._get(inst,'nextText'),next,currentText=this._get(inst,'currentText'),gotoDate,controls,buttonPanel,firstDay,showWeek=this._get(inst,'showWeek'),dayNames=this._get(inst,'dayNames'),dayNamesMin=this._get(inst,'dayNamesMin'),monthNames=this._get(inst,'monthNames'),monthNamesShort=this._get(inst,'monthNamesShort'),beforeShowDay=this._get(inst,'beforeShowDay'),showOtherMonths=this._get(inst,'showOtherMonths'),selectOtherMonths=this._get(inst,'selectOtherMonths'),defaultDate=this._getDefaultDate(inst),html='',row=0,col=0,selectedDate,cornerClass=' ui-corner-all',group='',calender='',dow=0,thead,day,daysInMonth,leadDays,curRows,numRows,printDate,dRow=0,tbody,daySettings,otherMonth,unselectable;if(drawMonth<0){drawMonth+=12;drawYear--;}\nif(maxDate){maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-numMonths[0]*numMonths[1]+1,maxDate.getDate()));maxDraw=minDate&&maxDraw<minDate?minDate:maxDraw;while(this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--;}}}\ninst.drawMonth=drawMonth;inst.drawYear=drawYear;prevText=!navigationAsDateFormat?prevText:this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst));prev=this._canAdjustMonth(inst,-1,drawYear,drawMonth)?'<a class=\"ui-datepicker-prev ui-corner-all\" data-handler=\"prev\" data-event=\"click\"'+' title=\"'+prevText+'\">'+'<span class=\"ui-icon ui-icon-circle-triangle-'+(isRTL?'e':'w')+'\">'+''+prevText+'</span></a>':hideIfNoPrevNext?'':'<a class=\"ui-datepicker-prev ui-corner-all ui-state-disabled\" title=\"'+''+prevText+'\"><span class=\"ui-icon ui-icon-circle-triangle-'+''+(isRTL?'e':'w')+'\">'+prevText+'</span></a>';nextText=!navigationAsDateFormat?nextText:this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst));next=this._canAdjustMonth(inst,+1,drawYear,drawMonth)?'<a class=\"ui-datepicker-next ui-corner-all\" data-handler=\"next\" data-event=\"click\"'+'title=\"'+nextText+'\"><span class=\"ui-icon ui-icon-circle-triangle-'+''+(isRTL?'w':'e')+'\">'+nextText+'</span></a>':hideIfNoPrevNext?'':'<a class=\"ui-datepicker-next ui-corner-all ui-state-disabled\" title=\"'+nextText+'\">'+'<span class=\"ui-icon ui-icon-circle-triangle-'+(isRTL?'w':'e')+'\">'+nextText+'</span></a>';gotoDate=this._get(inst,'gotoCurrent')&&inst.currentDay?currentDate:today;currentText=!navigationAsDateFormat?currentText:this.formatDate(currentText,gotoDate,this._getFormatConfig(inst));controls=!inst.inline?'<button type=\"button\" class=\"ui-datepicker-close ui-state-default ui-priority-primary '+'ui-corner-all\" data-handler=\"hide\" data-event=\"click\">'+\nthis._get(inst,'closeText')+'</button>':'';buttonPanel=showButtonPanel?'<div class=\"ui-datepicker-buttonpane ui-widget-content\">'+(isRTL?controls:'')+\n(this._isInRange(inst,gotoDate)?'<button type=\"button\" class=\"ui-datepicker-current '+'ui-state-default ui-priority-secondary ui-corner-all\" data-handler=\"today\" data-event=\"click\"'+'>'+currentText+'</button>':'')+(isRTL?'':controls)+'</div>':'';firstDay=parseInt(this._get(inst,'firstDay'),10);firstDay=isNaN(firstDay)?0:firstDay;for(row=0;row<numMonths[0];row++){this.maxRows=4;for(col=0;col<numMonths[1];col++){selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));calender='';if(isMultiMonth){calender+='<div class=\"ui-datepicker-group';if(numMonths[1]>1){switch(col){case 0:calender+=' ui-datepicker-group-first';cornerClass=' ui-corner-'+(isRTL?'right':'left');break;case numMonths[1]-1:calender+=' ui-datepicker-group-last';cornerClass=' ui-corner-'+(isRTL?'left':'right');break;default:calender+=' ui-datepicker-group-middle';cornerClass='';}}\ncalender+='\">';}\ncalender+='<div class=\"ui-datepicker-header '+'ui-widget-header ui-helper-clearfix'+cornerClass+'\">'+\n(/all|left/.test(cornerClass)&&parseInt(row,10)===0?isRTL?next:prev:'')+\n(/all|right/.test(cornerClass)&&parseInt(row,10)===0?isRTL?prev:next:'')+\nthis._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+'</div><table class=\"ui-datepicker-calendar\"><thead>'+'<tr>';thead=showWeek?'<th class=\"ui-datepicker-week-col\">'+this._get(inst,'weekHeader')+'</th>':'';for(dow=0;dow<7;dow++){day=(dow+firstDay)%7;thead+='<th'+((dow+firstDay+6)%7>=5?' class=\"ui-datepicker-week-end\"':'')+'>'+'<span title=\"'+dayNames[day]+'\">'+dayNamesMin[day]+'</span></th>';}\ncalender+=thead+'</tr></thead><tbody>';daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear===inst.selectedYear&&drawMonth===inst.selectedMonth){inst.selectedDay=Math.min(inst.selectedDay,daysInMonth);}\nleadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;curRows=Math.ceil((leadDays+daysInMonth)/ 7);numRows=isMultiMonth?this.maxRows>curRows?this.maxRows:curRows:curRows;this.maxRows=numRows;printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(dRow=0;dRow<numRows;dRow++){calender+='<tr>';tbody=!showWeek?'':'<td class=\"ui-datepicker-week-col\">'+\nthis._get(inst,'calculateWeek')(printDate)+'</td>';for(dow=0;dow<7;dow++){daySettings=beforeShowDay?beforeShowDay.apply(inst.input?inst.input[0]:null,[printDate]):[true,''];otherMonth=printDate.getMonth()!==drawMonth;unselectable=otherMonth&&!selectOtherMonths||!daySettings[0]||minDate&&printDate<minDate||maxDate&&printDate>maxDate;tbody+='<td class=\"'+\n((dow+firstDay+6)%7>=5?' ui-datepicker-week-end':'')+\n(otherMonth?' ui-datepicker-other-month':'')+\n(printDate.getTime()===selectedDate.getTime()&&drawMonth===inst.selectedMonth&&inst._keyEvent||defaultDate.getTime()===printDate.getTime()&&defaultDate.getTime()===selectedDate.getTime()?' '+this._dayOverClass:'')+\n(unselectable?' '+this._unselectableClass+' ui-state-disabled':'')+\n(otherMonth&&!showOtherMonths?'':' '+daySettings[1]+\n(printDate.getTime()===currentDate.getTime()?' '+this._currentClass:'')+\n(printDate.getDate()===today.getDate()&&printDate.getMonth()===today.getMonth()&&printDate.getYear()===today.getYear()?' ui-datepicker-today':''))+'\"'+\n((!otherMonth||showOtherMonths)&&daySettings[2]?' title=\"'+daySettings[2]+'\"':'')+\n(unselectable?'':' data-handler=\"selectDay\" data-event=\"click\" data-month=\"'+''+printDate.getMonth()+'\" data-year=\"'+printDate.getFullYear()+'\"')+'>'+\n(otherMonth&&!showOtherMonths?'&#xa0;':unselectable?'<span class=\"ui-state-default\">'+printDate.getDate()+'</span>':'<a class=\"ui-state-default'+\n(printDate.getTime()===today.getTime()?' ':'')+\n(printDate.getTime()===currentDate.getTime()?' ui-state-active':'')+\n(otherMonth?' ui-priority-secondary':'')+'\" data-date=\"'+printDate.getDate()+'\" href=\"#\">'+\nprintDate.getDate()+'</a>')+'</td>';printDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate);}\ncalender+=tbody+'</tr>';}\ndrawMonth++;if(drawMonth>11){drawMonth=0;drawYear++;}\ncalender+='</tbody></table>'+(isMultiMonth?'</div>'+\n(numMonths[0]>0&&col===numMonths[1]-1?'<div class=\"ui-datepicker-row-break\"></div>':''):'');group+=calender;}\nhtml+=group;}\nhtml+=buttonPanel+($.ui.ie6&&!inst.inline?'<iframe src=\"javascript:false;\" class=\"ui-datepicker-cover\" frameborder=\"0\"></iframe>':'');inst._keyEvent=false;return html;};},_setCurrentDate:function(element){if(!element.val()){element[this._picker()]('setTimezoneDate').val('');}},_initPicker:function(element){var picker=element[this._picker()](this.options),pickerButtonText=picker.next('.ui-datepicker-trigger').find('img').attr('title');picker.next('.ui-datepicker-trigger').addClass('v-middle').text('').append('<span>'+pickerButtonText+'</span>');$(element).attr('autocomplete',this.options.autoComplete?'on':'off');this._setCurrentDate(element);},_destroy:function(){this.element[this._picker()]('destroy');this._super();},getTimezoneDate:function(){return datepickerPrototype._getTimezoneDate.call(this,this.options);}});calendarBasePrototype=$.mage.calendar.prototype;$.widget('mage.calendar',$.extend({},calendarBasePrototype,{dateTimeFormat:{date:{'EEEE':'DD','EEE':'D','EE':'D','E':'D','D':'o','MMMM':'MM','MMM':'M','MM':'mm','M':'mm','yyyy':'yy','y':'yy','Y':'yy','yy':'yy'},time:{'a':'TT'}},_create:function(){if(this.options.dateFormat){this.options.dateFormat=this._convertFormat(this.options.dateFormat,'date');}\nif(this.options.timeFormat){this.options.timeFormat=this._convertFormat(this.options.timeFormat,'time');}\ncalendarBasePrototype._create.apply(this,arguments);},_convertFormat:function(format,type){var symbols=format.match(/([a-z]+)/ig),separators=format.match(/([^a-z]+)/ig),self=this,convertedFormat='';if(symbols){$.each(symbols,function(key,val){convertedFormat+=(self.dateTimeFormat[type][val]||val)+\n(separators[key]||'');});}\nreturn convertedFormat;}}));$.widget('mage.dateRange',$.mage.calendar,{_initPicker:function(){var from,to;if(this.options.from&&this.options.to){from=this.element.find('#'+this.options.from.id);to=this.element.find('#'+this.options.to.id);this.options.onSelect=$.proxy(function(selectedDate){to[this._picker()]('option','minDate',selectedDate);},this);$.mage.calendar.prototype._initPicker.call(this,from);from.on('change',$.proxy(function(){to[this._picker()]('option','minDate',from[this._picker()]('getDate'));},this));this.options.onSelect=$.proxy(function(selectedDate){from[this._picker()]('option','maxDate',selectedDate);},this);$.mage.calendar.prototype._initPicker.call(this,to);to.on('change',$.proxy(function(){from[this._picker()]('option','maxDate',to[this._picker()]('getDate'));},this));}},_destroy:function(){if(this.options.from){this.element.find('#'+this.options.from.id)[this._picker()]('destroy');}\nif(this.options.to){this.element.find('#'+this.options.to.id)[this._picker()]('destroy');}\nthis._super();}});$.datepicker._gotoTodayOriginal=$.datepicker._gotoToday;$.datepicker._showDatepickerOriginal=$.datepicker._showDatepicker;$.datepicker._showDatepicker=function(input){if(!input.disabled){$.datepicker._showDatepickerOriginal.call(this,input);}};$.datepicker._gotoToday=function(el){$(el).datepicker('setTimezoneDate').trigger('blur').trigger('change');};return{dateRange:$.mage.dateRange,calendar:$.mage.calendar};});","mage/collapsible.min.js":"define(['jquery','jquery-ui-modules/widget','jquery-ui-modules/core','jquery/jquery-storageapi','mage/mage'],function($){'use strict';var hideProps={},showProps={};hideProps.height='hide';showProps.height='show';$.widget('mage.collapsible',{options:{active:false,disabled:false,collapsible:true,header:'[data-role=title]',content:'[data-role=content]',trigger:'[data-role=trigger]',closedState:null,openedState:null,disabledState:null,ajaxUrlElement:'[data-ajax=true]',ajaxContent:false,loadingClass:null,saveState:false,animate:false,icons:{activeHeader:null,header:null},collateral:{element:null,openedState:null}},_create:function(){this.storage=$.localStorage;this.icons=false;if(typeof this.options.icons==='string'){this.options.icons=JSON.parse(this.options.icons);}\nthis._processPanels();this._processState();this._refresh();if(this.options.icons.header&&this.options.icons.activeHeader){this._createIcons();this.icons=true;}\nthis.element.on('dimensionsChanged',function(e){if(e.target&&e.target.classList.contains('active')){this._scrollToTopIfNotVisible();}}.bind(this));this._bind('click');this._trigger('created');},_refresh:function(){this.trigger.attr('tabIndex',0);if(this.options.active&&!this.options.disabled){if(this.options.openedState){this.element.addClass(this.options.openedState);}\nif(this.options.collateral.element&&this.options.collateral.openedState){$(this.options.collateral.element).addClass(this.options.collateral.openedState);}\nif(this.options.ajaxContent){this._loadContent();}\nthis.header.attr({'aria-selected':false});}else if(this.options.disabled){this.disable();}else{this.content.hide();if(this.options.closedState){this.element.addClass(this.options.closedState);}}},_processState:function(){var anchor=window.location.hash,isValid=$.mage.isValidSelector(anchor),urlPath=window.location.pathname.replace(/\\./g,''),state;this.stateKey=encodeURIComponent(urlPath+this.element.attr('id'));if(isValid&&($(this.content.find(anchor)).length>0||this.content.attr('id')===anchor.replace('#',''))){this.element.parents('[data-collapsible=true]').collapsible('forceActivate');if(!this.options.disabled){this.options.active=true;if(this.options.saveState){this.storage.set(this.stateKey,true);}}}else if(this.options.saveState&&!this.options.disabled){state=this.storage.get(this.stateKey);if(typeof state==='undefined'||state===null){this.storage.set(this.stateKey,this.options.active);}else if(state===true){this.options.active=true;}else if(state===false){this.options.active=false;}}},_createIcons:function(){var icons=this.options.icons;if(icons){$('<span>').addClass(icons.header).attr('data-role','icons').prependTo(this.header);if(this.options.active&&!this.options.disabled){this.header.children('[data-role=icons]').removeClass(icons.header).addClass(icons.activeHeader);}}},_destroyIcons:function(){this.header.children('[data-role=icons]').remove();},_destroy:function(){var options=this.options;this.element.removeAttr('data-collapsible');this.trigger.removeAttr('tabIndex');if(options.openedState){this.element.removeClass(options.openedState);}\nif(this.options.collateral.element&&this.options.collateral.openedState){$(this.options.collateral.element).removeClass(this.options.collateral.openedState);}\nif(options.closedState){this.element.removeClass(options.closedState);}\nif(options.disabledState){this.element.removeClass(options.disabledState);}\nif(this.icons){this._destroyIcons();}},_processPanels:function(){var headers,triggers;this.element.attr('data-collapsible','true');if(typeof this.options.header==='object'){this.header=this.options.header;}else{headers=this.element.find(this.options.header);if(headers.length>0){this.header=headers.eq(0);}else{this.header=this.element;}}\nif(typeof this.options.content==='object'){this.content=this.options.content;}else{this.content=this.header.next(this.options.content).eq(0);}\nif(this.header.attr('id')){this.content.attr('aria-labelledby',this.header.attr('id'));}\nif(this.content.attr('id')){this.header.attr('aria-controls',this.content.attr('id'));}\nthis.header.attr({'role':'tab','aria-selected':this.options.active,'aria-expanded':this.options.active});if(this.header.parent().attr('role')!=='presentation'){this.header.parent().attr('role','tablist');}\nthis.content.attr({'role':'tabpanel','aria-hidden':!this.options.active});if(typeof this.options.trigger==='object'){this.trigger=this.options.trigger;}else{triggers=this.header.find(this.options.trigger);if(triggers.length>0){this.trigger=triggers.eq(0);}else{this.trigger=this.header;}}},_keydown:function(event){var keyCode;if(event.altKey||event.ctrlKey){return;}\nkeyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.SPACE:case keyCode.ENTER:this._eventHandler(event);break;}},_bind:function(event){var self=this;this.events={keydown:'_keydown'};if(event){$.each(event.split(' '),function(index,eventName){self.events[eventName]='_eventHandler';});}\nthis._off(this.trigger);if(!this.options.disabled){this._on(this.trigger,this.events);}},disable:function(){this.options.disabled=true;this._off(this.trigger);this.forceDeactivate();if(this.options.disabledState){this.element.addClass(this.options.disabledState);}\nthis.trigger.attr('tabIndex',-1);},enable:function(){this.options.disabled=false;this._on(this.trigger,this.events);this.forceActivate();if(this.options.disabledState){this.element.removeClass(this.options.disabledState);}\nthis.trigger.attr('tabIndex',0);},_eventHandler:function(event){if(this.options.active&&this.options.collapsible){this.deactivate();}else{this.activate();}\nevent.preventDefault();},_animate:function(prop){var duration,easing,animate=this.options.animate;if(typeof animate==='number'){duration=animate;}\nif(typeof animate==='string'){animate=JSON.parse(animate);}\nduration=duration||animate.duration;easing=animate.easing;this.content.animate(prop,duration,easing);},deactivate:function(){if(this.options.animate){this._animate(hideProps);}else{this.content.hide();}\nthis._close();},forceDeactivate:function(){this.content.hide();this._close();},_close:function(){this.options.active=false;if(this.options.saveState){this.storage.set(this.stateKey,false);}\nif(this.options.openedState){this.element.removeClass(this.options.openedState);}\nif(this.options.collateral.element&&this.options.collateral.openedState){$(this.options.collateral.element).removeClass(this.options.collateral.openedState);}\nif(this.options.closedState){this.element.addClass(this.options.closedState);}\nif(this.icons){this.header.children('[data-role=icons]').removeClass(this.options.icons.activeHeader).addClass(this.options.icons.header);}\nthis.header.attr({'aria-selected':'false','aria-expanded':'false'});this.content.attr({'aria-hidden':'true'});this.element.trigger('dimensionsChanged',{opened:false});},activate:function(){if(this.options.disabled){return;}\nif(this.options.animate){this._animate(showProps);}else{this.content.show();}\nthis._open();},forceActivate:function(){if(!this.options.disabled){this.content.show();this._open();}},_open:function(){this.element.trigger('beforeOpen');this.options.active=true;if(this.options.ajaxContent){this._loadContent();}\nif(this.options.saveState){this.storage.set(this.stateKey,true);}\nif(this.options.openedState){this.element.addClass(this.options.openedState);}\nif(this.options.collateral.element&&this.options.collateral.openedState){$(this.options.collateral.element).addClass(this.options.collateral.openedState);}\nif(this.options.closedState){this.element.removeClass(this.options.closedState);}\nif(this.icons){this.header.children('[data-role=icons]').removeClass(this.options.icons.header).addClass(this.options.icons.activeHeader);}\nthis.header.attr({'aria-selected':'true','aria-expanded':'true'});this.content.attr({'aria-hidden':'false'});this.element.trigger('dimensionsChanged',{opened:true});},_loadContent:function(){var url=this.element.find(this.options.ajaxUrlElement).attr('href'),that=this;if(url){that.xhr=$.get({url:url,dataType:'html'},function(){});}\nif(that.xhr&&that.xhr.statusText!=='canceled'){if(that.options.loadingClass){that.element.addClass(that.options.loadingClass);}\nthat.content.attr('aria-busy','true');that.xhr.done(function(response){setTimeout(function(){that.content.html(response);},1);});that.xhr.always(function(jqXHR,status){setTimeout(function(){if(status==='abort'){that.content.stop(false,true);}\nif(that.options.loadingClass){that.element.removeClass(that.options.loadingClass);}\nthat.content.removeAttr('aria-busy');if(jqXHR===that.xhr){delete that.xhr;}},1);});}},_scrollToTopIfNotVisible:function(){if(this._isElementOutOfViewport()){this.header[0].scrollIntoView();}},_isElementOutOfViewport:function(){var headerRect=this.header[0].getBoundingClientRect(),contentRect=this.content.get().length?this.content[0].getBoundingClientRect():false,headerOut,contentOut;headerOut=headerRect.bottom-headerRect.height<0||headerRect.right-headerRect.width<0||headerRect.left+headerRect.width>window.innerWidth||headerRect.top+headerRect.height>window.innerHeight;contentOut=contentRect?contentRect.bottom-contentRect.height<0||contentRect.right-contentRect.width<0||contentRect.left+contentRect.width>window.innerWidth||contentRect.top+contentRect.height>window.innerHeight:false;return headerOut?headerOut:contentOut;}});return $.mage.collapsible;});","mage/dropdown_old.min.js":"define(['jquery'],function($){'use strict';var ESC_KEY_CODE='27';$(document).on('click.dropdown',function(event){if(!$(event.target).is('[data-toggle=dropdown].active, '+'[data-toggle=dropdown].active *, '+'[data-toggle=dropdown].active + .dropdown-menu, '+'[data-toggle=dropdown].active + .dropdown-menu *,'+'[data-toggle=dropdown].active + [data-target=\"dropdown\"],'+'[data-toggle=dropdown].active + [data-target=\"dropdown\"] *')){$('[data-toggle=dropdown].active').trigger('close.dropdown');}}).on('keyup.dropdown',function(event){if(event.keyCode==ESC_KEY_CODE){$('[data-toggle=dropdown].active').trigger('close.dropdown');}});$.fn.dropdown=function(options){options=$.extend({parent:null,btnArrow:'.arrow',activeClass:'active'},options);return this.each(function(){var elem=$(this);elem.off('open.dropdown, close.dropdown, click.dropdown');elem.on('open.dropdown',function(){elem.addClass(options.activeClass).parent().addClass(options.activeClass);elem.find(options.btnArrow).text('\\u25b2');});elem.on('close.dropdown',function(){elem.removeClass(options.activeClass).parent().removeClass(options.activeClass);elem.find(options.btnArrow).text('\\u25bc');});elem.on('click.dropdown',function(){var isActive=elem.hasClass('active');$('[data-toggle=dropdown].active').trigger('close.dropdown');elem.trigger(isActive?'close.dropdown':'open.dropdown');return false;});});};return function(data,el){$(el).dropdown(data);};});","mage/edit-trigger.min.js":"define(['jquery','mage/template','jquery-ui-modules/widget'],function($,mageTemplate){'use strict';var editTriggerPrototype;$.widget('mage.editTrigger',{options:{img:'',alt:'[TR]',template:'#translate-inline-icon',zIndex:2000,editSelector:'[data-translate]',delay:2000,offsetTop:-3,singleElement:true},_create:function(){this.tmpl=mageTemplate(this.options.template);this._initTrigger();this._bind();},_getCss:function(){return{position:'absolute',cursor:'pointer',display:'none','z-index':this.options.zIndex};},_createTrigger:function(appendTo){var tmpl=this.tmpl({data:this.options});return $(tmpl).css(this._getCss()).data('role','edit-trigger-element').appendTo(appendTo);},_initTrigger:function(){this.trigger=this._createTrigger($('body'));},_bind:function(){this.trigger.on('click.'+this.widgetName,$.proxy(this._onClick,this));this.element.on('mousemove.'+this.widgetName,$.proxy(this._onMouseMove,this));},show:function(){if(this.trigger.is(':hidden')){this.trigger.show();}},hide:function(){this.currentTarget=null;if(this.trigger&&this.trigger.is(':visible')){this.trigger.hide();}},_setPosition:function(el){var offset=el.offset();this.trigger.css({top:offset.top+el.outerHeight()+this.options.offsetTop,left:offset.left});},_onMouseMove:function(e){var target=$(e.target),inner=target.find(this.options.editSelector);if($(e.target).is('button')&&inner.length){target=inner;}else if(!target.is(this.trigger)&&!target.is(this.options.editSelector)){target=target.parents(this.options.editSelector).first();}\nif(target.length){if(!target.is(this.trigger)){this._setPosition(target);this.currentTarget=target;}\nthis.show();}else{this.hide();}},_onClick:function(e){e.preventDefault();e.stopImmediatePropagation();$(this.currentTarget).trigger('edit.'+this.widgetName);this.hide(true);},destroy:function(){this.trigger.remove();this.element.off('.'+this.widgetName);return $.Widget.prototype.destroy.call(this);}});editTriggerPrototype=$.mage.editTrigger.prototype;$.widget('mage.editTrigger',$.extend({},editTriggerPrototype,{show:function(){editTriggerPrototype.show.apply(this,arguments);if(this.options.delay){this._clearTimer();}},hide:function(immediate){if(!immediate&&this.options.delay){if(!this.timer){this.timer=setTimeout($.proxy(function(){editTriggerPrototype.hide.apply(this,arguments);this._clearTimer();},this),this.options.delay);}}else{editTriggerPrototype.hide.apply(this,arguments);}},_clearTimer:function(){if(this.timer){clearTimeout(this.timer);this.timer=null;}}}));return $.mage.editTrigger;});","mage/loader_old.min.js":"define(['jquery','mage/template','jquery-ui-modules/widget','mage/translate'],function($,mageTemplate){'use strict';$.widget('mage.loader',{loaderStarted:0,spinner:$(undefined),options:{icon:'',texts:{loaderText:$.mage.__('Please wait...'),imgAlt:$.mage.__('Loading...')},template:'<div class=\"loading-mask\" data-role=\"loader\">'+'<div class=\"popup popup-loading\">'+'<div class=\"popup-inner\">'+'<% if (data.icon) { %>'+'<img '+'<% if (data.texts.imgAlt) { %>alt=\"<%- data.texts.imgAlt %>\"<% } %> '+'src=\"<%- data.icon %>\"><% } %>'+'<% if (data.texts.loaderText) { %><%- data.texts.loaderText %><% } %>'+'</div>'+'</div>'+'</div>'},_create:function(){this._bind();},_bind:function(){this._on({'processStop':'hide','processStart':'show','show.loader':'show','hide.loader':'hide','contentUpdated.loader':'_contentUpdated'});},_contentUpdated:function(e){this.show(e);},show:function(e,ctx){this._render();this.loaderStarted++;this.spinner.show();if(ctx){this.spinner.css({width:ctx.outerWidth(),height:ctx.outerHeight(),position:'absolute'}).position({my:'top left',at:'top left',of:ctx});}\nreturn false;},hide:function(){if(this.loaderStarted>0){this.loaderStarted--;if(this.loaderStarted===0){this.spinner.hide();}}\nreturn false;},_render:function(){var tmpl;if(this.spinner.length===0){tmpl=mageTemplate(this.options.template,{data:this.options});this.spinner=$(tmpl);}\nthis.element.prepend(this.spinner);},_destroy:function(){this.spinner.remove();}});$.widget('mage.loaderAjax',{options:{defaultContainer:'[data-container=body]'},_create:function(){this._bind();if(window.console&&!this.element.is(this.options.defaultContainer)&&$.mage.isDevMode(undefined)){console.warn('This widget is intended to be attached to the body, not below.');}},_bind:function(){$(document).on({'ajaxSend':this._onAjaxSend.bind(this),'ajaxComplete':this._onAjaxComplete.bind(this)});},_getJqueryObj:function(loaderContext){var ctx;if(loaderContext){if(loaderContext.jquery){ctx=loaderContext;}else{ctx=$(loaderContext);}}else{ctx=$('[data-container=\"body\"]');}\nreturn ctx;},_onAjaxSend:function(e,jqxhr,settings){var ctx;if(settings&&settings.showLoader){ctx=this._getJqueryObj(settings.loaderContext);ctx.trigger('processStart');if(window.console&&!ctx.parents('[data-role=\"loader\"]').length){console.warn('Expected to start loader but did not find one in the dom');}}},_onAjaxComplete:function(e,jqxhr,settings){if(settings&&settings.showLoader&&!settings.dontHide){this._getJqueryObj(settings.loaderContext).trigger('processStop');}}});return{loader:$.mage.loader,loaderAjax:$.mage.loaderAjax};});","mage/mage.min.js":"define(['jquery','mage/apply/main'],function($,mage){'use strict';$.mage=$.mage||{};$.fn.mage=function(name,config){config=config||{};this.each(function(index,el){mage.applyFor(el,config,name);});return this;};$.extend($.mage,{init:function(){mage.apply();return this;},redirect:function(url,type,timeout,forced){var _redirect;forced=!!forced;timeout=timeout||0;type=type||'assign';_redirect=function(){window.location[type](type==='reload'?forced:url);};timeout?setTimeout(_redirect,timeout):_redirect();},isValidSelector:function(selector){try{document.querySelector(selector);return true;}catch(e){return false;}}});$(document).on('contentUpdated','body',function(){if(mage){mage.apply();}});return $.mage;});","mage/multiselect.min.js":"define(['underscore','jquery','text!mage/multiselect.html','Magento_Ui/js/modal/alert','jquery-ui-modules/widget','jquery/editableMultiselect/js/jquery.multiselect'],function(_,$,searchTemplate,alert){'use strict';$.widget('mage.multiselect2',{options:{mselectContainer:'section.mselect-list',mselectItemsWrapperClass:'mselect-items-wrapper',mselectCheckedClass:'mselect-checked',containerClass:'paginated',searchInputClass:'admin__action-multiselect-search',selectedItemsCountClass:'admin__action-multiselect-items-selected',currentPage:1,lastAppendValue:0,updateDelay:1000,optionsLoaded:false},_create:function(){$.fn.multiselect.call(this.element,this.options);},_init:function(){this.domElement=this.element.get(0);this.$container=$(this.options.mselectContainer);this.$wrapper=this.$container.find('.'+this.options.mselectItemsWrapperClass);this.$item=this.$wrapper.find('div').first();this.selectedValues=[];this.values={};this.$container.addClass(this.options.containerClass).prepend(searchTemplate);this.$input=this.$container.find('.'+this.options.searchInputClass);this.$selectedCounter=this.$container.find('.'+this.options.selectedItemsCountClass);this.filter='';if(this.domElement.options.length){this._setLastAppendOption(this.domElement.options[this.domElement.options.length-1].value);}\nthis._initElement();this._events();},_initElement:function(){this.element.empty();_.each(this.options.selectedValues,function(value){this._createSelectedOption({value:value,label:value});},this);},_events:function(){var onKeyUp=_.debounce(this.onKeyUp,this.options.updateDelay);_.bindAll(this,'onScroll','onCheck','onOptionsChange');this.$wrapper.on('scroll',this.onScroll);this.$wrapper.on('change.mselectCheck','[type=checkbox]',this.onCheck);this.$input.on('keyup',_.bind(onKeyUp,this));this.element.on('change.hiddenSelect',this.onOptionsChange);},onScroll:function(){var height=this.$wrapper.height(),scrollHeight=this.$wrapper.prop('scrollHeight'),scrollTop=Math.ceil(this.$wrapper.prop('scrollTop'));if(!this.options.optionsLoaded&&scrollHeight-height<=scrollTop){this.loadOptions();}},onKeyUp:function(){if(this.getSearchCriteria()===this.filter){return false;}\nthis.setFilter();this.clearMultiselectOptions();this.setCurrentPage(0);this.loadOptions();},onOptionsChange:function(){this.selectedValues=_.map(this.domElement.options,function(option){this.values[option.value]=true;return option.value;},this);this._updateSelectedCounter();},onCheck:function(event){var checkbox=event.target,option={value:checkbox.value,label:$(checkbox).parent('label').text()};checkbox.checked?this._createSelectedOption(option):this._removeSelectedOption(option);event.stopPropagation();},onError:function(message){alert({content:message});},setFilter:function(){this.filter=this.getSearchCriteria()||'';},getSearchCriteria:function(){return this.$input.val().trim();},loadOptions:function(){var nextPage=this.getCurrentPage()+1;this.$wrapper.trigger('processStart');this.$input.prop('disabled',true);$.get(this.options.nextPageUrl,{p:nextPage,s:this.filter}).done(function(response){if(response.success){this.appendOptions(response.result);this.setCurrentPage(nextPage);}else{this.onError(response.errorMessage);}}.bind(this)).always(function(){this.$wrapper.trigger('processStop');this.$input.prop('disabled',false);if(this.filter){this.$input.focus();}}.bind(this));},appendOptions:function(options){var divOptions=[];if(!options.length){return false;}\nif(this.isOptionsLoaded(options)){return;}\noptions.forEach(function(option){if(!this.values[option.value]){this.values[option.value]=true;option.selected=this._isOptionSelected(option);divOptions.push(this._createMultiSelectOption(option));this._setLastAppendOption(option.value);}},this);this.$wrapper.append(divOptions);},clearMultiselectOptions:function(){this._setLastAppendOption(0);this.values={};this.$wrapper.empty();},isOptionsLoaded:function(options){this.options.optionsLoaded=this.options.lastAppendValue===options[options.length-1].value;return this.options.optionsLoaded;},setCurrentPage:function(page){this.options.currentPage=page;},getCurrentPage:function(){return this.options.currentPage;},_createSelectedOption:function(option){var selectOption=new Option(option.label,option.value,false,true);this.element.append(selectOption);this.selectedValues.push(option.value);this._updateSelectedCounter();return selectOption;},_removeSelectedOption:function(option){var unselectedOption=_.findWhere(this.domElement.options,{value:option.value});if(!_.isUndefined(unselectedOption)){this.domElement.remove(unselectedOption.index);this.selectedValues.splice(_.indexOf(this.selectedValues,option.value),1);this._updateSelectedCounter();}\nreturn unselectedOption;},_createMultiSelectOption:function(option){var item=this.$item.clone(),checkbox=item.find('input'),isSelected=!!option.selected;checkbox.val(option.value).prop('checked',isSelected).toggleClass(this.options.mselectCheckedClass,isSelected);item.find('label > span').text(option.label);return item;},_isOptionSelected:function(option){return!!~this.selectedValues.indexOf(option.value);},_setLastAppendOption:function(value){this.options.lastAppendValue=value;},_updateSelectedCounter:function(){this.$selectedCounter.text(this.selectedValues.length);}});return $.mage.multiselect2;});","mage/polyfill.min.js":"(function(root,doc){'use strict';var Storage;try{if(!root.localStorage||!root.sessionStorage){throw new Error();}\nlocalStorage.setItem('storage_test',1);localStorage.removeItem('storage_test');}catch(e){Storage=function(type){var data;function createCookie(name,value,days){var date,expires;if(days){date=new Date();date.setTime(date.getTime()+days*24*60*60*1000);expires='; expires='+date.toGMTString();}else{expires='';}\ndoc.cookie=name+'='+value+expires+'; path=/';}\nfunction readCookie(name){var nameEQ=name+'=',ca=doc.cookie.split(';'),i=0,c;for(i=0;i<ca.length;i++){c=ca[i];while(c.charAt(0)===' '){c=c.substring(1,c.length);}\nif(c.indexOf(nameEQ)===0){return c.substring(nameEQ.length,c.length);}}\nreturn null;}\nfunction getCookieName(){if(type!=='session'){return'localstorage';}\nif(!root.name){root.name=new Date().getTime();}\nreturn'sessionStorage'+root.name;}\nfunction setData(dataObject){data=encodeURIComponent(JSON.stringify(dataObject));createCookie(getCookieName(),data,365);}\nfunction clearData(){createCookie(getCookieName(),'',365);}\nfunction getData(){var dataResponse=readCookie(getCookieName());return dataResponse?JSON.parse(decodeURIComponent(dataResponse)):{};}\ndata=getData();return{length:0,clear:function(){data={};this.length=0;clearData();},getItem:function(key){return data[key]===undefined?null:data[key];},key:function(i){var ctr=0,k;for(k in data){if(data.hasOwnProperty(k)){if(ctr.toString()===i.toString()){return k;}\nctr++;}}\nreturn null;},removeItem:function(key){delete data[key];this.length--;setData(data);},setItem:function(key,value){data[key]=value.toString();this.length++;setData(data);}};};root.localStorage.prototype=root.localStorage=new Storage('local');root.sessionStorage.prototype=root.sessionStorage=new Storage('session');}})(window,document);","mage/popup-window.min.js":"define(['jquery','jquery-ui-modules/widget'],function($){'use strict';$.widget('mage.popupWindow',{options:{centerBrowser:0,centerScreen:0,height:500,left:0,location:0,menubar:0,resizable:0,scrollbars:0,status:0,width:500,windowName:null,windowURL:null,top:0,toolbar:0},_create:function(){this.element.on('click',$.proxy(this._openPopupWindow,this));},_openPopupWindow:function(event){var element=$(event.target),settings=this.options,windowFeatures='height='+settings.height+',width='+settings.width+',toolbar='+settings.toolbar+',scrollbars='+settings.scrollbars+',status='+settings.status+',resizable='+settings.resizable+',location='+settings.location+',menuBar='+settings.menubar,centeredX,centeredY;settings.windowName=settings.windowName||element.attr('name');settings.windowURL=settings.windowURL||element.attr('href');if(settings.centerBrowser){centeredY=window.screenY+(window.outerHeight / 2-settings.height / 2);centeredX=window.screenX+(window.outerWidth / 2-settings.width / 2);windowFeatures+=',left='+centeredX+',top='+centeredY;}else if(settings.centerScreen){centeredY=(screen.height-settings.height)/ 2;centeredX=(screen.width-settings.width)/ 2;windowFeatures+=',left='+centeredX+',top='+centeredY;}else{windowFeatures+=',left='+settings.left+',top='+settings.top;}\nwindow.open(settings.windowURL,settings.windowName,windowFeatures).focus();event.preventDefault();}});return $.mage.popupWindow;});","mage/smart-keyboard-handler.min.js":"define(['jquery'],function($){'use strict';function KeyboardHandler(){var body=$('body'),focusState=false,tabFocusClass='_keyfocus',productsGrid='[data-container=\"product-grid\"]',catalogProductsGrid=$(productsGrid),CODE_TAB=9;function onFocusInHandler(){focusState=true;body.addClass(tabFocusClass).off('focusin.keyboardHandler',onFocusInHandler);}\nfunction onClickHandler(){focusState=false;body.removeClass(tabFocusClass).off('click',onClickHandler);}\nfunction smartKeyboardFocus(){$(document).on('keydown keypress',function(event){if(event.which===CODE_TAB&&!focusState){body.on('focusin.keyboardHandler',onFocusInHandler).on('click',onClickHandler);}});if(catalogProductsGrid.length){body.on('focusin.gridProducts',productsGrid,function(){if(body.hasClass(tabFocusClass)){$(this).addClass('active');}});body.on('focusout.gridProducts',productsGrid,function(){$(this).removeClass('active');});}}\nfunction handleFocus(element){element.on('focusin.emulateTabFocus',function(){focusState=true;body.addClass(tabFocusClass);element.off();});element.on('focusout.emulateTabFocus',function(){focusState=false;body.removeClass(tabFocusClass);element.off();});}\nreturn{apply:smartKeyboardFocus,focus:handleFocus};}\nreturn new KeyboardHandler;});","mage/storage.min.js":"define(['jquery','mage/url'],function($,urlBuilder){'use strict';return{get:function(url,global,contentType,headers){headers=headers||{};global=global===undefined?true:global;contentType=contentType||'application/json';return $.ajax({url:urlBuilder.build(url),type:'GET',global:global,contentType:contentType,headers:headers});},post:function(url,data,global,contentType,headers){headers=headers||{};global=global===undefined?true:global;contentType=contentType||'application/json';return $.ajax({url:urlBuilder.build(url),type:'POST',data:data,global:global,contentType:contentType,headers:headers});},put:function(url,data,global,contentType,headers){var ajaxSettings={};headers=headers||{};global=global===undefined?true:global;contentType=contentType||'application/json';ajaxSettings.url=urlBuilder.build(url);ajaxSettings.type='PUT';ajaxSettings.data=data;ajaxSettings.global=global;ajaxSettings.contentType=contentType;ajaxSettings.headers=headers;return $.ajax(ajaxSettings);},delete:function(url,global,contentType,headers){headers=headers||{};global=global===undefined?true:global;contentType=contentType||'application/json';return $.ajax({url:urlBuilder.build(url),type:'DELETE',global:global,contentType:contentType,headers:headers});}};});","mage/tabs.min.js":"define(['jquery','jquery-ui-modules/widget','jquery/ui-modules/widgets/tabs','mage/mage','mage/collapsible'],function($){'use strict';$.widget('mage.tabs',{options:{active:0,disabled:[],openOnFocus:true,collapsible:false,collapsibleElement:'[data-role=collapsible]',header:'[data-role=title]',content:'[data-role=content]',trigger:'[data-role=trigger]',closedState:null,openedState:null,disabledState:null,ajaxUrlElement:'[data-ajax=true]',ajaxContent:false,loadingClass:null,saveState:false,animate:false,icons:{activeHeader:null,header:null}},_create:function(){if(typeof this.options.disabled==='string'){this.options.disabled=this.options.disabled.split(' ').map(function(item){return parseInt(item,10);});}\nthis._processPanels();this._handleDeepLinking();this._processTabIndex();this._closeOthers();this._bind();},_destroy:function(){$.each(this.collapsibles,function(){$(this).collapsible('destroy');});},_handleDeepLinking:function(){var self=this,anchor=window.location.hash,isValid=$.mage.isValidSelector(anchor),anchorId=anchor.replace('#','');if(anchor&&isValid){$.each(self.contents,function(i){if($(this).attr('id')===anchorId||$(this).find('#'+anchorId).length){self.collapsibles.not(self.collapsibles.eq(i)).collapsible('forceDeactivate');return false;}});}},_processTabIndex:function(){var self=this;self.triggers.attr('tabIndex',0);$.each(this.collapsibles,function(i){self.triggers.attr('tabIndex',0);self.triggers.eq(i).attr('tabIndex',0);});},_processPanels:function(){var isNotNested=this._isNotNested.bind(this);this.contents=this.element.find(this.options.content).filter(isNotNested);this.collapsibles=this.element.find(this.options.collapsibleElement).filter(isNotNested);this.collapsibles.attr('role','presentation').parent().attr('role','tablist');this.headers=this.element.find(this.options.header).filter(isNotNested);if(this.headers.length===0){this.headers=this.collapsibles;}\nthis.triggers=this.element.find(this.options.trigger).filter(isNotNested);if(this.triggers.length===0){this.triggers=this.headers;}\nthis._callCollapsible();},_isNotNested:function(index,element){var parentContent=$(element).parents(this.options.content);return!parentContent.length||!this.element.find(parentContent).length;},_callCollapsible:function(){var self=this,disabled=false,active=false;$.each(this.collapsibles,function(i){disabled=active=false;if($.inArray(i,self.options.disabled)!==-1){disabled=true;}\nif(i===self.options.active){active=true;}\nself._instantiateCollapsible(this,i,active,disabled);});},_instantiateCollapsible:function(element,index,active,disabled){$(element).collapsible($.extend({},this.options,{active:active,disabled:disabled,header:this.headers.eq(index),content:this.contents.eq(index),trigger:this.triggers.eq(index)}));},_closeOthers:function(){var self=this;$.each(this.collapsibles,function(){$(this).on('beforeOpen',function(){self.collapsibles.not(this).collapsible('forceDeactivate');});});},activate:function(index){this._toggleActivate('activate',index);},deactivate:function(index){this._toggleActivate('deactivate',index);},_toggleActivate:function(action,index){this.collapsibles.eq(index).collapsible(action);},disable:function(index){this._toggleEnable('disable',index);},enable:function(index){this._toggleEnable('enable',index);},_toggleEnable:function(action,index){var self=this;if(Array.isArray(index)){$.each(index,function(){self.collapsibles.eq(this).collapsible(action);});}else if(index===undefined){this.collapsibles.collapsible(action);}else{this.collapsibles.eq(index).collapsible(action);}},_keydown:function(event){var self=this,keyCode,toFocus,toFocusIndex,enabledTriggers,length,currentIndex,nextToFocus;if(event.altKey||event.ctrlKey){return;}\nkeyCode=$.ui.keyCode;toFocus=false;enabledTriggers=[];$.each(this.triggers,function(){if(!self.collapsibles.eq(self.triggers.index($(this))).collapsible('option','disabled')){enabledTriggers.push(this);}});length=$(enabledTriggers).length;currentIndex=$(enabledTriggers).index(event.target);nextToFocus=function(direction){if(length>0){if(direction==='right'){toFocusIndex=(currentIndex+1)%length;}else{toFocusIndex=(currentIndex+length-1)%length;}\nreturn enabledTriggers[toFocusIndex];}\nreturn event.target;};switch(event.keyCode){case keyCode.RIGHT:case keyCode.DOWN:toFocus=nextToFocus('right');break;case keyCode.LEFT:case keyCode.UP:toFocus=nextToFocus('left');break;case keyCode.HOME:toFocus=enabledTriggers[0];break;case keyCode.END:toFocus=enabledTriggers[length-1];break;}\nif(toFocus){toFocusIndex=this.triggers.index(toFocus);$(event.target).attr('tabIndex',-1);$(toFocus).attr('tabIndex',0);toFocus.focus();if(this.options.openOnFocus){this.activate(toFocusIndex);}\nevent.preventDefault();}},_bind:function(){var events={keydown:'_keydown'};this._off(this.triggers);this._on(this.triggers,events);}});return $.mage.tabs;});","mage/template.min.js":"define(['underscore'],function(_){'use strict';function isSelector(selector){try{document.querySelector(selector);return true;}catch(e){return false;}}\nfunction unescape(str){return str.replace(/&lt;%|%3C%/g,'<%').replace(/%&gt;|%%3E/g,'%>');}\nfunction getTmplString(tmpl){if(isSelector(tmpl)){tmpl=document.querySelector(tmpl);if(tmpl){tmpl=tmpl.innerHTML.trim();}else{console.warn('No template was found by selector: '+tmpl);tmpl='';}}\nreturn unescape(tmpl);}\nreturn function(tmpl,data){var render;tmpl=getTmplString(tmpl);render=_.template(tmpl);return!_.isUndefined(data)?render(data):render;};});","mage/touch-slider.min.js":"define(['jquery','underscore','jquery-ui-modules/slider'],function($,_){'use strict';$.widget('mage.touchSlider',$.ui.slider,{_create:function(){_.bindAll(this,'_mouseDown','_mouseMove','_onTouchEnd');return this._superApply(arguments);},_mouseInit:function(){var result=this._superApply(arguments);this.element.off('mousedown.'+this.widgetName).on('touchstart.'+this.widgetName,this._mouseDown);return result;},_mouseDown:function(event){var prevDelegate=this._mouseMoveDelegate,result;event=this._touchToMouse(event);result=this._super(event);if(prevDelegate===this._mouseMoveDelegate){return result;}\n$(document).off('mousemove.'+this.widgetName).off('mouseup.'+this.widgetName);$(document).on('touchmove.'+this.widgetName,this._mouseMove).on('touchend.'+this.widgetName,this._onTouchEnd).on('tochleave.'+this.widgetName,this._onTouchEnd);return result;},_mouseMove:function(event){event=this._touchToMouse(event);return this._super(event);},_onTouchEnd:function(event){$(document).trigger('mouseup');return this._mouseUp(event);},_mouseUp:function(){this._removeTouchHandlers();return this._superApply(arguments);},_mouseDestroy:function(){this._removeTouchHandlers();return this._superApply(arguments);},_removeTouchHandlers:function(){$(document).off('touchmove.'+this.widgetName).off('touchend.'+this.widgetName).off('touchleave.'+this.widgetName);},_touchToMouse:function(event){var orig=event.originalEvent,touch=orig.touches[0];return _.extend(event,{which:1,pageX:touch.pageX,pageY:touch.pageY,clientX:touch.clientX,clientY:touch.clientY,screenX:touch.screenX,screenY:touch.screenY});}});return $.mage.touchSlider;});","mage/translate-inline.min.js":"define(['jquery','mage/template','mage/utils/misc','mage/translate','jquery-ui-modules/dialog'],function($,mageTemplate,miscUtils){'use strict';$.widget('mage.translateInline',$.ui.dialog,{options:{translateForm:{template:'#translate-form-template',data:{id:'translate-inline-form',message:'Please refresh the page to see your changes after submitting this form. '+'Note: browser cache refresh may be required'}},autoOpen:false,translateArea:null,modal:true,dialogClass:'popup-window window-translate-inline',width:'75%',title:$.mage.__('Translate'),height:470,position:{my:'left top',at:'center top',of:'body'},buttons:[{text:$.mage.__('Submit'),'class':'action-primary',click:function(){$(this).translateInline('submit');}},{text:$.mage.__('Close'),'class':'action-close',click:function(){$(this).translateInline('close');}}],open:function(){var $uiDialog=$(this).closest('.ui-dialog'),topMargin=$uiDialog.children('.ui-dialog-titlebar').outerHeight()+45;$uiDialog.addClass('ui-dialog-active').css('margin-top',topMargin);},close:function(){$(this).closest('.ui-dialog').removeClass('ui-dialog-active');}},_create:function(){var $translateArea=$(this.options.translateArea);if(!$translateArea.length){$translateArea=$('body');}\n$translateArea.on('edit.editTrigger',$.proxy(this._onEdit,this));this.tmpl=mageTemplate(this.options.translateForm.template);this._super();},_prepareContent:function(templateData){var data=$.extend({items:templateData,escape:miscUtils.escape},this.options.translateForm.data);this.data=data;return $(this.tmpl({data:data}));},_onEdit:function(e){this.target=e.target;this.element.html(this._prepareContent($(e.target).data('translate')));this.open(e);},submit:function(){if(this.formIsSubmitted){return;}\nthis._formSubmit();},_formSubmit:function(){var parameters=$.param({area:this.options.area})+'&'+$('#'+this.options.translateForm.data.id).serialize();this.formIsSubmitted=true;$.ajax({url:this.options.ajaxUrl,type:'POST',data:parameters,loaderContext:this.element,showLoader:true}).always($.proxy(this._formSubmitComplete,this));},_formSubmitComplete:function(response){var responseJSON=response.responseJSON||response;this.close();this.formIsSubmitted=false;$.mage.translate.add(responseJSON);this._updatePlaceholder(responseJSON[this.data.items[0].original]);},_updatePlaceholder:function(newValue){var $target=$(this.target),translateObject=$target.data('translate')[0];translateObject.shown=newValue;translateObject.translated=newValue;$.mage.translate.add(this.data.items[0].original,newValue);$target.html(newValue);},destroy:function(){this.element.off('.editTrigger');this._super();}});return $.mage.translateInline;});","mage/translate.min.js":"define(['jquery','mage/mage','mageTranslationDictionary','underscore'],function($,mage,dictionary,_){'use strict';$.extend(true,$,{mage:{translate:(function(){var _data=dictionary;return{add:function(){if(arguments.length>1){_data[arguments[0]]=arguments[1];}else if(typeof arguments[0]==='object'){$.extend(_data,arguments[0]);}},translate:function(text){return typeof _data[text]!=='undefined'?_data[text]:text;}};}())}});$.mage.__=$.proxy($.mage.translate.translate,$.mage.translate);_.extend(_,{i18n:function(text){return $.mage.__(text);}});return $.mage.__;});","mage/trim-input.min.js":"define(['jquery'],function($){'use strict';$.widget('mage.trimInput',{options:{cache:{}},_create:function(){this.options.cache.input=$(this.element);this._bind();},_bind:function(){if(this.options.cache.input.length){this._on(this.options.cache.input,{'change':this._trimInput,'keyup':this._trimInput,'paste':this._trimInput});}},_trimInput:function(){var caretStart,caretEnd,input;caretStart=this.options.cache.input.get(0).selectionStart;caretEnd=this.options.cache.input.get(0).selectionEnd;input=this._getInputValue().trim();this.options.cache.input.val(input);if(caretStart!==null&&caretEnd!==null){this.options.cache.input.get(0).setSelectionRange(caretStart,caretEnd);}},_getInputValue:function(){return this.options.cache.input.val();}});return $.mage.trimInput;});","mage/url.min.js":"define([],function(){var baseUrl='';return{setBaseUrl:function(url){baseUrl=url;},build:function(path){if(path.indexOf(baseUrl)!==-1){return path;}\nreturn baseUrl+path;}};});","mage/validation.min.js":"define(['jquery','moment','mageUtils','jquery-ui-modules/widget','jquery/validate','mage/translate'],function($,moment,utils){'use strict';var creditCartTypes,rules,showLabel,originValidateDelegate;$.extend(true,$,{mage:{isEmpty:function(value){return value===''||value===undefined||value==null||value.length===0||/^\\s+$/.test(value);},isEmptyNoTrim:function(value){return value===''||value==null||value.length===0;},isBetween:function(value,from,to){return($.mage.isEmpty(from)||value>=$.mage.parseNumber(from))&&($.mage.isEmpty(to)||value<=$.mage.parseNumber(to));},parseNumber:function(value){var isDot,isComa;if(typeof value!=='string'){return parseFloat(value);}\nisDot=value.indexOf('.');isComa=value.indexOf(',');if(isDot!==-1&&isComa!==-1){if(isComa>isDot){value=value.replace('.','').replace(',','.');}else{value=value.replace(',','');}}else if(isComa!==-1){value=value.replace(',','.');}\nreturn parseFloat(value);},stripHtml:function(value){return value.replace(/<.[^<>]*?>/g,' ').replace(/&nbsp;|&#160;/gi,' ').replace(/[0-9.(),;:!?%#$'\"_+=\\/-]*/g,'');}}});$.validator.addMethod=function(name,method,message,dontSkip){$.validator.methods[name]=method;$.validator.messages[name]=message!==undefined?message:$.validator.messages[name];if(method.length<3||dontSkip){$.validator.addClassRules(name,$.validator.normalizeRule(name));}};creditCartTypes={'SO':[new RegExp('^(6334[5-9]([0-9]{11}|[0-9]{13,14}))|(6767([0-9]{12}|[0-9]{14,15}))$'),new RegExp('^([0-9]{3}|[0-9]{4})?$'),true],'SM':[new RegExp('(^(5[0678])[0-9]{11,18}$)|(^(6[^05])[0-9]{11,18}$)|'+'(^(601)[^1][0-9]{9,16}$)|(^(6011)[0-9]{9,11}$)|(^(6011)[0-9]{13,16}$)|'+'(^(65)[0-9]{11,13}$)|(^(65)[0-9]{15,18}$)|(^(49030)[2-9]([0-9]{10}$|[0-9]{12,13}$))|'+'(^(49033)[5-9]([0-9]{10}$|[0-9]{12,13}$))|(^(49110)[1-2]([0-9]{10}$|[0-9]{12,13}$))|'+'(^(49117)[4-9]([0-9]{10}$|[0-9]{12,13}$))|(^(49118)[0-2]([0-9]{10}$|[0-9]{12,13}$))|'+'(^(4936)([0-9]{12}$|[0-9]{14,15}$))'),new RegExp('^([0-9]{3}|[0-9]{4})?$'),true],'VI':[new RegExp('^4[0-9]{12}([0-9]{3})?$'),new RegExp('^[0-9]{3}$'),true],'MC':[new RegExp('^(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$'),new RegExp('^[0-9]{3}$'),true],'AE':[new RegExp('^3[47][0-9]{13}$'),new RegExp('^[0-9]{4}$'),true],'DI':[new RegExp('^(6011(0|[2-4]|74|7[7-9]|8[6-9]|9)|6(4[4-9]|5))\\\\d*$'),new RegExp('^[0-9]{3}$'),true],'JCB':[new RegExp('^35(2[8-9]|[3-8])\\\\d*$'),new RegExp('^[0-9]{3}$'),true],'DN':[new RegExp('^(3(0[0-5]|095|6|[8-9]))\\\\d*$'),new RegExp('^[0-9]{3}$'),true],'UN':[new RegExp('^(622(1(2[6-9]|[3-9])|[3-8]|9([[0-1]|2[0-5]))|62[4-6]|628([2-8]))\\\\d*?$'),new RegExp('^[0-9]{3}$'),true],'MI':[new RegExp('^(5(0|[6-9])|63|67(?!59|6770|6774))\\\\d*$'),new RegExp('^[0-9]{3}$'),true],'MD':[new RegExp('^6759(?!24|38|40|6[3-9]|70|76)|676770|676774\\\\d*$'),new RegExp('^[0-9]{3}$'),true]};function validateCreditCard(s){var v='0123456789',w='',i,j,k,m,c,a,x;for(i=0;i<s.length;i++){x=s.charAt(i);if(v.indexOf(x,0)!==-1){w+=x;}}\nj=w.length / 2;k=Math.floor(j);m=Math.ceil(j)-k;c=0;for(i=0;i<k;i++){a=w.charAt(i*2+m)*2;c+=a>9?Math.floor(a / 10+a%10):a;}\nfor(i=0;i<k+m;i++){c+=w.charAt(i*2+1-m)*1;}\nreturn c%10===0;}\nfunction tableSingleValidation(value,element){var empty=$(element).closest('table').find('input.required-option:visible').filter(function(i,el){if($(el).is('disabled')){return $.mage.isEmpty(el.value);}}).length;return empty===0;}\nfunction resolveModulo(qty,qtyIncrements){var divideEpsilon=10000,epsilon,remainder;while(qtyIncrements<1){qty*=10;qtyIncrements*=10;}\nepsilon=qtyIncrements / divideEpsilon;remainder=qty%qtyIncrements;if(Math.abs(remainder-qtyIncrements)<epsilon||Math.abs(remainder)<epsilon){remainder=0;}\nreturn remainder;}\nrules={'max-words':[function(value,element,params){return this.optional(element)||$.mage.stripHtml(value).match(/\\b\\w+\\b/g).length<=params;},$.mage.__('Please enter {0} words or less.')],'min-words':[function(value,element,params){return this.optional(element)||$.mage.stripHtml(value).match(/\\b\\w+\\b/g).length>=params;},$.mage.__('Please enter at least {0} words.')],'range-words':[function(value,element,params){return this.optional(element)||$.mage.stripHtml(value).match(/\\b\\w+\\b/g).length>=params[0]&&value.match(/bw+b/g).length<params[1];},$.mage.__('Please enter between {0} and {1} words.')],'letters-with-basic-punc':[function(value,element){return this.optional(element)||/^[a-z\\-.,()'\\\"\\s]+$/i.test(value);},$.mage.__('Letters or punctuation only please')],'alphanumeric':[function(value,element){return this.optional(element)||/^\\w+$/i.test(value);},$.mage.__('Letters, numbers, spaces or underscores only please')],'letters-only':[function(value,element){return this.optional(element)||/^[a-z]+$/i.test(value);},$.mage.__('Letters only please')],'no-whitespace':[function(value,element){return this.optional(element)||/^\\S+$/i.test(value);},$.mage.__('No white space please')],'no-marginal-whitespace':[function(value,element){return this.optional(element)||!/^\\s+|\\s+$/i.test(value);},$.mage.__('No marginal white space please')],'zip-range':[function(value,element){return this.optional(element)||/^90[2-5]-\\d{2}-\\d{4}$/.test(value);},$.mage.__('Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx')],'integer':[function(value,element){return this.optional(element)||/^-?\\d+$/.test(value);},$.mage.__('A positive or negative non-decimal number please')],'vinUS':[function(v){var i,n,d,f,cd,cdv,LL,VL,FL,rs;if(v.length!==17){return false;}\nLL=['A','B','C','D','E','F','G','H','J','K','L','M','N','P','R','S','T','U','V','W','X','Y','Z'];VL=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9];FL=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2];rs=0;for(i=0;i<17;i++){f=FL[i];d=v.slice(i,i+1);if(i===8){cdv=d;}\nif(!isNaN(d)){d*=f;}else{for(n=0;n<LL.length;n++){if(d.toUpperCase()===LL[n]){d=VL[n];d*=f;if(isNaN(cdv)&&n===8){cdv=LL[n];}\nbreak;}}}\nrs+=d;}\ncd=rs%11;if(cd===10){cd='X';}\nif(cd===cdv){return true;}\nreturn false;},$.mage.__('The specified vehicle identification number (VIN) is invalid.')],'dateITA':[function(value,element){var check=false,re=/^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/,adata,gg,mm,aaaa,xdata;if(re.test(value)){adata=value.split('/');gg=parseInt(adata[0],10);mm=parseInt(adata[1],10);aaaa=parseInt(adata[2],10);xdata=new Date(aaaa,mm-1,gg);if(xdata.getFullYear()===aaaa&&xdata.getMonth()===mm-1&&xdata.getDate()===gg){check=true;}else{check=false;}}else{check=false;}\nreturn this.optional(element)||check;},$.mage.__('Please enter a correct date')],'dateNL':[function(value,element){return this.optional(element)||/^\\d\\d?[\\.\\/-]\\d\\d?[\\.\\/-]\\d\\d\\d?\\d?$/.test(value);},'Vul hier een geldige datum in.'],'time':[function(value,element){return this.optional(element)||/^([01]\\d|2[0-3])(:[0-5]\\d){0,2}$/.test(value);},$.mage.__('Please enter a valid time, between 00:00 and 23:59')],'time12h':[function(value,element){return this.optional(element)||/^((0?[1-9]|1[012])(:[0-5]\\d){0,2}(\\s[AP]M))$/i.test(value);},$.mage.__('Please enter a valid time, between 00:00 am and 12:00 pm')],'phoneUS':[function(phoneNumber,element){phoneNumber=phoneNumber.replace(/\\s+/g,'');return this.optional(element)||phoneNumber.length>9&&phoneNumber.match(/^(1-?)?(\\([2-9]\\d{2}\\)|[2-9]\\d{2})-?[2-9]\\d{2}-?\\d{4}$/);},$.mage.__('Please specify a valid phone number')],'phoneUK':[function(phoneNumber,element){return this.optional(element)||phoneNumber.length>9&&phoneNumber.match(/^(\\(?(0|\\+44)[1-9]{1}\\d{1,4}?\\)?\\s?\\d{3,4}\\s?\\d{3,4})$/);},$.mage.__('Please specify a valid phone number')],'mobileUK':[function(phoneNumber,element){return this.optional(element)||phoneNumber.length>9&&phoneNumber.match(/^((0|\\+44)7\\d{3}\\s?\\d{6})$/);},$.mage.__('Please specify a valid mobile number')],'stripped-min-length':[function(value,element,param){return value.length>=param;},$.mage.__('Please enter at least {0} characters')],'validate-no-utf8mb4-characters':[function(value){var validator=this,message=$.mage.__('Please remove invalid characters: {0}.'),matches=value.match(/(?:[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/g),result=matches===null;if(!result){validator.charErrorMessage=message.replace('{0}',matches.join());}\nreturn result;},function(){return this.charErrorMessage;}],'email2':[function(value,element){return this.optional(element)||/^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)*(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?$/i.test(value);},$.validator.messages.email],'url2':[function(value,element){return this.optional(element)||/^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)*(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i.test(value);},$.validator.messages.url],'credit-card-types':[function(value,element,param){var validTypes;if(/[^0-9-]+/.test(value)){return false;}\nvalue=value.replace(/\\D/g,'');validTypes=0x0000;if(param.mastercard){validTypes|=0x0001;}\nif(param.visa){validTypes|=0x0002;}\nif(param.amex){validTypes|=0x0004;}\nif(param.dinersclub){validTypes|=0x0008;}\nif(param.enroute){validTypes|=0x0010;}\nif(param.discover){validTypes|=0x0020;}\nif(param.jcb){validTypes|=0x0040;}\nif(param.unknown){validTypes|=0x0080;}\nif(param.all){validTypes=0x0001|0x0002|0x0004|0x0008|0x0010|0x0020|0x0040|0x0080;}\nif(validTypes&0x0001&&/^(51|52|53|54|55)/.test(value)){return value.length===16;}\nif(validTypes&0x0002&&/^(4)/.test(value)){return value.length===16;}\nif(validTypes&0x0004&&/^(34|37)/.test(value)){return value.length===15;}\nif(validTypes&0x0008&&/^(300|301|302|303|304|305|36|38)/.test(value)){return value.length===14;}\nif(validTypes&0x0010&&/^(2014|2149)/.test(value)){return value.length===15;}\nif(validTypes&0x0020&&/^(6011)/.test(value)){return value.length===16;}\nif(validTypes&0x0040&&/^(3)/.test(value)){return value.length===16;}\nif(validTypes&0x0040&&/^(2131|1800)/.test(value)){return value.length===15;}\nif(validTypes&0x0080){return true;}\nreturn false;},$.mage.__('Please enter a valid credit card number.')],'ipv4':[function(value,element){return this.optional(element)||/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i.test(value);},$.mage.__('Please enter a valid IP v4 address.')],'ipv6':[function(value,element){return this.optional(element)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(value);},$.mage.__('Please enter a valid IP v6 address.')],'pattern':[function(value,element,param){return this.optional(element)||new RegExp(param).test(value);},$.mage.__('Invalid format.')],'allow-container-className':[function(element){if(element.type==='radio'||element.type==='checkbox'){return $(element).hasClass('change-container-classname');}},''],'validate-no-html-tags':[function(value){return!/<(\\/)?\\w+/.test(value);},$.mage.__('HTML tags are not allowed.')],'validate-select':[function(value){return value!=='none'&&value!=null&&value.length!==0;},$.mage.__('Please select an option.')],'validate-no-empty':[function(value){return!$.mage.isEmpty(value);},$.mage.__('Empty Value.')],'validate-alphanum-with-spaces':[function(v){return $.mage.isEmptyNoTrim(v)||/^[a-zA-Z0-9 ]+$/.test(v);},$.mage.__('Please use only letters (a-z or A-Z), numbers (0-9) or spaces only in this field.')],'validate-data':[function(v){return $.mage.isEmptyNoTrim(v)||/^[A-Za-z]+[A-Za-z0-9_]+$/.test(v);},$.mage.__('Please use only letters (a-z or A-Z), numbers (0-9) or underscore (_) in this field, and the first character should be a letter.')],'validate-street':[function(v){return $.mage.isEmptyNoTrim(v)||/^[ \\w]{3,}([A-Za-z]\\.)?([ \\w]*\\#\\d+)?(\\r\\n| )[ \\w]{3,}/.test(v);},$.mage.__('Please use only letters (a-z or A-Z), numbers (0-9), spaces and \"#\" in this field.')],'validate-phoneStrict':[function(v){return $.mage.isEmptyNoTrim(v)||/^(\\()?\\d{3}(\\))?(-|\\s)?\\d{3}(-|\\s)\\d{4}$/.test(v);},$.mage.__('Please enter a valid phone number. For example (123) 456-7890 or 123-456-7890.')],'validate-phoneLax':[function(v){return $.mage.isEmptyNoTrim(v)||/^((\\d[\\-. ]?)?((\\(\\d{3}\\))|\\d{3}))?[\\-. ]?\\d{3}[\\-. ]?\\d{4}$/.test(v);},$.mage.__('Please enter a valid phone number. For example (123) 456-7890 or 123-456-7890.')],'validate-fax':[function(v){return $.mage.isEmptyNoTrim(v)||/^(\\()?\\d{3}(\\))?(-|\\s)?\\d{3}(-|\\s)\\d{4}$/.test(v);},$.mage.__('Please enter a valid fax number (Ex: 123-456-7890).')],'validate-email':[function(v){return $.mage.isEmptyNoTrim(v)||/^([a-z0-9,!\\#\\$%&'\\*\\+\\/=\\?\\^_`\\{\\|\\}~-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z0-9,!\\#\\$%&'\\*\\+\\/=\\?\\^_`\\{\\|\\}~-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*@([a-z0-9-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z0-9-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*\\.(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]){2,})$/i.test(v);},$.mage.__('Please enter a valid email address (Ex: johndoe@domain.com).')],'validate-emailSender':[function(v){return $.mage.isEmptyNoTrim(v)||/^[\\S ]+$/.test(v);},$.mage.__('Please enter a valid email address (Ex: johndoe@domain.com).')],'validate-password':[function(v){var pass;if(v==null){return false;}\npass=v.trim();if(!pass.length){return true;}\nreturn!(pass.length>0&&pass.length<6);},$.mage.__('Please enter 6 or more characters. Leading and trailing spaces will be ignored.')],'validate-admin-password':[function(v){var pass;if(v==null){return false;}\npass=v.trim();if(pass.length===0){return true;}\nif(!/[a-z]/i.test(v)||!/[0-9]/.test(v)){return false;}\nif(pass.length<7){return false;}\nreturn true;},$.mage.__('Please enter 7 or more characters, using both numeric and alphabetic.')],'validate-customer-password':[function(v,elm){var validator=this,counter=0,passwordMinLength=$(elm).data('password-min-length'),passwordMinCharacterSets=$(elm).data('password-min-character-sets'),pass=v.trim(),result=pass.length>=passwordMinLength;if(result===false){validator.passwordErrorMessage=$.mage.__('Minimum length of this field must be equal or greater than %1 symbols. Leading and trailing spaces will be ignored.').replace('%1',passwordMinLength);return result;}\nif(pass.match(/\\d+/)){counter++;}\nif(pass.match(/[a-z]+/)){counter++;}\nif(pass.match(/[A-Z]+/)){counter++;}\nif(pass.match(/[^a-zA-Z0-9]+/)){counter++;}\nif(counter<passwordMinCharacterSets){result=false;validator.passwordErrorMessage=$.mage.__('Minimum of different classes of characters in password is %1. Classes of characters: Lower Case, Upper Case, Digits, Special Characters.').replace('%1',passwordMinCharacterSets);}\nreturn result;},function(){return this.passwordErrorMessage;}],'validate-url':[function(v){if($.mage.isEmptyNoTrim(v)){return true;}\nv=(v||'').replace(/^\\s+/,'').replace(/\\s+$/,'');return(/^(http|https|ftp):\\/\\/(([A-Z0-9]([A-Z0-9_-]*[A-Z0-9]|))(\\.[A-Z0-9]([A-Z0-9_-]*[A-Z0-9]|))*)(:(\\d+))?(\\/[A-Z0-9~](([A-Z0-9_~-]|\\.)*[A-Z0-9~]|))*\\/?(.*)?$/i).test(v);},$.mage.__('Please enter a valid URL. Protocol is required (http://, https:// or ftp://).')],'validate-clean-url':[function(v){return $.mage.isEmptyNoTrim(v)||/^(http|https|ftp):\\/\\/(([A-Z0-9][A-Z0-9_-]*)(\\.[A-Z0-9][A-Z0-9_-]*)+.(com|org|net|dk|at|us|tv|info|uk|co.uk|biz|se)$)(:(\\d+))?\\/?/i.test(v)||/^(www)((\\.[A-Z0-9][A-Z0-9_-]*)+.(com|org|net|dk|at|us|tv|info|uk|co.uk|biz|se)$)(:(\\d+))?\\/?/i.test(v);},$.mage.__('Please enter a valid URL. For example http://www.example.com or www.example.com.')],'validate-xml-identifier':[function(v){return $.mage.isEmptyNoTrim(v)||/^[A-Z][A-Z0-9_\\/-]*$/i.test(v);},$.mage.__('Please enter a valid XML-identifier (Ex: something_1, block5, id-4).')],'validate-ssn':[function(v){return $.mage.isEmptyNoTrim(v)||/^\\d{3}-?\\d{2}-?\\d{4}$/.test(v);},$.mage.__('Please enter a valid social security number (Ex: 123-45-6789).')],'validate-zip-us':[function(v){return $.mage.isEmptyNoTrim(v)||/(^\\d{5}$)|(^\\d{5}-\\d{4}$)/.test(v);},$.mage.__('Please enter a valid zip code (Ex: 90602 or 90602-1234).')],'validate-date-au':[function(v){var regex,d;if($.mage.isEmptyNoTrim(v)){return true;}\nregex=/^(\\d{2})\\/(\\d{2})\\/(\\d{4})$/;if($.mage.isEmpty(v)||!regex.test(v)){return false;}\nd=new Date(v.replace(regex,'$2/$1/$3'));return parseInt(RegExp.$2,10)===1+d.getMonth()&&parseInt(RegExp.$1,10)===d.getDate()&&parseInt(RegExp.$3,10)===d.getFullYear();},$.mage.__('Please use this date format: dd/mm/yyyy. For example 17/03/2006 for the 17th of March, 2006.')],'validate-currency-dollar':[function(v){return $.mage.isEmptyNoTrim(v)||/^\\$?\\-?([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}\\d*(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$/.test(v);},$.mage.__('Please enter a valid $ amount. For example $100.00.')],'validate-not-negative-number':[function(v){if($.mage.isEmptyNoTrim(v)){return true;}\nv=$.mage.parseNumber(v);return!isNaN(v)&&v>=0;},$.mage.__('Please enter a number 0 or greater in this field.')],'validate-zero-or-greater':[function(v){if($.mage.isEmptyNoTrim(v)){return true;}\nv=$.mage.parseNumber(v);return!isNaN(v)&&v>=0;},$.mage.__('Please enter a number 0 or greater in this field.')],'validate-greater-than-zero':[function(v){if($.mage.isEmptyNoTrim(v)){return true;}\nv=$.mage.parseNumber(v);return!isNaN(v)&&v>0;},$.mage.__('Please enter a number greater than 0 in this field.')],'validate-css-length':[function(v){if(v!==''){return(/^[0-9]*\\.*[0-9]+(px|pc|pt|ex|em|mm|cm|in|%)?$/).test(v);}\nreturn true;},$.mage.__('Please input a valid CSS-length (Ex: 100px, 77pt, 20em, .5ex or 50%).')],'validate-number':[function(v){return $.mage.isEmptyNoTrim(v)||!isNaN($.mage.parseNumber(v))&&/^\\s*-?\\d*(\\.\\d*)?\\s*$/.test(v);},$.mage.__('Please enter a valid number in this field.')],'required-number':[function(v){return!!v.length;},$.mage.__('Please enter a valid number in this field.')],'validate-number-range':[function(v,elm,param){var numValue,dataAttrRange,classNameRange,result,range,m,classes,ii;if($.mage.isEmptyNoTrim(v)){return true;}\nnumValue=$.mage.parseNumber(v);if(isNaN(numValue)){return false;}\ndataAttrRange=/^(-?[\\d.,]+)?-(-?[\\d.,]+)?$/;classNameRange=/^number-range-(-?[\\d.,]+)?-(-?[\\d.,]+)?$/;result=true;range=param;if(typeof range==='string'){m=dataAttrRange.exec(range);if(m){result=result&&$.mage.isBetween(numValue,m[1],m[2]);}else{result=false;}}else if(elm&&elm.className){classes=elm.className.split(' ');ii=classes.length;while(ii--){range=classes[ii];m=classNameRange.exec(range);if(m){result=result&&$.mage.isBetween(numValue,m[1],m[2]);break;}}}\nreturn result;},$.mage.__('The value is not within the specified range.'),true],'validate-digits':[function(v){return $.mage.isEmptyNoTrim(v)||!/[^\\d]/.test(v);},$.mage.__('Please enter a valid number in this field.')],'validate-forbidden-extensions':[function(v,elem){var forbiddenExtensions=$(elem).attr('data-validation-params'),forbiddenExtensionsArray=forbiddenExtensions.split(','),extensionsArray=v.split(','),result=true;this.validateExtensionsMessage=$.mage.__('Forbidden extensions has been used. Avoid usage of ')+\nforbiddenExtensions;$.each(extensionsArray,function(key,extension){if(forbiddenExtensionsArray.indexOf(extension)!==-1){result=false;}});return result;},function(){return this.validateExtensionsMessage;}],'validate-digits-range':[function(v,elm,param){var numValue,dataAttrRange,classNameRange,result,range,m,classes,ii;if($.mage.isEmptyNoTrim(v)){return true;}\nnumValue=$.mage.parseNumber(v);if(isNaN(numValue)){return false;}\ndataAttrRange=/^(-?\\d+)?-(-?\\d+)?$/;classNameRange=/^digits-range-(-?\\d+)?-(-?\\d+)?$/;result=true;range=param;if(typeof range==='string'){m=dataAttrRange.exec(range);if(m){result=result&&$.mage.isBetween(numValue,m[1],m[2]);}else{result=false;}}else if(elm&&elm.className){classes=elm.className.split(' ');ii=classes.length;while(ii--){range=classes[ii];m=classNameRange.exec(range);if(m){result=result&&$.mage.isBetween(numValue,m[1],m[2]);break;}}}\nreturn result;},$.mage.__('The value is not within the specified range.'),true],'validate-range':[function(v,elm){var minValue,maxValue,ranges,reRange,result,values,i,name,validRange,minValidRange,maxValidRange;if($.mage.isEmptyNoTrim(v)){return true;}else if($.validator.methods['validate-digits']&&$.validator.methods['validate-digits'](v)){minValue=maxValue=$.mage.parseNumber(v);}else{ranges=/^(-?\\d+)?-(-?\\d+)?$/.exec(v);if(ranges){minValue=$.mage.parseNumber(ranges[1]);maxValue=$.mage.parseNumber(ranges[2]);if(minValue>maxValue){return false;}}else{return false;}}\nreRange=/^range-(-?\\d+)?-(-?\\d+)?$/;result=true;values=$(elm).prop('class').split(' ');for(i=values.length-1;i>=0;i--){name=values[i];validRange=reRange.exec(name);if(validRange){minValidRange=$.mage.parseNumber(validRange[1]);maxValidRange=$.mage.parseNumber(validRange[2]);result=result&&(isNaN(minValidRange)||minValue>=minValidRange)&&(isNaN(maxValidRange)||maxValue<=maxValidRange);}}\nreturn result;},$.mage.__('The value is not within the specified range.')],'validate-alpha':[function(v){return $.mage.isEmptyNoTrim(v)||/^[a-zA-Z]+$/.test(v);},$.mage.__('Please use letters only (a-z or A-Z) in this field.')],'validate-code':[function(v){return $.mage.isEmptyNoTrim(v)||/^[a-zA-Z]+[a-zA-Z0-9_]+$/.test(v);},$.mage.__('Please use only letters (a-z or A-Z), numbers (0-9) or underscore (_) in this field, and the first character should be a letter.')],'validate-alphanum':[function(v){return $.mage.isEmptyNoTrim(v)||/^[a-zA-Z0-9]+$/.test(v);},$.mage.__('Please use only letters (a-z or A-Z) or numbers (0-9) in this field. No spaces or other characters are allowed.')],'validate-not-number-first':[function(value){return $.mage.isEmptyNoTrim(value)||/^[^0-9-\\.].*$/.test(value.trim());},$.mage.__('First character must be letter.')],'validate-date':[function(value,params,additionalParams){var test=moment(value,utils.convertToMomentFormat(additionalParams.dateFormat));return $.mage.isEmptyNoTrim(value)||test.isValid();},$.mage.__('Please enter a valid date.')],'validate-date-range':[function(v,elm){var m=/\\bdate-range-(\\w+)-(\\w+)\\b/.exec(elm.className),currentYear,normalizedTime,dependentElements;if(!m||m[2]==='to'||$.mage.isEmptyNoTrim(v)){return true;}\ncurrentYear=new Date().getFullYear()+'';normalizedTime=function(vd){vd=vd.split(/[.\\/]/);if(vd[2]&&vd[2].length<4){vd[2]=currentYear.substr(0,vd[2].length)+vd[2];}\nreturn new Date(vd.join('/')).getTime();};dependentElements=$(elm.form).find('.validate-date-range.date-range-'+m[1]+'-to');return!dependentElements.length||$.mage.isEmptyNoTrim(dependentElements[0].value)||normalizedTime(v)<=normalizedTime(dependentElements[0].value);},$.mage.__('Make sure the To Date is later than or the same as the From Date.')],'validate-cpassword':[function(){var conf=$('#confirmation').length>0?$('#confirmation'):$($('.validate-cpassword')[0]),pass=false,passwordElements,i,passwordElement;if($('#password')){pass=$('#password');}\npasswordElements=$('.validate-password');for(i=0;i<passwordElements.length;i++){passwordElement=$(passwordElements[i]);if(passwordElement.closest('form').attr('id')===conf.closest('form').attr('id')){pass=passwordElement;}}\nif($('.validate-admin-password').length){pass=$($('.validate-admin-password')[0]);}\nreturn pass.val()===conf.val();},$.mage.__('Please make sure your passwords match.')],'validate-identifier':[function(v){return $.mage.isEmptyNoTrim(v)||/^[a-z0-9][a-z0-9_\\/-]+(\\.[a-z0-9_-]+)?$/.test(v);},$.mage.__('Please enter a valid URL Key (Ex: \"example-page\", \"example-page.html\" or \"anotherlevel/example-page\").')],'validate-zip-international':[function(){return true;},$.mage.__('Please enter a valid zip code.')],'validate-one-required':[function(v,elm){var p=$(elm).parent(),options=p.find('input');return options.map(function(el){return $(el).val();}).length>0;},$.mage.__('Please select one of the options above.')],'validate-state':[function(v){return v!==0;},$.mage.__('Please select State/Province.')],'required-file':[function(v,elm){var result=!$.mage.isEmptyNoTrim(v),ovId;if(!result){ovId=$('#'+$(elm).attr('id')+'_value');if(ovId.length>0){result=!$.mage.isEmptyNoTrim(ovId.val());}}\nreturn result;},$.mage.__('Please select a file.')],'validate-ajax-error':[function(v,element){element=$(element);element.on('change.ajaxError',function(){element.removeClass('validate-ajax-error');element.off('change.ajaxError');});return!element.hasClass('validate-ajax-error');},''],'validate-optional-datetime':[function(v,elm,param){var dateTimeParts=$('.datetime-picker[id^=\"options_'+param+'\"]'),hasWithValue=false,hasWithNoValue=false,pattern=/day_part$/i,i;for(i=0;i<dateTimeParts.length;i++){if(!pattern.test($(dateTimeParts[i]).attr('id'))){if($(dateTimeParts[i]).val()==='s'){hasWithValue=true;}else{hasWithNoValue=true;}}}\nreturn hasWithValue^hasWithNoValue;},$.mage.__('The field isn\\'t complete.')],'validate-required-datetime':[function(v,elm,param){var dateTimeParts=$('.datetime-picker[id^=\"options_'+param+'\"]'),i;for(i=0;i<dateTimeParts.length;i++){if(dateTimeParts[i].value===''){return false;}}\nreturn true;},$.mage.__('This is a required field.')],'validate-one-required-by-name':[function(v,elm,selector){var name=elm.name.replace(/([\\\\\"])/g,'\\\\$1'),container=this.currentForm;selector=selector===true?'input[name=\"'+name+'\"]:checked':selector;return!!container.querySelectorAll(selector).length;},$.mage.__('Please select one of the options.')],'less-than-equals-to':[function(value,element,params){if($.isNumeric($(params).val())&&$.isNumeric(value)){this.lteToVal=$(params).val();return parseFloat(value)<=parseFloat($(params).val());}\nreturn true;},function(){var message=$.mage.__('Please enter a value less than or equal to %s.');return message.replace('%s',this.lteToVal);}],'greater-than-equals-to':[function(value,element,params){if($.isNumeric($(params).val())&&$.isNumeric(value)){this.gteToVal=$(params).val();return parseFloat(value)>=parseFloat($(params).val());}\nreturn true;},function(){var message=$.mage.__('Please enter a value greater than or equal to %s.');return message.replace('%s',this.gteToVal);}],'validate-emails':[function(value){var validRegexp,emails,i;if($.mage.isEmpty(value)){return true;}\nvalidRegexp=/^([a-z0-9,!\\#\\$%&'\\*\\+\\/=\\?\\^_`\\{\\|\\}~-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z0-9,!\\#\\$%&'\\*\\+\\/=\\?\\^_`\\{\\|\\}~-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*@([a-z0-9-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z0-9-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*\\.(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]){2,})$/i;emails=value.split(/[\\s\\n\\,]+/g);for(i=0;i<emails.length;i++){if(!validRegexp.test(emails[i].trim())){return false;}}\nreturn true;},$.mage.__('Please enter valid email addresses, separated by commas. For example, johndoe@domain.com, johnsmith@domain.com.')],'validate-cc-type-select':[function(value,element,params){if(value&&params&&creditCartTypes[value]){return creditCartTypes[value][0].test($(params).val().replace(/\\s+/g,''));}\nreturn false;},$.mage.__('Card type does not match credit card number.')],'validate-cc-number':[function(value){if(value){return validateCreditCard(value);}\nreturn false;},$.mage.__('Please enter a valid credit card number.')],'validate-cc-type':[function(value,element,params){var ccType;if(value&&params){ccType=$(params).val();value=value.replace(/\\s/g,'').replace(/\\-/g,'');if(creditCartTypes[ccType]&&creditCartTypes[ccType][0]){return creditCartTypes[ccType][0].test(value);}else if(creditCartTypes[ccType]&&!creditCartTypes[ccType][0]){return true;}}\nreturn false;},$.mage.__('Credit card number does not match credit card type.')],'validate-cc-exp':[function(value,element,params){var isValid=false,month,year,currentTime,currentMonth,currentYear;if(value&&params){month=value;year=$(params).val();currentTime=new Date();currentMonth=currentTime.getMonth()+1;currentYear=currentTime.getFullYear();isValid=!year||year>currentYear||year==currentYear&&month>=currentMonth;}\nreturn isValid;},$.mage.__('Incorrect credit card expiration date.')],'validate-cc-cvn':[function(value,element,params){var ccType;if(value&&params){ccType=$(params).val();if(creditCartTypes[ccType]&&creditCartTypes[ccType][0]){return creditCartTypes[ccType][1].test(value);}}\nreturn false;},$.mage.__('Please enter a valid credit card verification number.')],'validate-cc-ukss':[function(value){return value;},$.mage.__('Please enter issue number or start date for switch/solo card type.')],'validate-length':[function(v,elm){var reMax=new RegExp(/^maximum-length-[0-9]+$/),reMin=new RegExp(/^minimum-length-[0-9]+$/),validator=this,result=true,length=0;$.each(elm.className.split(' '),function(index,name){if(name.match(reMax)&&result){length=name.split('-')[2];result=v.length<=length;validator.validateMessage=$.mage.__('Please enter less or equal than %1 symbols.').replace('%1',length);}\nif(name.match(reMin)&&result&&!$.mage.isEmpty(v)){length=name.split('-')[2];result=v.length>=length;validator.validateMessage=$.mage.__('Please enter more or equal than %1 symbols.').replace('%1',length);}});return result;},function(){return this.validateMessage;}],'required-entry':[function(value){return!$.mage.isEmpty(value);},$.mage.__('This is a required field.')],'not-negative-amount':[function(v){if(v.length){return(/^\\s*\\d+([,.]\\d+)*\\s*%?\\s*$/).test(v);}\nreturn true;},$.mage.__('Please enter positive number in this field.')],'validate-per-page-value-list':[function(v){var isValid=true,values=v.split(','),i;if($.mage.isEmpty(v)){return isValid;}\nfor(i=0;i<values.length;i++){if(!/^[0-9]+$/.test(values[i])){isValid=false;}}\nreturn isValid;},$.mage.__('Please enter a valid value, ex: 10,20,30')],'validate-per-page-value':[function(v,elm){var values;if($.mage.isEmpty(v)){return false;}\nvalues=$('#'+elm.id+'_values').val().split(',');return values.indexOf(v)!==-1;},$.mage.__('Please enter a valid value from list')],'validate-new-password':[function(v){if($.validator.methods['validate-password']&&!$.validator.methods['validate-password'](v)){return false;}\nif($.mage.isEmpty(v)&&v!==''){return false;}\nreturn true;},$.mage.__('Please enter 6 or more characters. Leading and trailing spaces will be ignored.')],'required-if-not-specified':[function(value,element,params){var valid=false,alternate=$(params),alternateValue;if(alternate.length>0){valid=this.check(alternate);if(valid){alternateValue=alternate.val();if(typeof alternateValue=='undefined'||alternateValue.length===0){valid=false;}}}\nif(!valid){valid=!this.optional(element);}\nreturn valid;},$.mage.__('This is a required field.')],'required-if-all-sku-empty-and-file-not-loaded':[function(value,element,params){var valid=false,alternate=$(params.specifiedId),alternateValue;if(alternate.length>0){valid=this.check(alternate);if(valid){alternateValue=alternate.val();if(typeof alternateValue=='undefined'||alternateValue.length===0){valid=false;}}}\nif(!valid){valid=!this.optional(element);}\n$('input['+params.dataSku+'=true]').each(function(){if($(this).val()!==''){valid=true;}});return valid;},$.mage.__('Please enter valid SKU key.')],'required-if-specified':[function(value,element,params){var valid=true,dependent=$(params),dependentValue;if(dependent.length>0){valid=this.check(dependent);if(valid){dependentValue=dependent.val();valid=typeof dependentValue!='undefined'&&dependentValue.length>0;}}\nif(valid){valid=!this.optional(element);}else{valid=true;}\nreturn valid;},$.mage.__('This is a required field.')],'required-number-if-specified':[function(value,element,params){var valid=true,dependent=$(params),depeValue;if(dependent.length){valid=this.check(dependent);if(valid){depeValue=dependent[0].value;valid=!!(depeValue&&depeValue.length);}}\nreturn valid?!!value.length:true;},$.mage.__('Please enter a valid number.')],'datetime-validation':[function(value,element){var isValid=true;if($(element).val().length===0){isValid=false;$(element).addClass('mage-error');}\nreturn isValid;},$.mage.__('This is required field')],'required-text-swatch-entry':[tableSingleValidation,$.mage.__('Admin is a required field in each row.')],'required-visual-swatch-entry':[tableSingleValidation,$.mage.__('Admin is a required field in each row.')],'required-dropdown-attribute-entry':[tableSingleValidation,$.mage.__('Admin is a required field in each row.')],'validate-item-quantity':[function(value,element,params){var validator=this,result=false,qty=$.mage.parseNumber(value),isMinAllowedValid=typeof params.minAllowed==='undefined'||qty>=$.mage.parseNumber(params.minAllowed),isMaxAllowedValid=typeof params.maxAllowed==='undefined'||qty<=$.mage.parseNumber(params.maxAllowed),isQtyIncrementsValid=typeof params.qtyIncrements==='undefined'||resolveModulo(qty,$.mage.parseNumber(params.qtyIncrements))===0.0;result=qty>0;if(result===false){validator.itemQtyErrorMessage=$.mage.__('Please enter a quantity greater than 0.');return result;}\nresult=isMinAllowedValid;if(result===false){validator.itemQtyErrorMessage=$.mage.__('The fewest you may purchase is %1.').replace('%1',params.minAllowed);return result;}\nresult=isMaxAllowedValid;if(result===false){validator.itemQtyErrorMessage=$.mage.__('The maximum you may purchase is %1.').replace('%1',params.maxAllowed);return result;}\nresult=isQtyIncrementsValid;if(result===false){validator.itemQtyErrorMessage=$.mage.__('You can buy this product only in quantities of %1 at a time.').replace('%1',params.qtyIncrements);return result;}\nreturn result;},function(){return this.itemQtyErrorMessage;}],'password-not-equal-to-user-name':[function(value,element,params){if(typeof params==='string'){return value.toLowerCase()!==params.toLowerCase();}\nreturn true;},$.mage.__('The password can\\'t be the same as the email address. Create a new password and try again.')]};$.each(rules,function(i,rule){rule.unshift(i);$.validator.addMethod.apply($.validator,rule);});$.validator.addClassRules({'required-option':{required:true},'required-options-count':{required:true},'validate-both-passwords':{'validate-cpassword':true}});$.validator.messages=$.extend($.validator.messages,{required:$.mage.__('This is a required field.'),remote:$.mage.__('Please fix this field.'),email:$.mage.__('Please enter a valid email address.'),url:$.mage.__('Please enter a valid URL.'),date:$.mage.__('Please enter a valid date.'),dateISO:$.mage.__('Please enter a valid date (ISO).'),number:$.mage.__('Please enter a valid number.'),digits:$.mage.__('Please enter only digits.'),creditcard:$.mage.__('Please enter a valid credit card number.'),equalTo:$.mage.__('Please enter the same value again.'),maxlength:$.validator.format($.mage.__('Please enter no more than {0} characters.')),minlength:$.validator.format($.mage.__('Please enter at least {0} characters.')),rangelength:$.validator.format($.mage.__('Please enter a value between {0} and {1} characters long.')),range:$.validator.format($.mage.__('Please enter a value between {0} and {1}.')),max:$.validator.format($.mage.__('Please enter a value less than or equal to {0}.')),min:$.validator.format($.mage.__('Please enter a value greater than or equal to {0}.'))});if($.metadata){$.metadata.setType('html5');}\nshowLabel=$.validator.prototype.showLabel;$.extend(true,$.validator.prototype,{showLabel:function(element,message){var label,elem;showLabel.call(this,element,message);label=this.errorsFor(element);elem=$(element);if(!label.attr('id')){label.attr('id',this.idOrName(element)+'-error');}\nelem.attr('aria-invalid','true').attr('aria-describedby',label.attr('id'));}});$.validator.validateElement=function(element){var form,validator,valid,classes;element=$(element);form=element.get(0).form;validator=form?$(form).data('validator'):null;if(validator){return validator.element(element.get(0));}\nvalid=true;classes=element.prop('class').split(' ');$.each(classes,$.proxy(function(i,className){if(this.methods[className]&&!this.methods[className](element.val(),element.get(0))){valid=false;return valid;}},this));return valid;};originValidateDelegate=$.fn.validateDelegate;$.fn.validateDelegate=function(){if(!this[0].form){return this;}\nreturn originValidateDelegate.apply(this,arguments);};$.validator.validateSingleElement=function(element,config){var errors={},valid=true,validateConfig={errorElement:'label',ignore:'.ignore-validate',hideError:false},form,validator,classes,elementValue;$.extend(validateConfig,config);element=$(element).not(validateConfig.ignore);if(!element.length){return true;}\nform=element.get(0).form;validator=form?$(form).data('validator'):null;if(validator){return validator.element(element.get(0));}\nclasses=element.prop('class').split(' ');validator=element.parent().data('validator')||$.mage.validation(validateConfig,element.parent()).validate;element.removeClass(validator.settings.errorClass);validator.toHide=validator.toShow;validator.hideErrors();validator.toShow=validator.toHide=$([]);$.each(classes,$.proxy(function(i,className){elementValue=element.val();if(element.is(':checkbox')||element.is(':radio')){elementValue=element.is(':checked')||null;}\nif(this.methods[className]&&!this.methods[className](elementValue,element.get(0))){valid=false;errors[element.get(0).name]=this.messages[className];validator.invalid[element.get(0).name]=true;if(!validateConfig.hideError){validator.showErrors(errors);}\nreturn valid;}},this));return valid;};$.widget('mage.validation',{options:{meta:'validate',onfocusout:false,onkeyup:false,onclick:false,ignoreTitle:true,errorClass:'mage-error',errorElement:'div',errorPlacement:function(error,element){var errorPlacement=element,fieldWrapper;if(element.hasClass('_has-datepicker')){errorPlacement=element.siblings('button');}\nfieldWrapper=element.closest('.addon');if(fieldWrapper.length){errorPlacement=fieldWrapper.after(error);}\nif(element.is(':checkbox')||element.is(':radio')){errorPlacement=element.parents('.control').children().last();if(!errorPlacement.length){errorPlacement=element.siblings('label').last();}}\nif(element.siblings('.tooltip').length){errorPlacement=element.siblings('.tooltip');}\nif(element.next().find('.tooltip').length){errorPlacement=element.next();}\nerrorPlacement.after(error);}},isValid:function(){return this.element.valid();},clearError:function(){if(arguments.length){$.each(arguments,$.proxy(function(index,item){this.validate.prepareElement(item);this.validate.hideErrors();},this));}else{this.validate.resetForm();}},_create:function(){this.validate=this.element.validate(this.options);this.element.find('.field.required').find('.control').find('input, select, textarea').attr('aria-required','true');this._listenFormValidate();},_listenFormValidate:function(){$('form').on('invalid-form.validate',this.listenFormValidateHandler);},listenFormValidateHandler:function(event,validation){var firstActive=$(validation.errorList[0].element||[]),lastActive=$(validation.findLastActive()||validation.errorList.length&&validation.errorList[0].element||[]),windowHeight=$(window).height(),parent,successList;if(lastActive.is(':hidden')){parent=lastActive.parent();$('html, body').animate({scrollTop:parent.offset().top-windowHeight / 2});}\nsuccessList=validation.successList;if(successList.length){$.each(successList,function(){$(this).removeAttr('aria-describedby').removeAttr('aria-invalid');});}\nif(firstActive.length){$('html, body').stop().animate({scrollTop:firstActive.parent().offset().top-windowHeight / 2});firstActive.focus();}}});return $.mage.validation;});","mage/adminhtml/accordion.min.js":"define(['prototype'],function(){window.varienAccordion=new Class.create();varienAccordion.prototype={initialize:function(containerId,activeOnlyOne){var links,i;this.containerId=containerId;this.activeOnlyOne=activeOnlyOne||false;this.container=$(this.containerId);this.items=$$('#'+this.containerId+' dt');this.loader=new varienLoader(true);links=$$('#'+this.containerId+' dt a');for(i in links){if(links[i].href){Event.observe(links[i],'click',this.clickItem.bind(this));this.items[i].dd=this.items[i].next('dd');this.items[i].link=links[i];}}\nthis.initFromCookie();},initFromCookie:function(){var activeItemId,visibility;if(this.activeOnlyOne&&(activeItemId=Cookie.read(this.cookiePrefix()+'active-item'))!==null){this.hideAllItems();this.showItem(this.getItemById(activeItemId));}else if(!this.activeOnlyOne){this.items.each(function(item){if((visibility=Cookie.read(this.cookiePrefix()+item.id))!==null){if(visibility==0){this.hideItem(item);}else{this.showItem(item);}}}.bind(this));}},cookiePrefix:function(){return'accordion-'+this.containerId+'-';},getItemById:function(itemId){var result=null;this.items.each(function(item){if(item.id==itemId){result=item;throw $break;}});return result;},clickItem:function(event){var item=Event.findElement(event,'dt');if(this.activeOnlyOne){this.hideAllItems();this.showItem(item);Cookie.write(this.cookiePrefix()+'active-item',item.id,30*24*60*60);}else{if(this.isItemVisible(item)){this.hideItem(item);Cookie.write(this.cookiePrefix()+item.id,0,30*24*60*60);}else{this.showItem(item);Cookie.write(this.cookiePrefix()+item.id,1,30*24*60*60);}}\nEvent.stop(event);},showItem:function(item){if(item&&item.link){if(item.link.href){this.loadContent(item);}\nElement.addClassName(item,'open');Element.addClassName(item.dd,'open');}},hideItem:function(item){Element.removeClassName(item,'open');Element.removeClassName(item.dd,'open');},isItemVisible:function(item){return Element.hasClassName(item,'open');},loadContent:function(item){if(item.link.href.indexOf('#')==item.link.href.length-1){return;}\nif(Element.hasClassName(item.link,'ajax')){this.loadingItem=item;this.loader.load(item.link.href,{updaterId:this.loadingItem.dd.id},this.setItemContent.bind(this));return;}\nlocation.href=item.link.href;},setItemContent:function(content){if(content.isJSON){return;}\nthis.loadingItem.dd.innerHTML=content;},hideAllItems:function(){var i;for(i in this.items){if(this.items[i].id){Element.removeClassName(this.items[i],'open');Element.removeClassName(this.items[i].dd,'open');}}}};});","mage/adminhtml/backup.min.js":"define(['jquery','Magento_Ui/js/modal/modal','mage/mage','prototype'],function(jQuery){window.AdminBackup=new Class.create();AdminBackup.prototype={initialize:function(){this.reset();this.rollbackUrl=this.backupUrl='';},reset:function(){this.time=0;this.type='';},backup:function(type){this.reset();this.type=type;this.requestBackupOptions();return false;},rollback:function(type,time){this.reset();this.time=time;this.type=type;this.showRollbackWarning();return false;},showRollbackWarning:function(){this.showPopup('rollback-warning');},requestBackupOptions:function(){this.hidePopups();this.showPopup('backup-options');if(this.type==='snapshot'){jQuery('#exclude-media-checkbox-container').removeClass('no-display');}},requestPassword:function(){this.hidePopups();this.showPopup('rollback-request-password');this.type!='db'?$('use-ftp-checkbox-row').show():$('use-ftp-checkbox-row').hide();},toggleFtpCredentialsForm:function(){$('use_ftp').checked?$('ftp-credentials-container').show():$('ftp-credentials-container').hide();$$('#ftp-credentials-container input').each(function(item){if(item.name=='ftp_path'){return;}\n$('use_ftp').checked?item.addClassName('required-entry'):item.removeClassName('required-entry');});},submitBackup:function(){var data={'type':this.type,'maintenance_mode':$('backup_maintenance_mode').checked?1:0,'backup_name':$('backup_name').value,'exclude_media':$('exclude_media').checked?1:0};new Ajax.Request(this.backupUrl,{onSuccess:function(transport){this.processResponse(transport,'backup-options');}.bind(this),method:'post',parameters:data});this.modal.modal('closeModal');},submitRollback:function(){var data=this.getPostData();new Ajax.Request(this.rollbackUrl,{onSuccess:function(transport){this.processResponse(transport,'rollback-request-password');}.bind(this),method:'post',parameters:data});this.modal.modal('closeModal');},processResponse:function(transport,popupId){var json;if(!transport.responseText.isJSON()){return;}\njson=transport.responseText.evalJSON();if(json.error){this.showPopup(popupId);this.displayError(popupId,json.error);return;}\nif(json['redirect_url']){setLocation(json['redirect_url']);}},displayError:function(parentContainer,message){var messageHtml=this.getErrorMessageHtml(message);$$('#'+parentContainer+' .backup-messages .messages').invoke('update',messageHtml);$$('#'+parentContainer+' .backup-messages').invoke('show');},getErrorMessageHtml:function(message){return'<div class=\"message message-error error\"><div>'+message+'</div></div>';},getPostData:function(){var data=$('rollback-form').serialize(true);data.time=this.time;data.type=this.type;return data;},backupConfig:{'backup-options':{title:jQuery.mage.__('Backup options'),content:function(){return document.getElementById('backup-options-template').textContent;},actionOk:function(){this.modal.find('#backup-form').validation({submitHandler:jQuery.proxy(this.submitBackup,this)});this.modal.find('#backup-form').submit();}},'rollback-warning':{title:jQuery.mage.__('Warning'),content:function(){return document.getElementById('rollback-warning-template').textContent;},actionOk:function(){this.modal.modal('closeModal');this.requestPassword();}},'rollback-request-password':{title:jQuery.mage.__('Backup options'),content:function(){return document.getElementById('rollback-request-password-template').textContent;},actionOk:function(){this.modal.find('#rollback-form').validation({submitHandler:jQuery.proxy(this.submitRollback,this)});this.modal.find('#rollback-form').submit();},opened:function(){this.toggleFtpCredentialsForm();}}},showPopup:function(divId){var self=this;this.modal=jQuery('<div></div>').attr({id:divId}).html(this.backupConfig[divId].content()).modal({modalClass:'magento',title:this.backupConfig[divId].title,type:'slide',closed:function(e,modal){modal.modal.remove();},opened:function(){if(self.backupConfig[divId].opened){self.backupConfig[divId].opened.call(self);}},buttons:[{text:jQuery.mage.__('Cancel'),'class':'action cancel',click:function(){this.closeModal();}},{text:jQuery.mage.__('Ok'),'class':'action primary',click:function(){self.backupConfig[divId].actionOk.call(self);}}]});this.modal.modal('openModal');},hidePopups:function(){var mask;$$('.backup-dialog').each(Element.hide);mask=$('popup-window-mask');if(mask){mask.hide();}}};});","mage/adminhtml/browser.min.js":"define(['jquery','wysiwygAdapter','Magento_Ui/js/modal/prompt','Magento_Ui/js/modal/confirm','Magento_Ui/js/modal/alert','underscore','Magento_Ui/js/modal/modal','jquery/ui','jquery/jstree/jquery.jstree','mage/mage'],function($,wysiwyg,prompt,confirm,alert,_){window.MediabrowserUtility={windowId:'modal_dialog_message',modalLoaded:false,targetElementId:false,pathId:'',getMaxZIndex:function(){var max=0,cn=document.body.childNodes,i,el,zIndex;for(i=0;i<cn.length;i++){el=cn[i];zIndex=el.nodeType==1?parseInt(el.style.zIndex,10)||0:0;if(zIndex<10000){max=Math.max(max,zIndex);}}\nreturn max+10;},openDialog:function(url,width,height,title,options){var windowId=this.windowId,content='<div class=\"popup-window\" id=\"'+windowId+'\"></div>';if(this.modalLoaded){if(!_.isUndefined(options)){this.modal.modal('option','closed',options.closed);}\nthis.modal.modal('openModal');this.setTargetElementId(options,url);this.setPathId(url);$(window).trigger('reload.MediaGallery');return;}\nthis.modal=$(content).modal($.extend({title:title||'Insert File...',modalClass:'magento',type:'slide',buttons:[]},options));this.modal.modal('openModal');$.ajax({url:url,type:'get',context:$(this),showLoader:true}).done(function(data){this.modal.html(data).trigger('contentUpdated');this.modalLoaded=true;this.setTargetElementId(options,url);this.setPathId(url);}.bind(this));},setPathId:function(url){this.pathId=url.match(/(&|\\/|%26)current_tree_path(=|\\/)([\\s\\S].*?)(\\/|$)/)[3];},setTargetElementId:function(options,url){this.targetElementId=options&&options.targetElementId?options.targetElementId:url.match(/\\/target_element_id\\/([\\s\\S].*?)\\//)[1];},closeDialog:function(){this.modal.modal('closeModal');}};$.widget('mage.mediabrowser',{eventPrefix:'mediabrowser',options:{contentsUrl:null,onInsertUrl:null,newFolderUrl:null,deleteFolderUrl:null,deleteFilesUrl:null,headerText:null,tree:null,currentNode:null,storeId:null,showBreadcrumbs:null,hidden:'no-display'},_create:function(){this._on({'click [data-row=file]':'selectFile','dblclick [data-row=file]':'insert','click #new_folder':'newFolder','click #delete_folder':'deleteFolder','click #delete_files':'deleteFiles','click #insert_files':'insertSelectedFiles','fileuploaddone':'_uploadDone','click [data-row=breadcrumb]':'selectFolder'});$(window).on('reload.MediaGallery',$.proxy(this.reload,this));this.activeNode=null;this.tree=this.element.find('[data-role=tree]');this.tree.on('select_node.jstree',$.proxy(this._selectNode,this));},_selectNode:function(event,data){var node=data.node;this.activeNode=node;this.element.find('#delete_files, #insert_files').toggleClass(this.options.hidden,true);this.element.find('#contents').toggleClass(this.options.hidden,false);this.element.find('#delete_folder').toggleClass(this.options.hidden,node.id==='root');this.element.find('#content_header_text').html(node.id==='root'?this.headerText:node.text);this.drawBreadcrumbs(data);this.loadFileList(node);},reload:function(uploaded){return this.loadFileList(this.activeNode,uploaded);},insertAtCursor:function(element,value){var sel,startPos,endPos,scrollTop;if('selection'in document){element.focus();sel=document.selection.createRange();sel.text=value;element.focus();}else if(element.selectionStart||element.selectionStart=='0'){startPos=element.selectionStart;endPos=element.selectionEnd;scrollTop=element.scrollTop;element.value=element.value.substring(0,startPos)+value+\nelement.value.substring(startPos,endPos)+element.value.substring(endPos,element.value.length);element.focus();element.selectionStart=startPos+value.length;element.selectionEnd=startPos+value.length+element.value.substring(startPos,endPos).length;element.scrollTop=scrollTop;}else{element.value+=value;element.focus();}},loadFileList:function(node,uploaded){var contentBlock=this.element.find('#contents');return $.ajax({url:this.options.contentsUrl,type:'GET',dataType:'html',data:{'form_key':FORM_KEY,node:node?node.id:null},context:contentBlock,showLoader:true}).done(function(data){contentBlock.html(data).trigger('contentUpdated');if(uploaded){contentBlock.find('.filecnt:last').trigger('click');}});},selectFolder:function(event){this.element.find('[data-id=\"'+$(event.currentTarget).data('node').id+'\"]>a').trigger('click');},insertSelectedFiles:function(){this.element.find('[data-row=file].selected').trigger('dblclick');},selectFile:function(event){var fileRow=$(event.currentTarget);fileRow.toggleClass('selected');this.element.find('[data-row=file]').not(fileRow).removeClass('selected');this.element.find('#delete_files, #insert_files').toggleClass(this.options.hidden,!fileRow.is('.selected'));fileRow.trigger('selectfile');},_uploadDone:function(){this.element.find('.file-row').remove();this.reload(true);},insert:function(event){var fileRow=$(event.currentTarget),targetEl;if(!fileRow.prop('id')){return false;}\ntargetEl=this.getTargetElement();if(!targetEl.length){MediabrowserUtility.closeDialog();throw'Target element not found for content update';}\nreturn $.ajax({url:this.options.onInsertUrl,data:{filename:fileRow.attr('id'),node:this.activeNode.id,store:this.options.storeId,'as_is':typeof targetEl!=='function'&&targetEl.is('textarea')?1:0,'force_static_path':typeof targetEl!=='function'&&targetEl.data('force_static_path')?1:0,'form_key':FORM_KEY},context:this,showLoader:true}).done($.proxy(function(data){if(typeof targetEl==='function'){targetEl(data,{text:fileRow.find('img').attr('alt')});}else if(targetEl.is('textarea')){this.insertAtCursor(targetEl.get(0),data);}else{targetEl.val(data).data('size',fileRow.data('size')).data('mime-type',fileRow.data('mime-type'));}\nMediabrowserUtility.closeDialog();if(typeof targetEl!=='function'){targetEl.focus();jQuery(targetEl).trigger('change');}},this));},getTargetElement:function(){var mediaBrowser=window.MediabrowserUtility;if(!_.isUndefined(wysiwyg)&&wysiwyg.get(mediaBrowser.targetElementId)){return this.getMediaBrowserOpener()||window;}\nreturn $('#'+mediaBrowser.targetElementId);},getMediaBrowserOpener:function(){var targetElementId=window.MediabrowserUtility.targetElementId;if(!_.isUndefined(wysiwyg)&&wysiwyg.get(targetElementId)&&!_.isUndefined(tinyMceEditors)){return tinyMceEditors.get(targetElementId).getMediaBrowserOpener();}\nreturn null;},newFolder:function(){var self=this;prompt({title:this.options.newFolderPrompt,actions:{confirm:function(folderName){$.ajax({url:self.options.newFolderUrl,dataType:'json',data:{name:folderName,node:self.activeNode.id,store:self.options.storeId,'form_key':FORM_KEY},context:self.element,showLoader:true}).done($.proxy(function(data){if(data.error){alert({content:data.message});}else{self.tree.jstree('refresh_node',self.element.find('[data-id=\"'+self.activeNode.id+'\"]'));}},this));return true;}}});},deleteFolder:function(){var self=this;confirm({content:this.options.deleteFolderConfirmationMessage,actions:{confirm:function(){return $.ajax({url:self.options.deleteFolderUrl,dataType:'json',data:{node:self.activeNode.id,store:self.options.storeId,'form_key':FORM_KEY},context:self.element,showLoader:true}).done($.proxy(function(data){if(data.error){alert({content:data.message});}else{self.tree.jstree('refresh',self.activeNode.id);self.reload();$(window).trigger('fileDeleted.mediabrowser',{ids:self.activeNode.id});}},this));},cancel:function(){return false;}}});},deleteFiles:function(){var self=this;confirm({content:this.options.deleteFileConfirmationMessage,actions:{confirm:function(){var selectedFiles=self.element.find('[data-row=file].selected'),ids=selectedFiles.map(function(){return $(this).attr('id');}).toArray();return $.ajax({url:self.options.deleteFilesUrl,data:{files:ids,store:self.options.storeId,'form_key':FORM_KEY},context:self.element,showLoader:true}).done($.proxy(function(data){if(data.error){alert({content:data.message});}else{self.reload();self.element.find('#delete_files, #insert_files').toggleClass(self.options.hidden,true);$(window).trigger('fileDeleted.mediabrowser',{ids:ids});}},this));},cancel:function(){return false;}}});},drawBreadcrumbs:function(data){var node,breadcrumbs;if(this.element.find('#breadcrumbs').length){this.element.find('#breadcrumbs').remove();}\nnode=data.node;if(node.id==='root'){return;}\nbreadcrumbs=$('<ul class=\"breadcrumbs\" id=\"breadcrumbs\"></ul>');data.instance.get_path(node).each(function(name,index){if(index>0){breadcrumbs.append($('<li>\\/</li>'));}\nbreadcrumbs.append($('<li />').attr('data-row','breadcrumb').text(name));});breadcrumbs.insertAfter(this.element.find('#content_header'));}});return window.MediabrowserUtility;});","mage/adminhtml/events.min.js":"define(['Magento_Ui/js/modal/alert','prototype'],function(alert){window.varienEvents=Class.create();varienEvents.prototype={initialize:function(){this.arrEvents={};this.eventPrefix='';},attachEventHandler:function(eventName,handler){var asynchVar,handlerObj;if(typeof handler=='undefined'||handler==null){return;}\neventName+=this.eventPrefix;if(this.arrEvents[eventName]==null){this.arrEvents[eventName]=[];}\nasynchVar=arguments.length>2?arguments[2]:false;handlerObj={method:handler,asynch:asynchVar};this.arrEvents[eventName].push(handlerObj);},removeEventHandler:function(eventName,handler){eventName+=this.eventPrefix;if(this.arrEvents[eventName]!=null){this.arrEvents[eventName]=this.arrEvents[eventName].reject(function(obj){return obj.method==handler;});}},clearEventHandlers:function(eventName){eventName+=this.eventPrefix;this.arrEvents[eventName]=null;},clearAllEventHandlers:function(){this.arrEvents={};},fireEventReducer:function(eventName,arg){var evtName=eventName+this.eventPrefix,result=arg,len,i;if(!this.arrEvents[evtName]){return result;}\nlen=this.arrEvents[evtName].length;for(i=0;i<len;i++){try{result=this.arrEvents[evtName][i].method(result);}catch(e){if(this.id){alert({content:'error: error in '+this.id+'.fireEventReducer():\\n\\nevent name: '+\neventName+'\\n\\nerror message: '+e.message});}else{alert({content:'error: error in [unknown object].fireEventReducer():\\n\\nevent name: '+\neventName+'\\n\\nerror message: '+e.message});}}}\nreturn result;},fireEvent:function(eventName){var evtName=eventName+this.eventPrefix,results=[],result,len,i,eventArgs,method,eventHandler;if(this.arrEvents[evtName]!=null){len=this.arrEvents[evtName].length;for(i=0;i<len;i++){try{if(arguments.length>1){if(this.arrEvents[evtName][i].asynch){eventArgs=arguments[1];method=this.arrEvents[evtName][i].method.bind(this);setTimeout(function(){method(eventArgs);},10);}else{result=this.arrEvents[evtName][i].method(arguments[1]);}}else{if(this.arrEvents[evtName][i].asynch){eventHandler=this.arrEvents[evtName][i].method;setTimeout(eventHandler,1);}else if(this.arrEvents&&this.arrEvents[evtName]&&this.arrEvents[evtName][i]&&this.arrEvents[evtName][i].method){result=this.arrEvents[evtName][i].method();}}\nresults.push(result);}\ncatch(e){if(this.id){alert({content:'error: error in '+this.id+'.fireEvent():\\n\\nevent name: '+\neventName+'\\n\\nerror message: '+e.message});}else{alert({content:'error: error in [unknown object].fireEvent():\\n\\nevent name: '+\neventName+'\\n\\nerror message: '+e.message});}}}}\nreturn results;}};window.varienGlobalEvents=new varienEvents();return window.varienGlobalEvents;});","mage/adminhtml/form.min.js":"define(['jquery','prototype','mage/adminhtml/events'],function(jQuery){var varienElementMethods;(function($){$(function(){$(document).on('beforeSubmit',function(e){if(typeof varienGlobalEvents!=='undefined'){varienGlobalEvents.fireEvent('formSubmit',$(e.target).attr('id'));}});});})(jQuery);varienElementMethods={setHasChanges:function(element){var elm;if($(element)&&$(element).hasClassName('no-changes')){return;}\nelm=element;while(elm&&elm.tagName!='BODY'){if(elm.statusBar){Element.addClassName($(elm.statusBar),'changed');}\nelm=elm.parentNode;}},setHasError:function(element,flag,form){var elm=element;while(elm&&elm.tagName!='BODY'){if(elm.statusBar){if(form.errorSections.keys().indexOf(elm.statusBar.id)<0){form.errorSections.set(elm.statusBar.id,flag);}\nif(flag){Element.addClassName($(elm.statusBar),'error');if(form.canShowError&&$(elm.statusBar).show){form.canShowError=false;$(elm.statusBar).show();}\nform.errorSections.set(elm.statusBar.id,flag);}else if(!form.errorSections.get(elm.statusBar.id)){Element.removeClassName($(elm.statusBar),'error');}}\nelm=elm.parentNode;}\nthis.canShowElement=false;}};Element.addMethods(varienElementMethods);window.varienWindowOnloadCache={};function varienWindowOnload(useCache){var dataElements=$$('input','select','textarea'),i;for(i=0;i<dataElements.length;i++){if(dataElements[i]&&dataElements[i].id){if(!useCache||!varienWindowOnloadCache[dataElements[i].id]){Event.observe(dataElements[i],'change',dataElements[i].setHasChanges.bind(dataElements[i]));if(useCache){varienWindowOnloadCache[dataElements[i].id]=true;}}}}}\nEvent.observe(window,'load',varienWindowOnload);window.RegionUpdater=Class.create();RegionUpdater.prototype={initialize:function(countryEl,regionTextEl,regionSelectEl,regions,disableAction,clearRegionValueOnDisable){this.isRegionRequired=true;this.countryEl=$(countryEl);this.regionTextEl=$(regionTextEl);this.regionSelectEl=$(regionSelectEl);this.config=regions.config;delete regions.config;this.regions=regions;this.sortedRegions=this.getSortedRegions();this.disableAction=typeof disableAction==='undefined'?'hide':disableAction;this.clearRegionValueOnDisable=typeof clearRegionValueOnDisable==='undefined'?false:clearRegionValueOnDisable;if(this.regionSelectEl.options.length<=1){this.update();}else{this.lastCountryId=this.countryEl.value;}\nthis.countryEl.changeUpdater=this.update.bind(this);Event.observe(this.countryEl,'change',this.update.bind(this));},_checkRegionRequired:function(){var label,wildCard,elements,that,regionRequired;if(!this.isRegionRequired){return;}\nelements=[this.regionTextEl,this.regionSelectEl];that=this;if(typeof this.config=='undefined'){return;}\nregionRequired=this.config['regions_required'].indexOf(this.countryEl.value)>=0;elements.each(function(currentElement){var form,validationInstance,field,topElement;if(!currentElement){return;}\nform=currentElement.form;validationInstance=form?jQuery(form).data('validation'):null;field=currentElement.up('.field')||new Element('div');if(validationInstance){validationInstance.clearError(currentElement);}\nlabel=$$('label[for=\"'+currentElement.id+'\"]')[0];if(label){wildCard=label.down('em')||label.down('span.required');topElement=label.up('tr')||label.up('li');if(!that.config['show_all_regions']&&topElement){if(regionRequired){topElement.show();}else{topElement.hide();}}}\nif(label&&wildCard){if(!regionRequired){wildCard.hide();}else{wildCard.show();}}\nif(!regionRequired||!currentElement.visible()){if(field.hasClassName('required')){field.removeClassName('required');}\nif(currentElement.hasClassName('required-entry')){currentElement.removeClassName('required-entry');}\nif(currentElement.tagName.toLowerCase()=='select'&&currentElement.hasClassName('validate-select')){currentElement.removeClassName('validate-select');}}else{if(!field.hasClassName('required')){field.addClassName('required');}\nif(!currentElement.hasClassName('required-entry')){currentElement.addClassName('required-entry');}\nif(currentElement.tagName.toLowerCase()=='select'&&!currentElement.hasClassName('validate-select')){currentElement.addClassName('validate-select');}}});},disableRegionValidation:function(){this.isRegionRequired=false;},update:function(){var option,selectElement,def,regionId,region;selectElement=this.regionSelectEl;if(this.sortedRegions[this.countryEl.value]){if(this.lastCountryId!=this.countryEl.value){def=selectElement.getAttribute('defaultValue');if(this.regionTextEl){if(!def){def=this.regionTextEl.value.toLowerCase();}\nthis.regionTextEl.value='';}\nselectElement.options.length=1;this.sortedRegions[this.countryEl.value].forEach(function(item){regionId=item[0];region=item[1];option=document.createElement('OPTION');option.value=regionId;option.text=region.name.stripTags();option.title=region.name;if(selectElement.options.add){selectElement.options.add(option);}else{selectElement.appendChild(option);}\nif(regionId==def||region.name.toLowerCase()==def||region.code.toLowerCase()==def){selectElement.value=regionId;}});}\nif(this.disableAction=='hide'){if(this.regionTextEl){this.regionTextEl.style.display='none';this.regionTextEl.style.disabled=true;}\nthis.regionSelectEl.style.display='';this.regionSelectEl.disabled=false;}else if(this.disableAction=='disable'){if(this.regionTextEl){this.regionTextEl.disabled=true;}\nthis.regionSelectEl.disabled=false;}\nthis.setMarkDisplay(this.regionSelectEl,true);this.lastCountryId=this.countryEl.value;}else{if(this.disableAction=='hide'){if(this.regionTextEl){this.regionTextEl.style.display='';this.regionTextEl.style.disabled=false;}\nthis.regionSelectEl.style.display='none';this.regionSelectEl.disabled=true;}else if(this.disableAction=='disable'){if(this.regionTextEl){this.regionTextEl.disabled=false;}\nthis.regionSelectEl.disabled=true;if(this.clearRegionValueOnDisable){this.regionSelectEl.value='';}}else if(this.disableAction=='nullify'){this.regionSelectEl.options.length=1;this.regionSelectEl.value='';this.regionSelectEl.selectedIndex=0;this.lastCountryId='';}\nthis.setMarkDisplay(this.regionSelectEl,false);}\nvarienGlobalEvents.fireEvent('address_country_changed',this.countryEl);this._checkRegionRequired();},setMarkDisplay:function(elem,display){var marks;if(elem.parentNode.parentNode){marks=Element.select(elem.parentNode.parentNode,'.required');if(marks[0]){display?marks[0].show():marks[0].hide();}}},getSortedRegions:function(){var country,regionsEntries,regionsByCountry;regionsByCountry=[];for(country in this.regions){regionsEntries=Object.entries(this.regions[country]);regionsEntries.sort(function(a,b){return a[1].name>b[1].name?1:-1;});regionsByCountry[country]=regionsEntries;}\nreturn regionsByCountry;}};window.regionUpdater=RegionUpdater;Event.pointerX=function(event){try{return event.pageX||(event.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft));}\ncatch(e){}};Event.pointerY=function(event){try{return event.pageY||(event.clientY+(document.documentElement.scrollTop||document.body.scrollTop));}\ncatch(e){}};window.FormElementDependenceController=Class.create();FormElementDependenceController.prototype={initialize:function(elementsMap,config){var idTo,idFrom,values,fromId,radioFrom;if(config){this._config=jQuery.extend(this._config,config);}\nfor(idTo in elementsMap){for(idFrom in elementsMap[idTo]){if($(idFrom)){Event.observe($(idFrom),'change',this.trackChange.bindAsEventListener(this,idTo,elementsMap[idTo]));}else{values=elementsMap[idTo][idFrom].values;fromId=$(idFrom+values[0]);radioFrom=fromId?$$('[name=\"'+fromId.name+'\"]'):false;if(radioFrom){radioFrom.invoke('on','change',this.trackChange.bindAsEventListener(this,idTo,elementsMap[idTo]));}}\nthis.trackChange(null,idTo,elementsMap[idTo]);}}},_config:{'levels_up':1},trackChange:function(e,idTo,valuesFrom){var shouldShowUp=true,idFrom,from,values,isInArray,isNegative,headElement,isInheritCheckboxChecked,target,inputs,isAnInputOrSelect,currentConfig,rowElement,fromId,radioFrom,targetArray,isChooser;for(idFrom in valuesFrom){from=$(idFrom);if(from){values=valuesFrom[idFrom].values;isInArray=values.indexOf(from.value)!=-1;isNegative=valuesFrom[idFrom].negative;if(!from||isInArray&&isNegative||!isInArray&&!isNegative){shouldShowUp=false;}}else{values=valuesFrom[idFrom].values;fromId=$(idFrom+values[0]);if(fromId){radioFrom=$$('[name=\"'+fromId.name+'\"]:checked');isInArray=radioFrom.length>0&&values.indexOf(radioFrom[0].value)!==-1;isNegative=valuesFrom[idFrom].negative;if(!radioFrom||isInArray&&isNegative||!isInArray&&!isNegative){shouldShowUp=false;}}}}\nheadElement=jQuery('#'+idTo+'-head');isInheritCheckboxChecked=$(idTo+'_inherit')&&$(idTo+'_inherit').checked;target=$(idTo);if(target===null&&headElement.length===0&&idTo.substring(0,16)==='options_fieldset'){targetArray=$$('input[id*=\"'+idTo+'\"]');isChooser=true;if(targetArray!==null&&targetArray.length>0){target=targetArray[0];}\nheadElement=jQuery('.field-'+idTo).add('.field-chooser'+idTo);}\nif(target){inputs=target.up(this._config['levels_up']).select('input','select','td');isAnInputOrSelect=['input','select'].indexOf(target.tagName.toLowerCase())!=-1;if(target.type==='fieldset'){inputs=target.select('input','select','td');}}else{inputs=false;isAnInputOrSelect=false;}\nif(shouldShowUp){currentConfig=this._config;if(inputs){inputs.each(function(item){if((!item.type||item.type!='hidden')&&!($(item.id+'_inherit')&&$(item.id+'_inherit').checked)&&!(currentConfig['can_edit_price']!=undefined&&!currentConfig['can_edit_price'])&&!item.getAttribute('readonly')||isChooser){item.disabled=false;jQuery(item).removeClass('ignore-validate');}});}\nif(headElement.length>0){headElement.show();if(headElement.hasClass('open')&&target){target.show();}else if(target){target.hide();}}else{if(target){target.show();headElement=jQuery('.field-'+idTo).add('.field-chooser'+idTo);headElement.show();}\nif(isAnInputOrSelect&&!isInheritCheckboxChecked){if(target){if(target.getAttribute('readonly')){target.disabled=true;}else{target.disabled=false;}}\njQuery('#'+idTo).removeClass('ignore-validate');}}}else{if(inputs){inputs.each(function(item){if((!item.type||item.type!='hidden')&&!($(item.id+'_inherit')&&$(item.id+'_inherit').checked)){item.disabled=true;jQuery(item).addClass('ignore-validate');}});}\nif(headElement.length>0){headElement.hide();}else{headElement=jQuery('.field-'+idTo).add('.field-chooser'+idTo);headElement.hide();}\nif(target){target.hide();}\nif(isAnInputOrSelect&&!isInheritCheckboxChecked){if(target){target.disabled=true;}\njQuery('#'+idTo).addClass('ignore-validate');}}\nrowElement=$('row_'+idTo);if(rowElement==undefined&&target){rowElement=target.up(this._config['levels_up']);if(target.type==='fieldset'){rowElement=target;}}\nif(rowElement){if(shouldShowUp){rowElement.show();}else{rowElement.hide();}}}};window.varienWindowOnload=varienWindowOnload;window.varienElementMethods=varienElementMethods;});","mage/adminhtml/globals.min.js":"define(['Magento_Ui/js/modal/confirm','mage/dataPost'],function(confirm,dataPost){'use strict';window.setLocation=function(url){window.location.href=url;};window.deleteConfirm=function(message,url,postData){confirm({content:message,actions:{confirm:function(){if(postData!==undefined){postData.action=url;dataPost().postData(postData);}else{setLocation(url);}}}});return false;};window.confirmSetLocation=window.deleteConfirm;});","mage/adminhtml/grid.min.js":"define(['jquery','mage/template','Magento_Ui/js/modal/alert','Magento_Ui/js/modal/confirm','mage/mage','prototype','mage/adminhtml/form','mage/adminhtml/events'],function(jQuery,mageTemplate,alert,confirm){function openGridRow(grid,event){var element=Event.findElement(event,'tr');if(['a','input','select','option'].indexOf(Event.element(event).tagName.toLowerCase())!==-1){return;}\nif(element.title){setLocation(element.title);}}\nwindow.openGridRow=openGridRow;window.varienGrid=new Class.create();varienGrid.prototype={initialize:function(containerId,url,pageVar,sortVar,dirVar,filterVar){this.containerId=containerId;jQuery('#'+containerId).data('gridObject',this);this.url=url;this.pageVar=pageVar||false;this.sortVar=sortVar||false;this.dirVar=dirVar||false;this.filterVar=filterVar||false;this.tableSufix='_table';this.useAjax=false;this.rowClickCallback=false;this.checkboxCheckCallback=false;this.preInitCallback=false;this.initCallback=false;this.initRowCallback=false;this.doFilterCallback=false;this.sortableUpdateCallback=false;this.targetElement=undefined;this.filterKeyPressCallback=false;this.reloadParams=false;this.trOnMouseOver=this.rowMouseOver.bindAsEventListener(this);this.trOnMouseOut=this.rowMouseOut.bindAsEventListener(this);this.trOnMouseDown=this.rowMouseDown.bindAsEventListener(this);this.trOnClick=this.rowMouseClick.bindAsEventListener(this);this.trOnDblClick=this.rowMouseDblClick.bindAsEventListener(this);this.trOnKeyPress=this.keyPress.bindAsEventListener(this);this.thLinkOnClick=this.doSort.bindAsEventListener(this);this.initGrid();},initGrid:function(){var row,columns,col;if(this.preInitCallback){this.preInitCallback(this);}\nif($(this.containerId+this.tableSufix)){this.rows=$$('#'+this.containerId+this.tableSufix+' tbody tr');for(row=0;row<this.rows.length;row++){if(row%2==0){Element.addClassName(this.rows[row],'even');}\nEvent.observe(this.rows[row],'mouseover',this.trOnMouseOver);Event.observe(this.rows[row],'mouseout',this.trOnMouseOut);Event.observe(this.rows[row],'mousedown',this.trOnMouseDown);Event.observe(this.rows[row],'click',this.trOnClick);Event.observe(this.rows[row],'dblclick',this.trOnDblClick);}}\nif(this.sortVar&&this.dirVar){columns=$$('#'+this.containerId+this.tableSufix+' thead [data-sort]');for(col=0;col<columns.length;col++){Event.observe(columns[col],'click',this.thLinkOnClick);}}\nthis.bindFilterFields();this.bindFieldsChange();if(this.initCallback){try{this.initCallback(this);}catch(e){if(window.console){console.log(e);}}}\njQuery('#'+this.containerId).trigger('gridinit',this);},initGridAjax:function(){this.initGrid();this.initGridRows();},initGridRows:function(){var row;if(this.initRowCallback){for(row=0;row<this.rows.length;row++){try{this.initRowCallback(this,this.rows[row]);}catch(e){if(window.console){console.log(e);}}}}},rowMouseOver:function(event){var element=Event.findElement(event,'tr');if(!element.title){return;}\nElement.addClassName(element,'on-mouse');if(!Element.hasClassName('_clickable')&&(this.rowClickCallback!==openGridRow||element.title)){if(element.title){Element.addClassName(element,'_clickable');}}},rowMouseOut:function(event){var element=Event.findElement(event,'tr');Element.removeClassName(element,'on-mouse');},rowMouseDown:function(event){this.targetElement=event.target;},rowMouseClick:function(event){if(this.rowClickCallback){try{this.rowClickCallback(this,event);}catch(e){}}\nvarienGlobalEvents.fireEvent('gridRowClick',event);this.targetElement=undefined;},rowMouseDblClick:function(event){varienGlobalEvents.fireEvent('gridRowDblClick',event);},keyPress:function(){},doSort:function(event){var element=Event.findElement(event,'th');if(element.readAttribute('data-sort')&&element.readAttribute('data-direction')){this.addVarToUrl(this.sortVar,element.readAttribute('data-sort'));this.addVarToUrl(this.dirVar,element.readAttribute('data-direction'));this.reload(this.url);}\nEvent.stop(event);return false;},loadByElement:function(element){if(element&&element.name){this.reload(this.addVarToUrl(element.name,element.value));}},_onAjaxSeccess:function(data,textStatus,transport){var responseText,response,divId;try{responseText=transport.responseText;if(transport.responseText.isJSON()){response=transport.responseText.evalJSON();if(response.error){alert({content:response.message});}\nif(response.ajaxExpired&&response.ajaxRedirect){setLocation(response.ajaxRedirect);}}else{divId=$(this.containerId);if(divId.id==this.containerId){divId.update(responseText);}else{$$('div[id=\"'+this.containerId+'\"]')[0].update(responseText);}}}catch(e){divId=$(this.containerId);if(divId.id==this.containerId){divId.update(responseText);}else{$$('div[id=\"'+this.containerId+'\"]')[0].update(responseText);}}\njQuery('#'+this.containerId).trigger('contentUpdated');},reload:function(url,onSuccessCallback){var ajaxSettings,ajaxRequest;this.reloadParams=this.reloadParams||{};this.reloadParams['form_key']=FORM_KEY;url=url||this.url;if(this.useAjax){ajaxSettings={url:url+(url.match(new RegExp('\\\\?'))?'&ajax=true':'?ajax=true'),showLoader:true,method:'post',context:jQuery('#'+this.containerId),data:this.reloadParams,error:this._processFailure.bind(this),complete:this.initGridAjax.bind(this),dataType:'html',success:function(data,textStatus,transport){this._onAjaxSeccess(data,textStatus,transport);if(onSuccessCallback&&typeof onSuccessCallback==='function'){onSuccessCallback();}}.bind(this)};jQuery('#'+this.containerId).trigger('gridajaxsettings',ajaxSettings);ajaxRequest=jQuery.ajax(ajaxSettings);jQuery('#'+this.containerId).trigger('gridajax',ajaxRequest);return ajaxRequest;}\nif(this.reloadParams){$H(this.reloadParams).each(function(pair){url=this.addVarToUrl(pair.key,pair.value);}.bind(this));}\nlocation.href=url;},_processFailure:function(){location.href=BASE_URL;},_addVarToUrl:function(url,varName,varValue){var re=new RegExp('\\/('+varName+'\\/.*?\\/)'),parts=url.split(new RegExp('\\\\?'));url=parts[0].replace(re,'/');url+=varName+'/'+varValue+'/';if(parts.size()>1){url+='?'+parts[1];}\nreturn url;},_buildFormAndSubmit:function(url,varName,varValue){var re=new RegExp('\\/('+varName+'\\/.*?\\/)'),parts=url.split(new RegExp('\\\\?')),form=jQuery('<form></form>'),inputProps=[{name:varName,value:varValue},{name:'form_key',value:window.FORM_KEY}],input;url=parts[0].replace(re,'/');if(parts.size()>1){url+='?'+parts[1];}\nform.attr('action',url);form.attr('method','POST');inputProps.forEach(function(item){input=jQuery('<input/>');input.attr('name',item.name);input.attr('type','hidden');input.val(item.value);form.append(input);});jQuery('[data-container=\"body\"]').append(form);form.submit();form.remove();},addVarToUrl:function(varName,varValue){this.url=this._addVarToUrl(this.url,varName,varValue);return this.url;},doExport:function(){var exportUrl;if($(this.containerId+'_export')){exportUrl=$(this.containerId+'_export').value;if(this.massaction&&this.massaction.checkedString){this._buildFormAndSubmit(exportUrl,this.massaction.formFieldNameInternal,this.massaction.checkedString);}else{location.href=exportUrl;}}},bindFilterFields:function(){var filters=$$('#'+this.containerId+' [data-role=\"filter-form\"] input','#'+this.containerId+' [data-role=\"filter-form\"] select'),i;for(i=0;i<filters.length;i++){Event.observe(filters[i],'keypress',this.filterKeyPress.bind(this));}},bindFieldsChange:function(){var dataElements,i;if(!$(this.containerId)){return;}\ndataElements=$(this.containerId+this.tableSufix).down('tbody').select('input','select');for(i=0;i<dataElements.length;i++){Event.observe(dataElements[i],'change',dataElements[i].setHasChanges.bind(dataElements[i]));}},bindSortable:function(){if(jQuery('#'+this.containerId).find('.draggable-handle').length){jQuery('#'+this.containerId).find('tbody').sortable({axis:'y',handle:'.draggable-handle',helper:function(event,ui){ui.children().each(function(){jQuery(this).width(jQuery(this).width());});return ui;},update:this.sortableUpdateCallback?this.sortableUpdateCallback:function(){},tolerance:'pointer'});}},filterKeyPress:function(event){if(event.keyCode==Event.KEY_RETURN){this.doFilter();}\nif(this.filterKeyPressCallback){this.filterKeyPressCallback(this,event);}},doFilter:function(callback){var filters=$$('#'+this.containerId+' [data-role=\"filter-form\"] input','#'+this.containerId+' [data-role=\"filter-form\"] select'),elements=[],i;for(i in filters){if(filters[i].value&&filters[i].value.length){elements.push(filters[i]);}}\nif(!this.doFilterCallback||this.doFilterCallback&&this.doFilterCallback()){this.reload(this.addVarToUrl(this.filterVar,Base64.encode(Form.serializeElements(elements))),callback);}},resetFilter:function(callback){this.reload(this.addVarToUrl(this.filterVar,''),callback);},checkCheckboxes:function(element){var elements=Element.select($(this.containerId),'input[name=\"'+element.name+'\"]'),i;for(i=0;i<elements.length;i++){this.setCheckboxChecked(elements[i],element.checked);}},setCheckboxChecked:function(element,checked){element.checked=checked;jQuery(element).trigger('change');element.setHasChanges({});if(this.checkboxCheckCallback){this.checkboxCheckCallback(this,element,checked);}},inputPage:function(event,lastId){var element=Event.element(event),keyCode=event.keyCode||event.which,enteredValue=parseInt(element.value,10),pageId=parseInt(lastId,10);if(keyCode==Event.KEY_RETURN){if(enteredValue>pageId){this.setPage(pageId);}else{this.setPage(enteredValue);}}},setPage:function(pageNumber){this.reload(this.addVarToUrl(this.pageVar,pageNumber));}};window.varienGridMassaction=Class.create();varienGridMassaction.prototype={checkedValues:$H({}),checkedString:'',oldCallbacks:{},errorText:'',items:{},gridIds:[],useSelectAll:false,currentItem:false,lastChecked:{left:false,top:false,checkbox:false},fieldTemplate:mageTemplate('<input type=\"hidden\" name=\"<%- name %>\" value=\"<%- value %>\" />'),initialize:function(containerId,grid,checkedValues,formFieldNameInternal,formFieldName){this.setOldCallback('row_click',grid.rowClickCallback);this.setOldCallback('init',grid.initCallback);this.setOldCallback('init_row',grid.initRowCallback);this.setOldCallback('pre_init',grid.preInitCallback);this.useAjax=false;this.grid=grid;this.grid.massaction=this;this.containerId=containerId;this.initMassactionElements();this.checkedString=checkedValues;this.formFieldName=formFieldName;this.formFieldNameInternal=formFieldNameInternal;this.grid.initCallback=this.onGridInit.bind(this);this.grid.preInitCallback=this.onGridPreInit.bind(this);this.grid.initRowCallback=this.onGridRowInit.bind(this);this.grid.rowClickCallback=this.onGridRowClick.bind(this);this.initCheckboxes();this.checkCheckboxes();},setUseAjax:function(flag){this.useAjax=flag;},setUseSelectAll:function(flag){this.useSelectAll=flag;},initMassactionElements:function(){this.container=$(this.containerId);this.multiselect=$(this.containerId+'-mass-select');this.count=$(this.containerId+'-count');this.formHiddens=$(this.containerId+'-form-hiddens');this.formAdditional=$(this.containerId+'-form-additional');this.select=$(this.containerId+'-select');this.form=this.prepareForm();jQuery(this.form).mage('validation');this.select.observe('change',this.onSelectChange.bindAsEventListener(this));this.lastChecked={left:false,top:false,checkbox:false};this.select.addClassName(this.select.value?'_selected':'');this.initMassSelect();},prepareForm:function(){var form=$(this.containerId+'-form'),formPlace=null,formElement=this.formHiddens||this.formAdditional;if(!formElement){formElement=this.container.getElementsByTagName('button')[0];formElement&&formElement.parentNode;}\nif(!form&&formElement){form=document.createElement('form');form.setAttribute('method','post');form.setAttribute('action','');form.id=this.containerId+'-form';formPlace=formElement.parentNode;formPlace.parentNode.appendChild(form);form.appendChild(formPlace);}\nreturn form;},setGridIds:function(gridIds){this.gridIds=gridIds;this.updateCount();},getGridIds:function(){return this.gridIds;},setItems:function(items){this.items=items;this.updateCount();},getItems:function(){return this.items;},getItem:function(itemId){if(this.items[itemId]){return this.items[itemId];}\nreturn false;},getOldCallback:function(callbackName){return this.oldCallbacks[callbackName]?this.oldCallbacks[callbackName]:Prototype.emptyFunction;},setOldCallback:function(callbackName,callback){this.oldCallbacks[callbackName]=callback;},onGridPreInit:function(grid){this.initMassactionElements();this.getOldCallback('pre_init')(grid);},onGridInit:function(grid){this.initCheckboxes();this.checkCheckboxes();this.updateCount();this.getOldCallback('init')(grid);},onGridRowInit:function(grid,row){this.getOldCallback('init_row')(grid,row);},isDisabled:function(evt){var target=jQuery(evt.target),tr,checkbox;tr=target.is('tr')?target:target.closest('tr');checkbox=tr.find('input[type=\"checkbox\"]');return checkbox.is(':disabled');},onGridRowClick:function(grid,evt){var tdElement=Event.findElement(evt,'td'),trElement=Event.findElement(evt,'tr'),checkbox,isInput,checked;if(this.isDisabled(evt)){return false;}\nif(!$(tdElement).down('input')){if($(tdElement).down('a')||$(tdElement).down('select')){return;}\nif(trElement.title&&trElement.title.strip()!='#'){this.getOldCallback('row_click')(grid,evt);}else{checkbox=Element.select(trElement,'input');isInput=Event.element(evt).tagName=='input';checked=isInput?checkbox[0].checked:!checkbox[0].checked;if(checked){this.checkedString=varienStringArray.add(checkbox[0].value,this.checkedString);}else{this.checkedString=varienStringArray.remove(checkbox[0].value,this.checkedString);}\nthis.grid.setCheckboxChecked(checkbox[0],checked);this.updateCount();}\nreturn;}\nif(Event.element(evt).isMassactionCheckbox){this.setCheckbox(Event.element(evt));}else if(checkbox=this.findCheckbox(evt)){checkbox.checked=!checkbox.checked;jQuery(checkbox).trigger('change');this.setCheckbox(checkbox);}},onSelectChange:function(evt){var item=this.getSelectedItem();if(item){this.formAdditional.update($(this.containerId+'-item-'+item.id+'-block').innerHTML);evt.target.addClassName('_selected');}else{this.formAdditional.update('');evt.target.removeClassName('_selected');}\njQuery(this.form).data('validator').resetForm();},findCheckbox:function(evt){if(['a','input','select'].indexOf(Event.element(evt).tagName.toLowerCase())!==-1){return false;}\ncheckbox=false;Event.findElement(evt,'tr').select('[data-role=\"select-row\"]').each(function(element){if(element.isMassactionCheckbox){checkbox=element;}});return checkbox;},initCheckboxes:function(){this.getCheckboxes().each(function(checkbox){checkbox.isMassactionCheckbox=true;});},checkCheckboxes:function(){this.getCheckboxes().each(function(checkbox){checkbox.checked=varienStringArray.has(checkbox.value,this.checkedString);jQuery(checkbox).trigger('change');}.bind(this));},selectAll:function(){this.setCheckedValues(this.useSelectAll?this.getGridIds():this.getCheckboxesValuesAsString());this.checkCheckboxes();this.updateCount();this.clearLastChecked();return false;},unselectAll:function(){this.setCheckedValues('');this.checkCheckboxes();this.updateCount();this.clearLastChecked();return false;},selectVisible:function(){this.setCheckedValues(this.getCheckboxesValuesAsString());this.checkCheckboxes();this.updateCount();this.clearLastChecked();return false;},unselectVisible:function(){this.getCheckboxesValues().each(function(key){this.checkedString=varienStringArray.remove(key,this.checkedString);}.bind(this));this.checkCheckboxes();this.updateCount();this.clearLastChecked();return false;},setCheckedValues:function(values){this.checkedString=values;},getCheckedValues:function(){return this.checkedString;},getCheckboxes:function(){var result=[];this.grid.rows.each(function(row){var checkboxes=row.select('[data-role=\"select-row\"]');checkboxes.each(function(checkbox){result.push(checkbox);});});return result;},getCheckboxesValues:function(){var result=[];this.getCheckboxes().each(function(checkbox){result.push(checkbox.value);});return result;},getCheckboxesValuesAsString:function(){return this.getCheckboxesValues().join(',');},setCheckbox:function(checkbox){if(checkbox.checked){this.checkedString=varienStringArray.add(checkbox.value,this.checkedString);}else{this.checkedString=varienStringArray.remove(checkbox.value,this.checkedString);}\nthis.updateCount();},updateCount:function(){var checkboxesTotal=varienStringArray.count(this.useSelectAll?this.getGridIds():this.getCheckboxesValuesAsString()),checkboxesChecked=varienStringArray.count(this.checkedString);jQuery('[data-role=\"counter\"]',this.count).html(checkboxesChecked);if(!checkboxesTotal){this.multiselect.addClassName('_disabled');}else{this.multiselect.removeClassName('_disabled');}\nif(checkboxesChecked==checkboxesTotal&&checkboxesTotal!=0){this.count.removeClassName('_empty');this.multiselect.addClassName('_checked').removeClassName('_indeterminate');}else if(checkboxesChecked==0){this.count.addClassName('_empty');this.multiselect.removeClassName('_checked').removeClassName('_indeterminate');}else{this.count.removeClassName('_empty');this.multiselect.addClassName('_checked').addClassName('_indeterminate');}\nif(!this.grid.reloadParams){this.grid.reloadParams={};}\nthis.grid.reloadParams[this.formFieldNameInternal]=this.checkedString;},getSelectedItem:function(){if(this.getItem(this.select.value)){return this.getItem(this.select.value);}\nreturn false;},apply:function(){var item,fieldName;if(varienStringArray.count(this.checkedString)==0){alert({content:this.errorText});return;}\nitem=this.getSelectedItem();if(!item){jQuery(this.form).valid();return;}\nthis.currentItem=item;fieldName=item.field?item.field:this.formFieldName;if(this.currentItem.confirm){confirm({content:this.currentItem.confirm,actions:{confirm:this.onConfirm.bind(this,fieldName,item)}});}else{this.onConfirm(fieldName,item);}},onConfirm:function(fieldName,item){this.formHiddens.update('');new Insertion.Bottom(this.formHiddens,this.fieldTemplate({name:fieldName,value:this.checkedString}));new Insertion.Bottom(this.formHiddens,this.fieldTemplate({name:'massaction_prepare_key',value:fieldName}));if(!jQuery(this.form).valid()){return;}\nif(this.useAjax&&item.url){new Ajax.Request(item.url,{'method':'post','parameters':this.form.serialize(true),'onComplete':this.onMassactionComplete.bind(this)});}else if(item.url){this.form.action=item.url;this.form.submit();}},onMassactionComplete:function(transport){var listener;if(this.currentItem.complete){try{listener=this.getListener(this.currentItem.complete)||Prototype.emptyFunction;listener(this.grid,this,transport);}catch(e){}}},getListener:function(strValue){return eval(strValue);},initMassSelect:function(){$$('input[data-role=\"select-row\"]').each(function(element){element.observe('click',this.massSelect.bind(this));}.bind(this));},clearLastChecked:function(){this.lastChecked={left:false,top:false,checkbox:false};},massSelect:function(evt){var currentCheckbox,lastCheckbox,start,finish;if(this.lastChecked.left!==false&&this.lastChecked.top!==false&&evt.button===0&&evt.shiftKey===true){currentCheckbox=Event.element(evt);lastCheckbox=this.lastChecked.checkbox;if(lastCheckbox!=currentCheckbox){start=this.getCheckboxOrder(lastCheckbox);finish=this.getCheckboxOrder(currentCheckbox);if(start!==false&&finish!==false){this.selectCheckboxRange(Math.min(start,finish),Math.max(start,finish),currentCheckbox.checked);}}}\nthis.lastChecked={left:Event.element(evt).viewportOffset().left,top:Event.element(evt).viewportOffset().top,checkbox:Event.element(evt)};},getCheckboxOrder:function(curCheckbox){var order=false;this.getCheckboxes().each(function(checkbox,key){if(curCheckbox==checkbox){order=key;}});return order;},selectCheckboxRange:function(start,finish,isChecked){this.getCheckboxes().each(function(checkbox,key){if(key>=start&&key<=finish){checkbox.checked=isChecked;this.setCheckbox(checkbox);}}.bind(this));}};window.varienGridAction={execute:function(select){var config,win;if(!select.value||!select.value.isJSON()){return;}\nconfig=select.value.evalJSON();if(config.confirm&&!window.confirm(config.confirm)){select.options[0].selected=true;return;}\nif(config.popup){win=window.open(config.href,'action_window','width=500,height=600,resizable=1,scrollbars=1');win.focus();select.options[0].selected=true;}else{setLocation(config.href);}}};window.varienStringArray={remove:function(str,haystack){haystack=','+haystack+',';haystack=haystack.replace(new RegExp(','+str+',','g'),',');return this.trimComma(haystack);},add:function(str,haystack){haystack=','+haystack+',';if(haystack.search(new RegExp(','+str+',','g'),haystack)===-1){haystack+=str+',';}\nreturn this.trimComma(haystack);},has:function(str,haystack){haystack=','+haystack+',';if(haystack.search(new RegExp(','+str+',','g'),haystack)===-1){return false;}\nreturn true;},count:function(haystack){var match;if(typeof haystack!='string'){return 0;}\nif(match=haystack.match(new RegExp(',','g'))){return match.length+1;}else if(haystack.length!=0){return 1;}\nreturn 0;},each:function(haystack,fnc){var i;haystack=haystack.split(',');for(i=0;i<haystack.length;i++){fnc(haystack[i]);}},trimComma:function(string){string=string.replace(new RegExp('^(,+)','i'),'');string=string.replace(new RegExp('(,+)$','i'),'');return string;}};window.serializerController=Class.create();serializerController.prototype={oldCallbacks:{},initialize:function(hiddenDataHolder,predefinedData,inputsToManage,grid,reloadParamName){this.tabIndex=1000;this.inputsToManage=inputsToManage;this.multidimensionalMode=inputsToManage.length>0;this.gridData=this.getGridDataHash(predefinedData);this.hiddenDataHolder=$(hiddenDataHolder);this.hiddenDataHolder.value=this.serializeObject();this.grid=grid;this.setOldCallback('row_click',this.grid.rowClickCallback);this.setOldCallback('init_row',this.grid.initRowCallback);this.setOldCallback('checkbox_check',this.grid.checkboxCheckCallback);this.reloadParamName=reloadParamName;this.grid.reloadParams={};this.grid.reloadParams[this.reloadParamName+'[]']=this.getDataForReloadParam();this.grid.rowClickCallback=this.rowClick.bind(this);this.grid.initRowCallback=this.rowInit.bind(this);this.grid.checkboxCheckCallback=this.registerData.bind(this);this.grid.rows.each(this.eachRow.bind(this));},setOldCallback:function(callbackName,callback){this.oldCallbacks[callbackName]=callback;},getOldCallback:function(callbackName){return this.oldCallbacks[callbackName]?this.oldCallbacks[callbackName]:Prototype.emptyFunction;},registerData:function(grid,element,checked){var i;if(this.multidimensionalMode){if(checked){if(element.inputElements){this.gridData.set(element.value,{});for(i=0;i<element.inputElements.length;i++){element.inputElements[i].disabled=false;this.gridData.get(element.value)[element.inputElements[i].name]=element.inputElements[i].value;}}}else{if(element.inputElements){for(i=0;i<element.inputElements.length;i++){element.inputElements[i].disabled=true;}}\nthis.gridData.unset(element.value);}}else{if(checked){this.gridData.set(element.value,element.value);}else{this.gridData.unset(element.value);}}\nthis.hiddenDataHolder.value=this.serializeObject();this.grid.reloadParams={};this.grid.reloadParams[this.reloadParamName+'[]']=this.getDataForReloadParam();this.getOldCallback('checkbox_check')(grid,element,checked);},eachRow:function(row){this.rowInit(this.grid,row);},rowClick:function(grid,event){var trElement=Event.findElement(event,'tr'),isInput=Event.element(event).tagName=='INPUT',checkbox,checked;if(trElement){checkbox=Element.select(trElement,'input');if(checkbox[0]&&!checkbox[0].disabled){checked=isInput?checkbox[0].checked:!checkbox[0].checked;this.grid.setCheckboxChecked(checkbox[0],checked);}}\nthis.getOldCallback('row_click')(grid,event);},inputChange:function(event){var element=Event.element(event);if(element&&element.checkboxElement&&element.checkboxElement.checked){this.gridData.get(element.checkboxElement.value)[element.name]=element.value;this.hiddenDataHolder.value=this.serializeObject();}},rowInit:function(grid,row){var checkbox,selectors,inputs,i;if(this.multidimensionalMode){checkbox=$(row).select('.checkbox')[0];selectors=this.inputsToManage.map(function(name){return['input[name=\"'+name+'\"]','select[name=\"'+name+'\"]'];});inputs=$(row).select.apply($(row),selectors.flatten());if(checkbox&&inputs.length>0){checkbox.inputElements=inputs;for(i=0;i<inputs.length;i++){inputs[i].checkboxElement=checkbox;if(this.gridData.get(checkbox.value)&&this.gridData.get(checkbox.value)[inputs[i].name]){inputs[i].value=this.gridData.get(checkbox.value)[inputs[i].name];}\ninputs[i].disabled=!checkbox.checked;inputs[i].tabIndex=this.tabIndex++;Event.observe(inputs[i],'keyup',this.inputChange.bind(this));Event.observe(inputs[i],'change',this.inputChange.bind(this));}}}\nthis.getOldCallback('init_row')(grid,row);},getGridDataHash:function(_object){return $H(this.multidimensionalMode?_object:this.convertArrayToObject(_object));},getDataForReloadParam:function(){return this.multidimensionalMode?this.gridData.keys():this.gridData.values();},serializeObject:function(){var clone;if(this.multidimensionalMode){clone=this.gridData.clone();clone.each(function(pair){clone.set(pair.key,Base64.encode(Object.toQueryString(pair.value)));});return clone.toQueryString();}\nreturn this.gridData.values().join('&');},convertArrayToObject:function(_array){var _object={},i,l;for(i=0,l=_array.length;i<l;i++){_object[_array[i]]=_array[i];}\nreturn _object;}};});","mage/adminhtml/wysiwyg/events.min.js":"define([],function(){'use strict';return{afterInitialization:'afterInitialization',afterChangeContent:'afterChangeContent',afterUndo:'afterUndo',afterPaste:'afterPaste',beforeSetContent:'beforeSetContent',afterSetContent:'afterSetContent',afterSave:'afterSave',afterOpenFileBrowser:'afterOpenFileBrowser',afterFormSubmit:'afterFormSubmit',afterBlur:'afterBlur',afterFocus:'afterFocus'};});","mage/adminhtml/wysiwyg/widget.min.js":"define(['jquery','wysiwygAdapter','Magento_Ui/js/modal/alert','jquery/ui','mage/translate','mage/mage','mage/validation','mage/adminhtml/events','prototype','Magento_Ui/js/modal/modal'],function(jQuery,wysiwyg,alert){var widgetTools={activeSelectedNode:null,editMode:false,cursorLocation:0,setActiveSelectedNode:function(activeSelectedNode){this.activeSelectedNode=activeSelectedNode;},getActiveSelectedNode:function(){return this.activeSelectedNode;},setEditMode:function(editMode){this.editMode=editMode;},getDivHtml:function(id,html){if(!html){html='';}\nreturn'<div id=\"'+id+'\">'+html+'</div>';},onAjaxSuccess:function(transport){var response;if(transport.responseText.isJSON()){response=transport.responseText.evalJSON();if(response.error){throw response;}else if(response.ajaxExpired&&response.ajaxRedirect){setLocation(response.ajaxRedirect);}}},dialogOpened:false,getMaxZIndex:function(){var max=0,cn=document.body.childNodes,i,el,zIndex;for(i=0;i<cn.length;i++){el=cn[i];zIndex=el.nodeType==1?parseInt(el.style.zIndex,10)||0:0;if(zIndex<10000){max=Math.max(max,zIndex);}}\nreturn max+10;},openDialog:function(widgetUrl){var oThis=this,title='Insert Widget',mode='new',dialog;if(this.editMode){title='Edit Widget';mode='edit';}\nif(this.dialogOpened){return;}\nthis.dialogWindow=jQuery('<div/>').modal({title:jQuery.mage.__(title),type:'slide',buttons:[],opened:function(){dialog=jQuery(this).addClass('loading magento-message');widgetUrl+='mode/'+mode;new Ajax.Updater($(this),widgetUrl,{evalScripts:true,onComplete:function(){dialog.removeClass('loading');}});},closed:function(e,modal){modal.modal.remove();oThis.dialogOpened=false;}});this.dialogOpened=true;this.dialogWindow.modal('openModal');}},WysiwygWidget={};WysiwygWidget.Widget=Class.create();WysiwygWidget.Widget.prototype={initialize:function(formEl,widgetEl,widgetOptionsEl,optionsSourceUrl,widgetTargetId){$(formEl).insert({bottom:widgetTools.getDivHtml(widgetOptionsEl)});this.formEl=formEl;this.widgetEl=$(widgetEl);this.widgetOptionsEl=$(widgetOptionsEl);this.optionsUrl=optionsSourceUrl;this.optionValues=new Hash({});this.widgetTargetId=widgetTargetId;if(typeof wysiwyg!='undefined'&&wysiwyg.activeEditor()){this.bMark=wysiwyg.activeEditor().selection.getBookmark();}\nthis.widgetEl.querySelector('option').setAttribute('disabled','disabled');Event.observe(this.widgetEl,'change',this.loadOptions.bind(this));this.initOptionValues();},getOptionsContainerId:function(){return this.widgetOptionsEl.id+'_'+this.widgetEl.value.gsub(/\\//,'_');},switchOptionsContainer:function(containerId){$$('#'+this.widgetOptionsEl.id+' div[id^='+this.widgetOptionsEl.id+']').each(function(e){this.disableOptionsContainer(e.id);}.bind(this));if(containerId!=undefined){this.enableOptionsContainer(containerId);}\nthis._showWidgetDescription();},enableOptionsContainer:function(containerId){var container=$(containerId);container.select('.widget-option').each(function(e){e.removeClassName('skip-submit');if(e.hasClassName('obligatory')){e.removeClassName('obligatory');e.addClassName('required-entry');}});container.removeClassName('no-display');},disableOptionsContainer:function(containerId){var container=$(containerId);if(container.hasClassName('no-display')){return;}\ncontainer.select('.widget-option').each(function(e){if(!e.hasClassName('skip-submit')){e.addClassName('skip-submit');}\nif(e.hasClassName('required-entry')){e.removeClassName('required-entry');e.addClassName('obligatory');}});container.addClassName('no-display');},initOptionValues:function(){var e,widgetCode;if(!this.wysiwygExists()){return false;}\ne=this.getWysiwygNode();if(e.localName==='span'){e=e.firstElementChild;}\nif(e!=undefined&&e.id){try{widgetCode=Base64.idDecode(e.id);}catch(ex){return false;}\nif(widgetCode.indexOf('{{widget')!==-1){this.optionValues=new Hash({});widgetCode.gsub(/([a-z0-9\\_]+)\\s*\\=\\s*[\\\"]{1}([^\\\"]+)[\\\"]{1}/i,function(match){if(match[1]=='type'){this.widgetEl.value=match[2];}else{this.optionValues.set(match[1],match[2]);}}.bind(this));this.loadOptions();}}},loadOptions:function(){var optionsContainerId,params,msg,msgTmpl,$wrapper,typeName=this.optionValues.get('type_name');if(!this.widgetEl.value){if(typeName){msgTmpl=jQuery.mage.__('The widget %1 is no longer available. Select a different widget.');msg=jQuery.mage.__(msgTmpl).replace('%1',typeName);jQuery('body').notification('clear').notification('add',{error:true,message:msg,insertMethod:function(message){$wrapper=jQuery('<div/>').html(message);$wrapper.insertAfter('.modal-slide .page-main-actions');}});}\nthis.switchOptionsContainer();return;}\noptionsContainerId=this.getOptionsContainerId();if($(optionsContainerId)!=undefined){this.switchOptionsContainer(optionsContainerId);return;}\nthis._showWidgetDescription();params={'widget_type':this.widgetEl.value,values:this.optionValues};new Ajax.Request(this.optionsUrl,{parameters:{widget:Object.toJSON(params)},onSuccess:function(transport){try{widgetTools.onAjaxSuccess(transport);this.switchOptionsContainer();if($(optionsContainerId)==undefined){this.widgetOptionsEl.insert({bottom:widgetTools.getDivHtml(optionsContainerId,transport.responseText)});}else{this.switchOptionsContainer(optionsContainerId);}}catch(e){alert({content:e.message});}}.bind(this)});},_showWidgetDescription:function(){var noteCnt=this.widgetEl.next().down('small'),descrCnt=$('widget-description-'+this.widgetEl.selectedIndex),description;if(noteCnt!=undefined){description=descrCnt!=undefined?descrCnt.innerHTML:'';noteCnt.update(description);}},validateField:function(){jQuery(this.widgetEl).valid();jQuery('#insert_button').removeClass('disabled');},closeModal:function(){widgetTools.dialogWindow.modal('closeModal');},insertWidget:function(){var validationResult,$form=jQuery('#'+this.formEl),formElements,i,params,editor,activeNode;jQuery.data($form[0],'validator',null);$form.validate({ignore:function(){return jQuery(this).closest('.skip-submit, .no-display').length;},errorClass:'mage-error'});validationResult=$form.valid();if(validationResult){formElements=[];i=0;Form.getElements($(this.formEl)).each(function(e){if(jQuery(e).closest('.skip-submit, .no-display').length===0){formElements[i]=e;i++;}});params=Form.serializeElements(formElements);if(!this.wysiwygExists()){params+='&as_is=1';}\nnew Ajax.Request($(this.formEl).action,{parameters:params,onComplete:function(transport){try{editor=wysiwyg.get(this.widgetTargetId);widgetTools.onAjaxSuccess(transport);widgetTools.dialogWindow.modal('closeModal');if(editor){editor.focus();activeNode=widgetTools.getActiveSelectedNode();if(activeNode){editor.selection.select(activeNode);editor.selection.setContent(transport.responseText);editor.fire('Change');}else if(this.bMark){editor.selection.moveToBookmark(this.bMark);}}\nif(!activeNode){this.updateContent(transport.responseText);}}catch(e){alert({content:e.message});}}.bind(this)});}},updateContent:function(content){var textarea;if(this.wysiwygExists()){wysiwyg.insertContent(content,false);}else{textarea=document.getElementById(this.widgetTargetId);updateElementAtCursor(textarea,content);varienGlobalEvents.fireEvent('tinymceChange');jQuery(textarea).trigger('change');}},wysiwygExists:function(){return typeof wysiwyg!='undefined'&&wysiwyg.get(this.widgetTargetId);},getWysiwyg:function(){return wysiwyg.get(this.widgetTargetId);},getWysiwygNode:function(){return widgetTools.getActiveSelectedNode()||wysiwyg.activeEditor().selection.getNode();}};WysiwygWidget.chooser=Class.create();WysiwygWidget.chooser.prototype={chooserId:null,chooserUrl:null,config:null,dialogWindow:null,dialogContent:null,overlayShowEffectOptions:null,overlayHideEffectOptions:null,initialize:function(chooserId,chooserUrl,config){this.chooserId=chooserId;this.chooserUrl=chooserUrl;this.config=config;},getResponseContainerId:function(){return'responseCnt'+this.chooserId;},getChooserControl:function(){return $(this.chooserId+'control');},getElement:function(){return $(this.chooserId+'value');},getElementLabel:function(){return $(this.chooserId+'label');},open:function(){$(this.getResponseContainerId()).show();},close:function(){$(this.getResponseContainerId()).hide();this.closeDialogWindow();},choose:function(){var responseContainerId;if(this.dialogContent){this.openDialogWindow(this.dialogContent);return;}\nresponseContainerId=this.getResponseContainerId();new Ajax.Request(this.chooserUrl,{parameters:{'element_value':this.getElementValue(),'element_label':this.getElementLabelText()},onSuccess:function(transport){try{widgetTools.onAjaxSuccess(transport);this.dialogContent=widgetTools.getDivHtml(responseContainerId,transport.responseText);this.openDialogWindow(this.dialogContent);}catch(e){alert({content:e.message});}}.bind(this)});},openDialogWindow:function(content){this.dialogWindow=jQuery('<div/>').modal({title:this.config.buttons.open,type:'slide',buttons:[],opened:function(){jQuery(this).addClass('magento-message');},closed:function(e,modal){modal.modal.remove();this.dialogWindow=null;}});this.dialogWindow.modal('openModal').append(content);},closeDialogWindow:function(){this.dialogWindow.modal('closeModal').remove();},getElementValue:function(){return this.getElement().value;},getElementLabelText:function(){return this.getElementLabel().innerHTML;},setElementValue:function(value){this.getElement().value=value;},setElementLabel:function(value){this.getElementLabel().innerHTML=value;}};window.WysiwygWidget=WysiwygWidget;window.widgetTools=widgetTools;});","mage/adminhtml/wysiwyg/tiny_mce/html5-schema.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'underscore'\n], function (_) {\n    'use strict';\n\n    /* eslint-disable max-len */\n\n    var schema = {\n        blockContent: [\n            'address', 'article', 'aside', 'blockquote', 'details', 'dialog', 'div', 'dl', 'fieldset',\n            'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'hgroup', 'hr',\n            'menu', 'nav', 'ol', 'p', 'pre', 'section', 'table', 'ul'\n        ],\n        phrasingContent: [\n            '#comment', '#text', 'a', 'abbr', 'audio', 'b', 'bdi', 'bdo', 'br', 'button', 'canvas',\n            'cite','code', 'command', 'datalist', 'del', 'dfn', 'em', 'embed', 'i', 'iframe', 'img',\n            'input', 'ins', 'kbd', 'keygen', 'label', 'map', 'mark', 'meter', 'noscript', 'object',\n            'output', 'picture', 'progress', 'q', 'ruby', 's', 'samp', 'script', 'select', 'small',\n            'span', 'strong', 'sub', 'sup', 'textarea', 'time', 'u', 'var', 'video', 'wbr'\n        ],\n        blockElements: [\n            'address', 'article', 'aside', 'blockquote', 'caption', 'center', 'datalist', 'dd', 'dir', 'div',\n            'dl', 'dt', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6',\n            'header', 'hgroup', 'hr', 'isindex', 'li', 'menu', 'nav', 'noscript', 'ol', 'optgroup', 'option',\n            'p', 'pre', 'section', 'select', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'ul'\n        ],\n        boolAttrs: [\n            'autoplay', 'checked', 'compact', 'controls', 'declare', 'defer', 'disabled', 'ismap', 'loop',\n            'multiple', 'nohref', 'noresize', 'noshade', 'nowrap', 'readonly', 'selected'\n        ],\n        shortEnded: [\n            'area', 'base', 'basefont', 'br', 'col', 'embed', 'frame', 'hr', 'img', 'input', 'isindex',\n            'link', 'meta', 'param', 'source', 'track', 'wbr'\n        ],\n        whiteSpace: [\n            'audio', 'iframe', 'noscript', 'object', 'pre', 'script', 'style', 'textarea', 'video'\n        ],\n        selfClosing: [\n            'colgroup', 'dd', 'dt', 'li', 'option', 'p', 'td', 'tfoot', 'th', 'thead', 'tr'\n        ]\n    };\n\n    schema.flowContent = schema.blockContent.concat(schema.phrasingContent, ['style']);\n    schema.nonEmpty = ['td', 'th', 'iframe', 'video', 'audio', 'object', 'script', 'i', 'em', 'span'].concat(schema.shortEnded);\n\n    _.extend(schema, (function (phrasingContent, flowContent) {\n        var validElements   = [],\n            validChildren   = [],\n            compiled        = {},\n            globalAttrs,\n            rawData;\n\n        globalAttrs = [\n            'id', 'dir', 'lang', 'class', 'style', 'title', 'hidden', 'onclick', 'onkeyup',\n            'tabindex', 'dropzone', 'accesskey', 'draggable', 'translate', 'onmouseup',\n            'onkeydown', 'spellcheck', 'ondblclick', 'onmouseout', 'onkeypress', 'contextmenu',\n            'onmousedown', 'onmouseover', 'onmousemove', 'contenteditable'\n        ];\n\n        rawData = [\n            ['html', 'manifest', 'head body'],\n            ['head', '', 'base command link meta noscript script style title'],\n            ['title hr noscript br'],\n            ['base', 'href target'],\n            ['link', 'href rel media hreflang type sizes hreflang'],\n            ['meta', 'name http-equiv content charset'],\n            ['style', 'media type scoped'],\n            ['script', 'src async defer type charset'],\n            ['body', 'onafterprint onbeforeprint onbeforeunload onblur onerror onfocus ' +\n                'onhashchange onload onmessage onoffline ononline onpagehide onpageshow ' +\n                'onpopstate onresize onscroll onstorage onunload background bgcolor text link vlink alink', flowContent\n            ],\n            ['caption', '', _.without(flowContent, 'table')],\n            ['address dt dd div', '', flowContent],\n            ['h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn', '', phrasingContent],\n            ['blockquote', 'cite', flowContent],\n            ['ol', 'reversed start type', 'li'],\n            ['ul', 'type compact', 'li'],\n            ['li', 'value type', flowContent],\n            ['dl', '', 'dt dd'],\n            ['a', 'href target rel media hreflang type charset name rev shape coords download', phrasingContent],\n            ['q', 'cite', phrasingContent],\n            ['ins del', 'cite datetime', flowContent],\n            ['img', 'src sizes srcset alt usemap ismap width height name longdesc align border hspace vspace'],\n            ['iframe', 'src name width height longdesc frameborder marginwidth marginheight scrolling align sandbox seamless allowfullscreen', flowContent],\n            ['embed', 'src type width height'],\n            ['object', 'data type typemustmatch name usemap form width height declare classid code codebase codetype archive standby align border hspace vspace', flowContent.concat(['param'])],\n            ['param', 'name value valuetype type'],\n            ['map', 'name', flowContent.concat(['area'])],\n            ['area', 'alt coords shape href target rel media hreflang type nohref'],\n            ['table', 'border summary width frame rules cellspacing cellpadding align bgcolor', 'caption colgroup thead tfoot tbody tr col'],\n            ['colgroup', 'span width align char charoff valign', 'col'],\n            ['col', 'span'],\n            ['tbody thead tfoot', 'align char charoff valign', 'tr'],\n            ['tr', 'align char charoff valign bgcolor', 'td th'],\n            ['td', 'colspan rowspan headers abbr axis scope align char charoff valign nowrap bgcolor width height', flowContent],\n            ['th', 'colspan rowspan headers scope abbr axis align char charoff valign nowrap bgcolor width height accept', flowContent],\n            ['form', 'accept-charset action autocomplete enctype method name novalidate target onsubmit onreset', flowContent],\n            ['fieldset', 'disabled form name', flowContent.concat(['legend'])],\n            ['label', 'form for', phrasingContent],\n            ['input', 'accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate ' +\n                'formtarget height list max maxlength min multiple name pattern readonly required size src step type value width usemap align'\n            ],\n            ['button', 'disabled form formaction formenctype formmethod formnovalidate formtarget name type value', phrasingContent],\n            ['select', 'disabled form multiple name required size onfocus onblur onchange', 'option optgroup'],\n            ['optgroup', 'disabled label', 'option'],\n            ['option', 'disabled label selected value'],\n            ['textarea', 'cols dirname disabled form maxlength name readonly required rows wrap'],\n            ['menu', 'type label', flowContent.concat(['li'])],\n            ['noscript', '', flowContent],\n            ['wbr'],\n            ['ruby', '', phrasingContent.concat(['rt', 'rp'])],\n            ['figcaption', '', flowContent],\n            ['mark rt rp summary bdi', '', phrasingContent],\n            ['canvas', 'width height', flowContent],\n            ['video', 'src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered', flowContent.concat(['track', 'source'])],\n            ['audio', 'src crossorigin preload autoplay mediagroup loop muted controls buffered volume', flowContent.concat(['track', 'source'])],\n            ['picture', '', 'img source'],\n            ['source', 'src srcset type media sizes'],\n            ['track', 'kind src srclang label default'],\n            ['datalist', '', phrasingContent.concat(['option'])],\n            ['article section nav aside header footer', '', flowContent],\n            ['hgroup', '', 'h1 h2 h3 h4 h5 h6'],\n            ['figure', '', flowContent.concat(['figcaption'])],\n            ['time', 'datetime', phrasingContent],\n            ['dialog', 'open', flowContent],\n            ['command', 'type label icon disabled checked radiogroup command'],\n            ['output', 'for form name', phrasingContent],\n            ['progress', 'value max', phrasingContent],\n            ['meter', 'value min max low high optimum', phrasingContent],\n            ['details', 'open', flowContent.concat(['summary'])],\n            ['keygen', 'autofocus challenge disabled form keytype name'],\n            ['script', 'language xml:space'],\n            ['style', 'xml:space'],\n            ['embed', 'align name hspace vspace'],\n            ['br', 'clear'],\n            ['applet', 'codebase archive code object alt name width height align hspace vspace'],\n            ['font basefont', 'size color face'],\n            ['h1 h2 h3 h4 h5 h6 div p legend caption', 'align'],\n            ['ol dl menu dir', 'compact'],\n            ['pre', 'width xml:space'],\n            ['hr', 'align noshade size width'],\n            ['isindex', 'prompt'],\n            ['col', 'width align char charoff valign'],\n            ['input button select textarea', 'autofocus'],\n            ['input textarea', 'placeholder onselect onchange onfocus onblur'],\n            ['link script img', 'crossorigin']\n        ];\n\n        rawData.forEach(function (data) {\n            var nodes       = data[0].split(' '),\n                attributes  = data[1] || [],\n                children    = data[2] || [],\n                ni          = nodes.length,\n                nodeName,\n                schemaData;\n\n            if (typeof attributes === 'string') {\n                attributes = attributes.split(' ');\n            }\n\n            if (typeof children === 'string') {\n                children = children.split(' ');\n            }\n\n            while (ni--) {\n                nodeName    = nodes[ni];\n                schemaData  = compiled[nodeName] || {};\n\n                compiled[nodeName] = {\n                    attributes: _.union(schemaData.attributes, globalAttrs, attributes),\n                    children: _.union(schemaData.children, children)\n                };\n            }\n        });\n\n        ['a', 'dfn', 'form', 'meter', 'progress'].forEach(function (nodeName) {\n            var node = compiled[nodeName];\n\n            node.children = _.without(node.children, nodeName);\n        });\n\n        _.each(compiled, function (node, nodeName) {\n            var filteredAttributes = [];\n\n            _.each(node.attributes, function (attribute) { //eslint-disable-line max-nested-callbacks\n                // Disallowing usage of 'on*' attributes.\n                if (!/^on/.test(attribute)) {\n                    filteredAttributes.push(attribute);\n                }\n            });\n\n            node.attributes = filteredAttributes;\n\n            validElements.push(nodeName + '[' + node.attributes.join('|') + ']');\n            validChildren.push(nodeName + '[' + node.children.join('|') + ']');\n        });\n\n        return {\n            nodes: compiled,\n            validElements: validElements,\n            validChildren: validChildren\n        };\n    })(schema.phrasingContent, schema.flowContent));\n\n    return schema;\n});\n","mage/adminhtml/wysiwyg/tiny_mce/setup.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* eslint-disable strict */\ndefine([\n    'jquery',\n    'underscore',\n    'wysiwygAdapter',\n    'module',\n    'mage/translate',\n    'prototype',\n    'mage/adminhtml/events',\n    'mage/adminhtml/browser'\n], function (jQuery, _, wysiwygAdapter, module) {\n    var baseConfig = module.config().config || {},\n        wysiwygSetup = Class.create({\n        wysiwygInstance: null\n    });\n\n    wysiwygSetup.prototype = {\n\n        /**\n         * @param {*} htmlId\n         * @param {Object} config\n         */\n        initialize: function (htmlId, config) {\n            var WysiwygInstancePrototype = new wysiwygAdapter.getAdapterPrototype();\n\n            _.bindAll(this, 'openFileBrowser');\n\n            config = _.extend({}, baseConfig, config || {});\n            this.wysiwygInstance = new WysiwygInstancePrototype(htmlId, config);\n            this.wysiwygInstance.eventBus = this.eventBus = new window.varienEvents();\n        },\n\n        /**\n         * @param {*} mode\n         */\n        setup: function (mode) {\n            this.wysiwygInstance.setup(mode);\n        },\n\n        /**\n         * @param {Object} o\n         */\n        openFileBrowser: function (o) {\n            this.wysiwygInstance.openFileBrowser(o);\n        },\n\n        /**\n         * @return {Boolean}\n         */\n        toggle: function () {\n            return this.wysiwygInstance.toggle();\n        },\n\n        /**\n         * On form validation.\n         */\n        onFormValidation: function () {\n            this.wysiwygInstance.onFormValidation();\n        },\n\n        /**\n         * Encodes the content so it can be inserted into the wysiwyg\n         * @param {String} content - The content to be encoded\n         *\n         * @returns {*} - The encoded content\n         */\n        updateContent: function (content) {\n            return this.wysiwygInstance.encodeContent(content);\n        }\n\n    };\n    window.wysiwygSetup = wysiwygSetup;\n\n    return wysiwygSetup;\n});\n","mage/adminhtml/wysiwyg/tiny_mce/tinymce5Adapter.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* global popups, tinyMceEditors, MediabrowserUtility, Base64 */\n/* eslint-disable strict */\ndefine([\n    'jquery',\n    'underscore',\n    'tinymce',\n    'mage/adminhtml/events',\n    'mage/adminhtml/wysiwyg/events',\n    'mage/translate',\n    'prototype',\n    'jquery/ui'\n], function (jQuery, _, tinyMCE, varienGlobalEvents, wysiwygEvents) {\n    'use strict';\n\n    var tinyMceWysiwyg = Class.create();\n\n    tinyMceWysiwyg.prototype = {\n        mediaBrowserOpener: null,\n        mediaBrowserTargetElementId: null,\n        magentoVariablesPlugin: null,\n        mode: 'exact',\n\n        /**\n         * @param {*} htmlId\n         * @param {Object} config\n         */\n        initialize: function (htmlId, config) {\n            this.id = htmlId;\n            this.config = config;\n\n            _.bindAll(\n                this,\n                'beforeSetContent',\n                'saveContent',\n                'onChangeContent',\n                'openFileBrowser',\n                'updateTextArea',\n                'onUndo',\n                'removeEvents'\n            );\n\n            varienGlobalEvents.attachEventHandler('tinymceChange', this.onChangeContent);\n            varienGlobalEvents.attachEventHandler('tinymceBeforeSetContent', this.beforeSetContent);\n            varienGlobalEvents.attachEventHandler('tinymceSetContent', this.updateTextArea);\n            varienGlobalEvents.attachEventHandler('tinymceSaveContent', this.saveContent);\n            varienGlobalEvents.attachEventHandler('tinymceUndo', this.onUndo);\n\n            if (typeof tinyMceEditors === 'undefined') {\n                window.tinyMceEditors = $H({});\n            }\n\n            tinyMceEditors.set(this.id, this);\n        },\n\n        /**\n         * Ensures the undo operation works properly\n         */\n        onUndo: function () {\n            this.addContentEditableAttributeBackToNonEditableNodes();\n        },\n\n        /**\n         * Setup TinyMCE editor\n         */\n        setup: function (mode) {\n            var deferreds = [],\n                settings,\n                self = this;\n\n            this.turnOff();\n\n            if (this.config.plugins) {\n                this.config.plugins.forEach(function (plugin) {\n                    var deferred;\n\n                    self.addPluginToToolbar(plugin.name, '|');\n\n                    if (!plugin.src) {\n                        return;\n                    }\n\n                    deferred = jQuery.Deferred();\n                    deferreds.push(deferred);\n\n                    require([plugin.src], function (factoryFn) {\n                        if (typeof factoryFn === 'function') {\n                            factoryFn(plugin.options);\n                        }\n\n                        tinyMCE.PluginManager.load(plugin.name, plugin.src);\n                        deferred.resolve();\n                    });\n                });\n            }\n\n            if (jQuery.isReady) {\n                tinyMCE.dom.Event.domLoaded = true;\n            }\n\n            settings = this.getSettings();\n\n            if (mode === 'inline') {\n                settings.inline = true;\n\n                if (!isNaN(settings.toolbarZIndex)) {\n                    tinyMCE.ui.FloatPanel.zIndex = settings.toolbarZIndex;\n                }\n\n                this.removeEvents(self.id);\n            }\n\n            jQuery.when.apply(jQuery, deferreds).done(function () {\n                tinyMCE.init(settings);\n                this.getPluginButtons().hide();\n                varienGlobalEvents.clearEventHandlers('open_browser_callback');\n                this.eventBus.clearEventHandlers('open_browser_callback');\n                this.eventBus.attachEventHandler('open_browser_callback', tinyMceEditors.get(self.id).openFileBrowser);\n            }.bind(this));\n        },\n\n        /**\n         * Remove events from instance.\n         *\n         * @param {String} wysiwygId\n         */\n        removeEvents: function (wysiwygId) {\n            var editor;\n\n            if (typeof tinyMceEditors !== 'undefined' && tinyMceEditors.get(wysiwygId)) {\n                editor = tinyMceEditors.get(wysiwygId);\n                varienGlobalEvents.removeEventHandler('tinymceChange', editor.onChangeContent);\n            }\n        },\n\n        /**\n         * Add plugin to the toolbar if not added.\n         *\n         * @param {String} plugin\n         * @param {String} separator\n         */\n        addPluginToToolbar: function (plugin, separator) {\n            var plugins = this.config.tinymce.plugins.split(' '),\n                toolbar = this.config.tinymce.toolbar.split(' ');\n\n            if (plugins.indexOf(plugin) === -1) {\n                plugins.push(plugin);\n            }\n\n            if (toolbar.indexOf(plugin) === -1) {\n                toolbar.push(separator || '', plugin);\n            }\n\n            this.config.tinymce.plugins = plugins.join(' ');\n            this.config.tinymce.toolbar = toolbar.join(' ');\n        },\n\n        /**\n         * Set the status of the toolbar to disabled or enabled (true for enabled, false for disabled)\n         * @param {Boolean} enabled\n         */\n        setToolbarStatus: function (enabled) {\n            var controlIds = this.get(this.getId()).theme.panel.rootControl.controlIdLookup;\n\n            _.each(controlIds, function (controlId) {\n                controlId.disabled(!enabled);\n                controlId.canFocus = enabled;\n\n                if (controlId.tooltip) {\n                    controlId.tooltip().state.set('rendered', enabled);\n\n                    if (enabled) {\n                        jQuery(controlId.getEl()).children('button').addBack().removeAttr('style');\n                    } else {\n                        jQuery(controlId.getEl()).children('button').addBack().attr('style', 'color: inherit;' +\n                            'background-color: inherit;' +\n                            'border-color: transparent;'\n                        );\n                    }\n                }\n            });\n        },\n\n        /**\n         * @return {Object}\n         */\n        getSettings: function () {\n            var settings,\n                eventBus = this.eventBus;\n\n            settings = {\n                selector: '#' + this.getId(),\n                theme: 'silver',\n                skin: 'oxide',\n                'toolbar_mode': 'wrap',\n                'entity_encoding': 'raw',\n                'convert_urls': false,\n                'content_css': this.config.tinymce['content_css'],\n                'relative_urls': true,\n                'valid_children': '+body[style]',\n                menubar: false,\n                plugins: this.config.tinymce.plugins,\n                toolbar: this.config.tinymce.toolbar,\n                adapter: this,\n                'body_id': 'html-body',\n\n                /**\n                 * @param {Object} editor\n                 */\n                setup: function (editor) {\n                    var onChange;\n\n                    editor.on('BeforeSetContent', function (evt) {\n                        varienGlobalEvents.fireEvent('tinymceBeforeSetContent', evt);\n                        eventBus.fireEvent(wysiwygEvents.beforeSetContent);\n                    });\n\n                    editor.on('SaveContent', function (evt) {\n                        varienGlobalEvents.fireEvent('tinymceSaveContent', evt);\n                        eventBus.fireEvent(wysiwygEvents.afterSave);\n                    });\n\n                    editor.on('paste', function (evt) {\n                        varienGlobalEvents.fireEvent('tinymcePaste', evt);\n                        eventBus.fireEvent(wysiwygEvents.afterPaste);\n                    });\n\n                    editor.on('PostProcess', function (evt) {\n                        varienGlobalEvents.fireEvent('tinymceSaveContent', evt);\n                        eventBus.fireEvent(wysiwygEvents.afterSave);\n                    });\n\n                    editor.on('undo', function (evt) {\n                        varienGlobalEvents.fireEvent('tinymceUndo', evt);\n                        eventBus.fireEvent(wysiwygEvents.afterUndo);\n                    });\n\n                    editor.on('focus', function () {\n                        eventBus.fireEvent(wysiwygEvents.afterFocus);\n                    });\n\n                    editor.on('blur', function () {\n                        eventBus.fireEvent(wysiwygEvents.afterBlur);\n                    });\n\n                    /**\n                     * @param {*} evt\n                     */\n                    onChange = function (evt) {\n                        varienGlobalEvents.fireEvent('tinymceChange', evt);\n                        eventBus.fireEvent(wysiwygEvents.afterChangeContent);\n                    };\n\n                    editor.on('Change', onChange);\n                    editor.on('keyup', onChange);\n\n                    editor.on('ExecCommand', function (cmd) {\n                        varienGlobalEvents.fireEvent('tinymceExecCommand', cmd);\n                    });\n\n                    editor.on('init', function (args) {\n                        varienGlobalEvents.fireEvent('wysiwygEditorInitialized', args.target);\n                        eventBus.fireEvent(wysiwygEvents.afterInitialization);\n                    });\n                }\n            };\n\n            // Set default initial height\n            settings['min_height'] = this.config.tinymce['min_height'] ? this.config.tinymce['min_height'] : 250;\n\n            if (this.config.skin) {\n                settings.skin = this.config.skin;\n            }\n\n            if (this.config['toolbar_mode']) {\n                settings['toolbar_mode'] = this.config['toolbar_mode'];\n            }\n\n            if (this.config.baseStaticUrl && this.config.baseStaticDefaultUrl) {\n                settings['document_base_url'] = this.config.baseStaticUrl;\n            }\n            // Set the document base URL\n            if (this.config['document_base_url']) {\n                settings['document_base_url'] = this.config['document_base_url'];\n            }\n\n            if (this.config['files_browser_window_url']) {\n                settings['file_picker_callback_types'] = 'file image media';\n\n                /**\n                 * @param {*} callback\n                 * @param {*} value\n                 * @param {*} meta\n                 */\n                settings['file_picker_callback'] = function (callback, value, meta) {\n                    var payload = {\n                        callback: callback,\n                        value: value,\n                        meta: meta\n                    };\n\n                    varienGlobalEvents.fireEvent('open_browser_callback', payload);\n                    this.eventBus.fireEvent('open_browser_callback', payload);\n                }.bind(this);\n            }\n\n            if (this.config.width) {\n                settings.width = this.config.width;\n            }\n\n            if (this.config.height) {\n                settings.height = this.config.height;\n            }\n\n            if (this.config.plugins) {\n                settings.magentoPluginsOptions = {};\n\n                _.each(this.config.plugins, function (plugin) {\n                    settings.magentoPluginsOptions[plugin.name] = plugin.options;\n                });\n            }\n\n            if (this.config.settings) {\n                Object.extend(settings, this.config.settings);\n            }\n\n            return settings;\n        },\n\n        /**\n         * @param {String} id\n         */\n        get: function (id) {\n            return tinyMCE.get(id);\n        },\n\n        /**\n         * @return {String|null}\n         */\n        getId: function () {\n            return this.id || (this.activeEditor() ? this.activeEditor().id : null) || tinyMceEditors.values()[0].id;\n        },\n\n        /**\n         * @return {Object}\n         */\n        activeEditor: function () {\n            return tinyMCE.activeEditor;\n        },\n\n        /**\n         * Insert content to active editor.\n         *\n         * @param {String} content\n         * @param {Boolean} ui\n         */\n        insertContent: function (content, ui) {\n            this.activeEditor().execCommand('mceInsertContent', typeof ui !== 'undefined' ? ui : false, content);\n        },\n\n        /**\n         * Replace entire contents of wysiwyg with string content parameter\n         *\n         * @param {String} content\n         */\n        setContent: function (content) {\n            this.get(this.getId()).setContent(content);\n        },\n\n        /**\n         * Set caret location in WYSIWYG editor.\n         *\n         * @param {Object} targetElement\n         */\n        setCaretOnElement: function (targetElement) {\n            this.activeEditor().selection.select(targetElement);\n            this.activeEditor().selection.collapse();\n        },\n\n        /**\n         * @param {Object} o\n         */\n        openFileBrowser: function (o) {\n            var typeTitle = this.translate('Select Images'),\n                storeId = this.config['store_id'] ? this.config['store_id'] : 0,\n                frameDialog = jQuery('div.mce-container[role=\"dialog\"]'),\n                self = this,\n                wUrl = this.config['files_browser_window_url'] +\n                    'target_element_id/' + this.getId() + '/' +\n                    'store/' + storeId + '/';\n\n            this.mediaBrowserOpener = o.callback;\n\n            if (typeof o.meta.filetype !== 'undefined' && o.meta.filetype !== '') { //eslint-disable-line eqeqeq\n                wUrl = wUrl + 'type/' + o.meta.filetype + '/';\n            }\n\n            frameDialog.hide();\n            jQuery('.tox-tinymce-aux').hide();\n\n            require(['mage/adminhtml/browser'], function () {\n                MediabrowserUtility.openDialog(wUrl, false, false, typeTitle, {\n                        /**\n                         * Closed.\n                         */\n                        closed: function () {\n                            frameDialog.show();\n                            jQuery('.tox-tinymce-aux').show();\n                        },\n\n                        targetElementId: self.activeEditor() ? self.activeEditor().id : null\n                    }\n                );\n            });\n        },\n\n        /**\n         * @param {String} string\n         * @return {String}\n         */\n        translate: function (string) {\n            return jQuery.mage.__ ? jQuery.mage.__(string) : string;\n        },\n\n        /**\n         * @return {null}\n         */\n        getMediaBrowserOpener: function () {\n            return this.mediaBrowserOpener;\n        },\n\n        /**\n         * @return {null}\n         */\n        getMediaBrowserTargetElementId: function () {\n            return this.mediaBrowserTargetElementId;\n        },\n\n        /**\n         * @return {jQuery|*|HTMLElement}\n         */\n        getToggleButton: function () {\n            return $('toggle' + this.getId());\n        },\n\n        /**\n         * Get plugins button.\n         */\n        getPluginButtons: function () {\n            return jQuery('#buttons' + this.getId() + ' > button.plugin');\n        },\n\n        /**\n         * @param {*} mode\n         * @return {wysiwygSetup}\n         */\n        turnOn: function (mode) {\n            this.closePopups();\n\n            this.setup(mode);\n\n            this.getPluginButtons().hide();\n\n            tinyMCE.execCommand('mceAddControl', false, this.getId());\n\n            return this;\n        },\n\n        /**\n         * @param {String} name\n         */\n        closeEditorPopup: function (name) {\n            if (typeof popups !== 'undefined' && popups[name] !== undefined && !popups[name].closed) {\n                popups[name].close();\n            }\n        },\n\n        /**\n         * @return {wysiwygSetup}\n         */\n        turnOff: function () {\n            this.closePopups();\n\n            this.getPluginButtons().show();\n\n            tinyMCE.execCommand('mceRemoveEditor', false, this.getId());\n\n            return this;\n        },\n\n        /**\n         * Close popups.\n         */\n        closePopups: function () {\n            // close all popups to avoid problems with updating parent content area\n            varienGlobalEvents.fireEvent('wysiwygClosePopups');\n            this.closeEditorPopup('browser_window' + this.getId());\n        },\n\n        /**\n         * @return {Boolean}\n         */\n        toggle: function () {\n            var content;\n\n            if (!tinyMCE.get(this.getId())) {\n                this.turnOn();\n\n                return true;\n            }\n\n            content = this.get(this.getId()) ? this.get(this.getId()).getContent() : this.getTextArea().val();\n\n            this.turnOff();\n\n            if (content.match(/{{.+?}}/g)) {\n                this.getTextArea().val(content.replace(/&quot;/g, '\"'));\n            }\n\n            return false;\n        },\n\n        /**\n         * On form validation.\n         */\n        onFormValidation: function () {\n            if (tinyMCE.get(this.getId())) {\n                $(this.getId()).value = tinyMCE.get(this.getId()).getContent();\n            }\n        },\n\n        /**\n         * On change content.\n         */\n        onChangeContent: function () {\n            // Add \"changed\" to tab class if it exists\n            var tab;\n\n            this.updateTextArea();\n\n            if (this.config['tab_id']) {\n                tab = $$('a[id$=' + this.config['tab_id'] + ']')[0];\n\n                if ($(tab) != undefined && $(tab).hasClassName('tab-item-link')) { //eslint-disable-line eqeqeq\n                    $(tab).addClassName('changed');\n                }\n            }\n        },\n\n        /**\n         * @param {Object} o\n         */\n        beforeSetContent: function (o) {\n            o.content = this.encodeContent(o.content);\n        },\n\n        /**\n         * @param {Object} o\n         */\n        saveContent: function (o) {\n            o.content = this.decodeContent(o.content);\n        },\n\n        /**\n         * Return the content stored in the WYSIWYG field\n         * @param {String} id\n         * @return {String}\n         */\n        getContent: function (id) {\n            return id ? this.get(id).getContent() : this.get(this.getId()).getContent();\n        },\n\n        /**\n         * @returns {Object}\n         */\n        getAdapterPrototype: function () {\n            return tinyMceWysiwyg;\n        },\n\n        /**\n         * Fix range selection placement when typing.  This fixes MAGETWO-84769\n         * @param {Object} editor\n         */\n        fixRangeSelection: function (editor) {\n            var selection = editor.selection,\n                dom = editor.dom,\n                rng = dom.createRng(),\n                doc = editor.getDoc(),\n                markerHtml,\n                marker;\n\n            // Validate the range we're trying to fix is contained within the current editors document\n            if (!selection.getContent().length && jQuery.contains(doc, selection.getRng().startContainer)) {\n                markerHtml = '<span id=\"mce_marker\" data-mce-type=\"bookmark\">\\uFEFF</span>';\n                selection.setContent(markerHtml);\n                marker = dom.get('mce_marker');\n                rng.setStartBefore(marker);\n                rng.setEndBefore(marker);\n                dom.remove(marker);\n                selection.setRng(rng);\n            }\n        },\n\n        /**\n         * Update text area.\n         */\n        updateTextArea: function () {\n            var editor = this.get(this.getId()),\n                content;\n\n            if (!editor || editor.id !== this.activeEditor().id) {\n                return;\n            }\n\n            this.addContentEditableAttributeBackToNonEditableNodes();\n\n            content = editor.getContent();\n            content = this.decodeContent(content);\n\n            this.getTextArea().val(content).trigger('change');\n        },\n\n        /**\n         * @return {Object} jQuery textarea element\n         */\n        getTextArea: function () {\n            return jQuery('#' + this.getId());\n        },\n\n        /**\n         * Set the status of the editor and toolbar\n         *\n         * @param {Boolean} enabled\n         */\n        setEnabledStatus: function (enabled) {\n            if (this.activeEditor()) {\n                this.activeEditor().getBody().setAttribute('contenteditable', enabled);\n                this.activeEditor().readonly = !enabled;\n                this.setToolbarStatus(enabled);\n            }\n\n            if (enabled) {\n                this.getTextArea().prop('disabled', false);\n            } else {\n                this.getTextArea().prop('disabled', 'disabled');\n            }\n        },\n\n        /**\n         * Retrieve directives URL with substituted directive value.\n         *\n         * @param {String} directive\n         */\n        makeDirectiveUrl: function (directive) {\n            return this.config['directives_url']\n                .replace(/directive/, 'directive/___directive/' + directive)\n                .replace(/\\/$/, '');\n        },\n\n        /**\n         * Convert {{directive}} style attributes syntax to absolute URLs\n         * @param {Object} content\n         * @return {*}\n         */\n        encodeDirectives: function (content) {\n            // collect all HTML tags with attributes that contain directives\n            return content.gsub(/<([a-z0-9\\-\\_]+[^>]+?)([a-z0-9\\-\\_]+=\"[^\"]*?\\{\\{.+?\\}\\}.*?\".*?)>/i, function (match) {\n                var attributesString = match[2],\n                    decodedDirectiveString;\n\n                // process tag attributes string\n                attributesString = attributesString.gsub(/([a-z0-9\\-\\_]+)=\"(.*?)(\\{\\{.+?\\}\\})(.*?)\"/i, function (m) {\n                    decodedDirectiveString = encodeURIComponent(Base64.mageEncode(m[3].replace(/&quot;/g, '\"') + m[4]));\n\n                    return m[1] + '=\"' + m[2] + this.makeDirectiveUrl(decodedDirectiveString) + '\"';\n                }.bind(this));\n\n                return '<' + match[1] + attributesString + '>';\n            }.bind(this));\n        },\n\n        /**\n         * Convert absolute URLs to {{directive}} style attributes syntax\n         * @param {Object} content\n         * @return {*}\n         */\n        decodeDirectives: function (content) {\n            var directiveUrl = this.makeDirectiveUrl('%directive%').split('?')[0], // remove query string from directive\n                // escape special chars in directives url to use in regular expression\n                regexEscapedDirectiveUrl = directiveUrl.replace(/([$^.?*!+:=()\\[\\]{}|\\\\])/g, '\\\\$1'),\n                regexDirectiveUrl = regexEscapedDirectiveUrl\n                    .replace(\n                        '%directive%',\n                        '([a-zA-Z0-9,_-]+(?:%2[A-Z]|)+\\/?)(?:(?!\").)*'\n                    ) + '/?(\\\\\\\\?[^\"]*)?', // allow optional query string\n                reg = new RegExp(regexDirectiveUrl);\n\n            return content.gsub(reg, function (match) {\n                return Base64.mageDecode(decodeURIComponent(match[1]).replace(/\\/$/, '')).replace(/\"/g, '&quot;');\n            });\n        },\n\n        /**\n         * @param {Object} attributes\n         * @return {Object}\n         */\n        parseAttributesString: function (attributes) {\n            var result = {};\n\n            // Decode &quot; entity, as regex below does not support encoded quote\n            attributes = attributes.replace(/&quot;/g, '\"');\n\n            attributes.gsub(\n                /(\\w+)(?:\\s*=\\s*(?:(?:\"((?:\\\\.|[^\"])*)\")|(?:'((?:\\\\.|[^'])*)')|([^>\\s]+)))?/,\n                function (match) {\n                    result[match[1]] = match[2];\n                }\n            );\n\n            return result;\n        },\n\n        /**\n         * @param {Object} content\n         * @return {*}\n         */\n        decodeContent: function (content) {\n            if (this.config['add_directives']) {\n                content = this.decodeDirectives(content);\n            }\n\n            content = varienGlobalEvents.fireEventReducer('wysiwygDecodeContent', content);\n\n            return content;\n        },\n\n        /**\n         * @param {Object} content\n         * @return {*}\n         */\n        encodeContent: function (content) {\n            if (this.config['add_directives']) {\n                content = this.encodeDirectives(content);\n            }\n\n            content = varienGlobalEvents.fireEventReducer('wysiwygEncodeContent', content);\n\n            return content;\n        },\n\n        /**\n         * Reinstate contenteditable attributes on .mceNonEditable nodes\n         */\n        addContentEditableAttributeBackToNonEditableNodes: function () {\n            jQuery('.mceNonEditable', this.activeEditor().getDoc()).attr('contenteditable', false);\n        },\n\n        /**\n         * Calls the save method on all editor instances in the collection.\n         */\n        triggerSave: function () {\n            tinyMCE.triggerSave();\n        }\n    };\n\n    return tinyMceWysiwyg.prototype;\n});\n","mage/adminhtml/wysiwyg/tiny_mce/plugins/magentovariable/editor_plugin.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* global tinymce, MagentovariablePlugin, varienGlobalEvents, Base64 */\n/* eslint-disable strict */\ndefine([\n    'Magento_Variable/js/config-directive-generator',\n    'Magento_Variable/js/custom-directive-generator',\n    'wysiwygAdapter',\n    'jquery',\n    'mage/adminhtml/tools'\n], function (configDirectiveGenerator, customDirectiveGenerator, wysiwyg, jQuery) {\n    return function (config) {\n        tinymce.create('tinymce.plugins.magentovariable', {\n\n            /**\n             * Initialize editor plugin.\n             *\n             * @param {tinymce.editor} editor - Editor instance that the plugin is initialized in.\n             */\n            init: function (editor) {\n                var self = this;\n\n                /**\n                 * Add new command to open variables selector slideout.\n                 */\n                editor.addCommand('openVariablesSlideout', function (commandConfig) {\n                    var selectedElement;\n\n                    if (commandConfig) {\n                        selectedElement = commandConfig.selectedElement;\n                    } else {\n                        selectedElement = tinymce.activeEditor.selection.getNode();\n                    }\n                    MagentovariablePlugin.setEditor(editor);\n                    MagentovariablePlugin.loadChooser(\n                        config.url,\n                        wysiwyg.getId(),\n                        selectedElement\n                    );\n                });\n\n                /**\n                 * Add button to the editor toolbar.\n                 */\n                editor.ui.registry.addIcon(\n                    'magentovariable',\n                    '<svg width=\"24\" height=\"24\" viewBox=\"0 0 32.000000 32.000000\" ' +\n                    'preserveAspectRatio=\"xMidYMid meet\"><g transform=\"translate(0.000000,32.000000) ' +\n                    'scale(0.100000,-0.100000)\" fill=\"#000000\" stroke=\"none\"><path d=\"M68 250 c-56 -44 -75 -136 -37 ' +\n                    '-184 27 -34 42 -33 23 2 -26 50 -9 129 38 179 26 28 10 30 -24 3z\"/><path d=\"M266 253 c5 -10 9 ' +\n                    '-41 9 -70 0 -42 -6 -60 -32 -97 -36 -51 -35 -56 7 -26 54 39 78 139 44 188 -18 26 -40 30 -28 5z\"/>' +\n                    '<path d=\"M128 223 c-15 -4 -15 -6 0 -33 16 -28 16 -30 -11 -58 -30 -31 -34 -42 -13 -42 8 0 17 11 ' +\n                    '20 25 4 14 11 25 16 25 5 0 12 -11 16 -25 6 -25 37 -35 49 -15 3 5 2 10 -3 10 -23 0 -20 44 5 76 ' +\n                    '25 34 25 34 4 34 -12 0 -20 -4 -17  -8 2 -4 0 -14 -5 -22 -7 -10 -12 -11 -15 -4 -10 25 -30 40 ' +\n                    '-46 37z\"/></g>' +\n                    '</svg>'\n                );\n                editor.ui.registry.addToggleButton('magentovariable', {\n                    icon: 'magentovariable',\n                    tooltip: jQuery.mage.__('Insert Variable'),\n\n                    /**\n                     * execute openVariablesSlideout for onAction callback\n                     */\n                    onAction: function () {\n                        editor.execCommand('openVariablesSlideout');\n                    },\n\n                    /**\n                     * Highlight or dismiss Insert Variable button when variable is selected or deselected.\n                     */\n                    onSetup: function (api) {\n                        /**\n                         * Toggle active state of Insert Variable button.\n                         *\n                         * @param {Object} e\n                         */\n                        var toggleVariableButton = function (e) {\n                            api.setActive(false);\n\n                            if (jQuery(e.target).hasClass('magento-variable')) {\n                                api.setActive(true);\n                            }\n                        };\n\n                        editor.on('click', toggleVariableButton);\n                        editor.on('change', toggleVariableButton);\n                    }\n                });\n\n                /**\n                 * Double click handler on the editor to handle dbl click on variable placeholder.\n                 */\n                editor.on('dblclick', function (evt) {\n                    if (jQuery(evt.target).hasClass('magento-variable')) {\n                        editor.selection.collapse(false);\n                        editor.execCommand('openVariablesSlideout', {\n                            ui: true,\n                            selectedElement: evt.target\n                        });\n                    }\n                });\n\n                /**\n                 * Attach event handler for when wysiwyg editor is about to encode its content\n                 */\n                varienGlobalEvents.attachEventHandler('wysiwygEncodeContent', function (content) {\n                    content = self.encodeVariables(content);\n\n                    return content;\n                });\n\n                /**\n                 * Attach event handler for when wysiwyg editor is about to decode its content\n                 */\n                varienGlobalEvents.attachEventHandler('wysiwygDecodeContent', function (content) {\n                    content = self.decodeVariables(content);\n\n                    return content;\n                });\n            },\n\n            /**\n             * Encode variables in content\n             *\n             * @param {String} content\n             * @returns {*}\n             */\n            encodeVariables: function (content) {\n                content = content.gsub(/\\{\\{config path=\\\"([^\\\"]+)\\\"\\}\\}/i, function (match) {\n                    var path = match[1],\n                        magentoVariables,\n                        imageHtml;\n\n                    magentoVariables = JSON.parse(config.placeholders);\n\n                    if (magentoVariables[match[1]] && magentoVariables[match[1]]['variable_type'] === 'default') {\n                        imageHtml = '<span id=\"%id\" class=\"magento-variable magento-placeholder mceNonEditable\">' +\n                            '%s</span>';\n                        imageHtml = imageHtml.replace('%s', magentoVariables[match[1]]['variable_name']);\n                    } else {\n                        imageHtml = '<span id=\"%id\" class=\"' +\n                            'magento-variable magento-placeholder magento-placeholder-error ' +\n                            'mceNonEditable' +\n                            '\">' +\n                            'Not found' +\n                            '</span>';\n                    }\n\n                    return imageHtml.replace('%id', Base64.idEncode(path));\n                });\n\n                content = content.gsub(/\\{\\{customVar code=([^\\}\\\"]+)\\}\\}/i, function (match) {\n                    var path = match[1],\n                        magentoVariables,\n                        imageHtml;\n\n                    magentoVariables = JSON.parse(config.placeholders);\n\n                    if (magentoVariables[match[1]] && magentoVariables[match[1]]['variable_type'] === 'custom') {\n                        imageHtml = '<span id=\"%id\" class=\"magento-variable magento-custom-var magento-placeholder ' +\n                            'mceNonEditable\">%s</span>';\n                        imageHtml = imageHtml.replace('%s', magentoVariables[match[1]]['variable_name']);\n                    } else {\n                        imageHtml = '<span id=\"%id\" class=\"' +\n                            'magento-variable magento-custom-var magento-placeholder ' +\n                            'magento-placeholder-error mceNonEditable' +\n                            '\">' +\n                            match[1] +\n                            '</span>';\n                    }\n\n                    return imageHtml.replace('%id', Base64.idEncode(path));\n                });\n\n                return content;\n            },\n\n            /**\n             * Decode variables in content.\n             *\n             * @param {String} content\n             * @returns {String}\n             */\n            decodeVariables: function (content) {\n                var doc = new DOMParser().parseFromString(content.replace(/&quot;/g, '&amp;quot;'), 'text/html'),\n                    returnval = '';\n\n                [].forEach.call(doc.querySelectorAll('span.magento-variable'), function (el) {\n                    var $el = jQuery(el);\n\n                    if ($el.hasClass('magento-custom-var')) {\n                        $el.replaceWith(\n                            customDirectiveGenerator.processConfig(\n                                Base64.idDecode(\n                                    $el.attr('id')\n                                )\n                            )\n                        );\n                    } else {\n                        $el.replaceWith(\n                            configDirectiveGenerator.processConfig(\n                                Base64.idDecode(\n                                    $el.attr('id')\n                                )\n                            )\n                        );\n                    }\n                });\n\n                returnval += doc.head ? doc.head.innerHTML.replace(/&amp;quot;/g, '&quot;') : '';\n                returnval += doc.body ? doc.body.innerHTML.replace(/&amp;quot;/g, '&quot;') : '';\n\n                return returnval ? returnval : content;\n            },\n\n            /**\n             * @return {Object}\n             */\n            getInfo: function () {\n                return {\n                    longname: 'Magento Variable Manager Plugin',\n                    author: 'Magento Core Team',\n                    authorurl: 'http://magentocommerce.com',\n                    infourl: 'http://magentocommerce.com',\n                    version: '1.0'\n                };\n            }\n        });\n\n        /**\n         * Register plugin\n         */\n        tinymce.PluginManager.add('magentovariable', tinymce.plugins.magentovariable);\n    };\n});\n","mage/adminhtml/wysiwyg/tiny_mce/plugins/magentowidget/editor_plugin.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* global tinymce, widgetTools, Base64 */\n/* eslint-disable strict */\ndefine([\n    'wysiwygAdapter',\n    'mage/adminhtml/events',\n    'mage/adminhtml/wysiwyg/widget'\n], function (wysiwyg, varienGlobalEvents) {\n    return function (config) {\n        tinymce.create('tinymce.plugins.magentowidget', {\n\n            /**\n             * @param {tinymce.Editor} editor - Editor instance that the plugin is initialized in.\n             */\n            init: function (editor) {\n                var self = this;\n\n                this.activePlaceholder = null;\n\n                editor.addCommand('mceMagentowidget', function (img) {\n                    if (self.activePlaceholder) {\n                        img = self.activePlaceholder;\n                    }\n\n                    widgetTools.setActiveSelectedNode(img);\n                    widgetTools.openDialog(\n                        config['window_url'] + 'widget_target_id/' + editor.getElement().id + '/'\n                    );\n                });\n\n                // Register Widget plugin button\n                editor.ui.registry.addIcon(\n                    'magentowidget',\n                    '<svg width=\"24\" height=\"24\" viewBox=\"0 0 32.000000 32.000000\" ' +\n                    'preserveAspectRatio=\"xMidYMid meet\"> <g transform=\"translate(0.000000,32.000000) ' +\n                    'scale(0.100000,-0.100000)\" fill=\"#000000\" stroke=\"none\"> <path d=\"M130 290 c0 -5 13 -10 30 ' +\n                    '-10 22 0 28 -4 24 -15 -5 -11 2 -15 26 -15 21 0 30 -4 28 -12 -7 -20 -40 -22 -50 -4 -5 9 -14 16 ' +\n                    '-20 16 -6 0 -19 7 -28 15 -9 8 -25 12 -38 8 -33 -8 -27 -26 8 -21 34 5 40 -6 12 -21 -14 -7 -25 -6 ' +\n                    '-40 5 -12 8 -23 10 -27 5 -5 -8 88 -71 105 -71 3 0 29 14 58 31 l53 30 -23 18 c-13 10 -31 20 -40 ' +\n                    '24 -10 3 -18 11 -18 17 0 5 -13 10 -30 10 -16 0 -30 -4 -30 -10z m58 -82 c-3 -7 -15 -13 -28 -13 ' +\n                    '-13 0 -25 6 -27 13 -3 8 6 12 27 12 21 0 30 -4 28 -12z\"/> <path d=\"M30 151 l0 -60 61 -36 c33 ' +\n                    '-19 64 -35 69 -35 5 0 36 16 69 35 l61 36 0 60 0 61 -65 -37 -65 -36 -65 36 -65 37 0 -61z\"/> </g>' +\n                    '</svg>'\n                );\n                editor.ui.registry.addToggleButton('magentowidget', {\n                    icon: 'magentowidget',\n                    tooltip: jQuery.mage.__('Insert Widget'),\n\n                    /**\n                     * execute openVariablesSlideout for onAction callback\n                     */\n                    onAction: function () {\n                        editor.execCommand('mceMagentowidget');\n                    },\n\n                    /**\n                     * Add a node change handler, selects the button in the UI when a image is selected\n                     * @param {ToolbarToggleButtonInstanceApi} api\n                     */\n                    onSetup: function (api) {\n                        /**\n                         * NodeChange handler\n                         */\n                        editor.on('NodeChange', function (e) {\n                            var placeholder = e.element;\n\n                            if (self.isWidgetPlaceholderSelected(placeholder)) {\n                                widgetTools.setEditMode(true);\n                                api.setActive(true);\n                            } else {\n                                widgetTools.setEditMode(false);\n                                api.setActive(false);\n                            }\n                        });\n                    }\n                });\n\n                // Add a widget placeholder image double click callback\n                editor.on('dblClick', function (e) {\n                    var placeholder = e.target;\n\n                    if (self.isWidgetPlaceholderSelected(placeholder)) {\n                        widgetTools.setEditMode(true);\n                        this.execCommand('mceMagentowidget', null);\n                    }\n                });\n\n                /**\n                 * Attach event handler for when wysiwyg editor is about to encode its content\n                 */\n                varienGlobalEvents.attachEventHandler('wysiwygEncodeContent', function (content) {\n                    content = self.encodeWidgets(self.decodeWidgets(content));\n                    content = self.removeDuplicateAncestorWidgetSpanElement(content);\n\n                    return content;\n                });\n\n                /**\n                 * Attach event handler for when wysiwyg editor is about to decode its content\n                 */\n                varienGlobalEvents.attachEventHandler('wysiwygDecodeContent', function (content) {\n                    content = self.decodeWidgets(content);\n\n                    return content;\n                });\n\n                /**\n                 * Attach event handler for when popups associated with wysiwyg are about to be closed\n                 */\n                varienGlobalEvents.attachEventHandler('wysiwygClosePopups', function () {\n                    wysiwyg.closeEditorPopup('widget_window' + wysiwyg.getId());\n                });\n            },\n\n            /**\n             * @param {Object} placeholder - Contains the selected node\n             * @returns {Boolean}\n             */\n            isWidgetPlaceholderSelected: function (placeholder) {\n                var isSelected = false;\n\n                if (placeholder.nodeName &&\n                    (placeholder.nodeName === 'SPAN' || placeholder.nodeName === 'IMG') &&\n                    placeholder.className && placeholder.className.indexOf('magento-widget') !== -1\n                ) {\n                    this.activePlaceholder = placeholder;\n                    isSelected = true;\n                } else {\n                    this.activePlaceholder = null;\n                }\n\n                return isSelected;\n            },\n\n            /**\n             * Convert {{widget}} style syntax to image placeholder HTML\n             * @param {String} content\n             * @return {*}\n             */\n            encodeWidgets: function (content) {\n                return content.gsub(/\\{\\{widget([\\S\\s]*?)\\}\\}/i, function (match) {\n                    var attributes = wysiwyg.parseAttributesString(match[1]),\n                        imageSrc,\n                        imageHtml = '';\n\n                    if (attributes.type) {\n                        attributes.type = attributes.type.replace(/\\\\\\\\/g, '\\\\');\n                        imageSrc = config.placeholders[attributes.type];\n\n                        if (imageSrc) {\n                            imageHtml += '<span class=\"magento-placeholder magento-widget mceNonEditable\" ' +\n                                'contenteditable=\"false\">';\n                        } else {\n                            imageSrc = config['error_image_url'];\n                            imageHtml += '<span ' +\n                                'class=\"magento-placeholder magento-placeholder-error magento-widget mceNonEditable\" ' +\n                                'contenteditable=\"false\">';\n                        }\n\n                        imageHtml += '<img';\n                        imageHtml += ' id=\"' + Base64.idEncode(match[0]) + '\"';\n                        imageHtml += ' src=\"' + imageSrc + '\"';\n                        imageHtml += ' />';\n\n                        if (config.types[attributes.type]) {\n                            imageHtml += config.types[attributes.type];\n                        }\n\n                        imageHtml += '</span>';\n\n                        return imageHtml;\n                    }\n                });\n            },\n\n            /**\n             * Convert image placeholder HTML to {{widget}} style syntax\n             * @param {String} content\n             * @return {*}\n             */\n            decodeWidgets: function (content) {\n                return content.gsub(\n                    /(<span class=\"[^\"]*magento-widget[^\"]*\"[^>]*>)?<img([^>]+id=\"[^>]+)>(([^>]*)<\\/span>)?/i,\n                    function (match) {\n                        var attributes = wysiwyg.parseAttributesString(match[2]),\n                            widgetCode,\n                            result = match[0];\n\n                        if (attributes.id) {\n                            try {\n                                widgetCode = Base64.idDecode(attributes.id);\n                            } catch (e) {\n                                // Ignore and continue.\n                            }\n\n                            if (widgetCode && widgetCode.indexOf('{{widget') !== -1) {\n                                result = widgetCode;\n                            }\n                        }\n\n                        return result;\n                    }\n                );\n            },\n\n            /**\n             * Tinymce has strange behavior with html and this removes one of its side-effects\n             * @param {String} content\n             * @return {String}\n             */\n            removeDuplicateAncestorWidgetSpanElement: function (content) {\n                var parser, doc, returnval = '';\n\n                if (!window.DOMParser) {\n                    return content;\n                }\n\n                parser = new DOMParser();\n                doc = parser.parseFromString(content.replace(/&quot;/g, '&amp;quot;'), 'text/html');\n\n                [].forEach.call(doc.querySelectorAll('.magento-widget'), function (widgetEl) {\n                    var widgetChildEl = widgetEl.querySelector('.magento-widget');\n\n                    if (!widgetChildEl) {\n                        return;\n                    }\n\n                    [].forEach.call(widgetEl.childNodes, function (el) {\n                        widgetEl.parentNode.insertBefore(el, widgetEl);\n                    });\n\n                    widgetEl.parentNode.removeChild(widgetEl);\n                });\n\n                returnval += doc.head ? doc.head.innerHTML.replace(/&amp;quot;/g, '&quot;') : '';\n                returnval += doc.body ? doc.body.innerHTML.replace(/&amp;quot;/g, '&quot;') : '';\n\n                return returnval ? returnval : content;\n            },\n\n            /**\n             * @return {Object}\n             */\n            getInfo: function () {\n                return {\n                    longname: 'Magento Widget Manager Plugin',\n                    author: 'Magento Core Team',\n                    authorurl: 'http://magentocommerce.com',\n                    infourl: 'http://magentocommerce.com',\n                    version: '1.0'\n                };\n            }\n        });\n\n        // Register plugin\n        tinymce.PluginManager.add('magentowidget', tinymce.plugins.magentowidget);\n    };\n});\n","mage/apply/main.min.js":"define(['underscore','jquery','./scripts'],function(_,$,processScripts){'use strict';var dataAttr='data-mage-init',nodeSelector='['+dataAttr+']';function init(el,config,component){require([component],function(fn){var $el;if(typeof fn==='object'){fn=fn[component].bind(fn);}\nif(_.isFunction(fn)){fn=fn.bind(null,config,el);}else{$el=$(el);if($el[component]){fn=$el[component].bind($el,config);}}\nsetTimeout(fn);},function(error){if('console'in window&&typeof window.console.error==='function'){console.error(error);}\nreturn true;});}\nfunction getData(el){var data=el.getAttribute(dataAttr);el.removeAttribute(dataAttr);return{el:el,data:JSON.parse(data)};}\nreturn{apply:function(context){var virtuals=processScripts(!context?document:context),nodes=document.querySelectorAll(nodeSelector);_.toArray(nodes).map(getData).concat(virtuals).forEach(function(itemContainer){var element=itemContainer.el;_.each(itemContainer.data,function(obj,key){if(obj.mixins){require(obj.mixins,function(){var i,len;for(i=0,len=arguments.length;i<len;i++){$.extend(true,itemContainer.data[key],arguments[i](itemContainer.data[key],element));}\ndelete obj.mixins;init.call(null,element,obj,key);});}else{init.call(null,element,obj,key);}});});},applyFor:init};});","mage/apply/scripts.min.js":"define(['underscore','jquery'],function(_,$){'use strict';var scriptSelector='script[type=\"text/x-magento-init\"]',dataAttr='data-mage-init',virtuals=[];function addVirtual(components){virtuals.push({el:false,data:components});}\nfunction setData(components,elem){var data=elem.getAttribute(dataAttr);data=data?JSON.parse(data):{};_.each(components,function(obj,key){if(_.has(obj,'mixins')){data[key]=data[key]||{};data[key].mixins=data[key].mixins||[];data[key].mixins=data[key].mixins.concat(obj.mixins);delete obj.mixins;}});data=$.extend(true,data,components);data=JSON.stringify(data);elem.setAttribute(dataAttr,data);}\nfunction processElems(components,selector){var elems,iterator;if(selector==='*'){addVirtual(components);return;}\nelems=document.querySelectorAll(selector);iterator=setData.bind(null,components);_.toArray(elems).forEach(iterator);}\nfunction getNodeData(node){var data=node.textContent;node.parentNode.removeChild(node);return JSON.parse(data);}\nreturn function(){var nodes=document.querySelectorAll(scriptSelector);_.toArray(nodes).map(getNodeData).forEach(function(item){_.each(item,processElems);});return virtuals.splice(0,virtuals.length);};});","mage/backend/action-link.min.js":"define(['jquery','jquery/ui'],function($){'use strict';$.widget('mage.actionLink',{_create:function(){this._bind();},_bind:function(){var keyCode=$.ui.keyCode;this._on({mousedown:function(e){this._stopPropogation(e);},mouseup:function(e){this._stopPropogation(e);},click:function(e){this._stopPropogation(e);this._triggerEvent();},keydown:function(e){switch(e.keyCode){case keyCode.ENTER:case keyCode.NUMPAD_ENTER:this._stopPropogation(e);this._triggerEvent();break;}},keyup:function(e){switch(e.keyCode){case keyCode.ENTER:case keyCode.NUMPAD_ENTER:this._stopPropogation(e);break;}}});},_stopPropogation:function(e){e.stopImmediatePropagation();e.preventDefault();},_triggerEvent:function(){$(this.options.related||this.element).trigger(this.options.event,this.options.eventData?[this.options.eventData]:[{}]);}});return $.mage.actionLink;});","mage/backend/bootstrap.min.js":"define(['jquery','mage/apply/main','mage/backend/notification','Magento_Ui/js/lib/knockout/bootstrap','mage/mage','mage/translate'],function($,mage,notification){'use strict';var bootstrap;$.ajaxSetup({type:'POST',beforeSend:function(jqXHR,settings){var formKey=typeof FORM_KEY!=='undefined'?FORM_KEY:null;if(!settings.url.match(new RegExp('[?&]isAjax=true',''))){settings.url=settings.url.match(new RegExp('\\\\?','g'))?settings.url+'&isAjax=true':settings.url+'?isAjax=true';}\nif(!settings.data){settings.data={'form_key':formKey};}else if(typeof settings.data==='string'&&settings.data.indexOf('form_key=')===-1){settings.data+='&'+$.param({'form_key':formKey});}else if($.isPlainObject(settings.data)&&!settings.data['form_key']){settings.data['form_key']=formKey;}},complete:function(jqXHR){var jsonObject;if(jqXHR.readyState===4){try{jsonObject=JSON.parse(jqXHR.responseText);if(jsonObject.ajaxExpired&&jsonObject.ajaxRedirect){window.location.replace(jsonObject.ajaxRedirect);}}catch(e){}}},error:function(){$('body').notification('clear').notification('add',{error:true,message:$.mage.__('A technical problem with the server created an error. '+'Try again to continue what you were doing. If the problem persists, try again later.'),insertMethod:function(message){var $wrapper=$('<div></div>').html(message);$('.page-main-actions').after($wrapper);}});}});bootstrap=function(){mage.apply();notification({},$('body'));};$(bootstrap);});","mage/backend/button.min.js":"define(['jquery','jquery/ui'],function($){'use strict';$.widget('ui.button',$.ui.button,{options:{eventData:{},waitTillResolved:true},_create:function(){if(this.options.event){this.options.target=this.options.target||this.element;this._bind();}\nthis._super();},_bind:function(){this.element.off('click.button').on('click.button',$.proxy(this._click,this));},_click:function(){var options=this.options;$(options.target).trigger(options.event,[options.eventData]);}});return $.ui.button;});","mage/backend/editablemultiselect.min.js":"define(['jquery','Magento_Ui/js/modal/alert','Magento_Ui/js/modal/confirm','jquery/editableMultiselect/js/jquery.editable','jquery/editableMultiselect/js/jquery.multiselect'],function($,alert,confirm){window.EditableMultiselect=function(settings){this.settings=settings||{};this.addButtonCaption=this.settings['add_button_caption']||'Add new value';this.newUrl=this.settings['new_url'];this.saveUrl=this.settings['save_url'];this.deleteUrl=this.settings['delete_url'];this.deleteConfirmMessage=this.settings['delete_confirm_message'];this.targetSelectId=this.settings['target_select_id'];this.submitData=this.settings['submit_data']||{};this.entityIdName=this.settings['entity_id_name']||'entity_id';this.entityValueName=this.settings['entity_value_name']||'entity_value';this.isEntityEditable=this.settings['is_entity_editable']||false;EditableMultiselect.prototype.init=function(){var self=this,mselectOptions={addText:this.addButtonCaption,mselectInputSubmitCallback:function(value,options){self.createEntity(value,options);}},mselectList;if(!this.isEntityEditable){mselectOptions.layout='<section class=\"block %mselectListClass%\">'+'<div class=\"block-content\"><div class=\"%mselectItemsWrapperClass%\">'+'%items%'+'</div></div>'+'<div class=\"%mselectInputContainerClass%\">'+'<input type=\"text\" class=\"%mselectInputClass%\" title=\"%inputTitle%\"/>'+'<span class=\"%mselectButtonCancelClass%\" title=\"%cancelText%\"></span>'+'<span class=\"%mselectButtonSaveClass%\" title=\"Add\"></span>'+'</div>'+'</section>';}\n$('#'+this.targetSelectId).multiselect(mselectOptions);if(this.isEntityEditable){this.makeMultiselectEditable();mselectList=$('#'+this.targetSelectId).next();this.attachEventsToControls(mselectList);}};EditableMultiselect.prototype.attachEventsToControls=function(mselectList){mselectList.on('click.mselect-delete','.mselect-delete',{container:this},function(event){event.data.container.deleteEntity({'delete_button':this});});mselectList.on('click.mselect-checked','.mselect-list-item input',{container:this},function(event){var el=$(this),checkedClassName='mselect-checked';el[el.is(':checked')?'addClass':'removeClass'](checkedClassName);event.data.container.makeMultiselectEditable();});mselectList.on('click.mselect-edit','.mselect-edit',{container:this},function(event){event.data.container.makeMultiselectEditable();$(this).parent().find('label span').trigger('dblclick');});};EditableMultiselect.prototype.makeMultiselectEditable=function(){var entityIdName=this.entityIdName,entityValueName=this.entityValueName,selectList=$('#'+this.targetSelectId).next();selectList.find('.mselect-list-item:not(.mselect-list-item-not-editable) label span').editable(this.saveUrl,{type:'text',submit:'<button class=\"mselect-save\" title=\"Save\" type=\"submit\"></button>',cancel:'<span class=\"mselect-cancel\" title=\"Cancel\"></span>',event:'dblclick',placeholder:'',isChecked:function(){var that=$(this),checked;if(!that.closest('.mselect-list-item').hasClass('mselect-disabled')){checked=that.parent().find('[type=checkbox]').prop('disabled');that.parent().find('[type=checkbox]').prop({disabled:!checked});}},data:function(value,sett){var retval;sett.isChecked.apply(this,[sett]);if(typeof value==='string'){retval=value.unescapeHTML();return retval;}\nreturn value;},submitdata:this.submitData,onblur:'cancel',name:entityValueName,ajaxoptions:{dataType:'json'},onsubmit:function(sett,original){var select=$(original).closest('.mselect-list').prev(),current=$(original).closest('.mselect-list-item').index(),entityId=select.find('option').eq(current).val(),entityInfo={};entityInfo[entityIdName]=entityId;sett.submitdata=$.extend(sett.submitdata||{},entityInfo);},callback:function(result,sett){var select,current;sett.isChecked.apply(this,[sett]);select=$(this).closest('.mselect-list').prev();current=$(this).closest('.mselect-list-item').index();if(result.success){if(typeof result[entityValueName]==='string'){select.find('option').eq(current).val(result[entityIdName]).text(result[entityValueName]);$(this).html(result[entityValueName].escapeHTML());}}else{alert({content:result['error_message']});}}});};EditableMultiselect.prototype.createEntity=function(value,options){var select,entityIdName,entityValueName,entityInfo,postData,ajaxOptions;if(!value){return;}\nselect=$('#'+this.targetSelectId),entityIdName=this.entityIdName,entityValueName=this.entityValueName,entityInfo={};entityInfo[entityIdName]=null;entityInfo[entityValueName]=value;postData=$.extend(entityInfo,this.submitData);ajaxOptions={type:'POST',data:postData,dataType:'json',url:this.newUrl,success:function(result){var resultEntityValueName,mselectItemHtml,sectionBlock,itemsWrapper,inputSelector;if(result.success){resultEntityValueName='';if(typeof result[entityValueName]==='string'){resultEntityValueName=result[entityValueName].escapeHTML();}else{resultEntityValueName=result[entityValueName];}\nselect.append('<option value=\"'+result[entityIdName]+'\" selected=\"selected\">'+\nresultEntityValueName+'</option>');mselectItemHtml=$(options.item.replace(/%value%|%label%/gi,resultEntityValueName).replace(/%mselectDisabledClass%|%iseditable%|%isremovable%/gi,'').replace(/%mselectListItemClass%/gi,options.mselectListItemClass)).find('[type=checkbox]').addClass(options.mselectCheckedClass).prop('checked',true).end();sectionBlock=select.nextAll('section.block:first');itemsWrapper=sectionBlock.find('.'+options.mselectItemsWrapperClass+'');if(itemsWrapper.children('.'+options.mselectListItemClass+'').length){itemsWrapper.children('.'+options.mselectListItemClass+':last').after(mselectItemHtml);}else{itemsWrapper.prepend(mselectItemHtml);}\ninputSelector='.'+options.mselectInputContainerClass+' [type=text].'+\noptions.mselectInputClass+'';sectionBlock.find(inputSelector).trigger('blur');}else{alert({content:result['error_message']});}}};$.ajax(ajaxOptions);};EditableMultiselect.prototype.deleteEntity=function(options){var self=this;if(options['delete_button']){confirm({content:this.deleteConfirmMessage,actions:{confirm:function(){var deleteButton=$(options['delete_button']),index=deleteButton.parent().index(),select=deleteButton.closest('.mselect-list').prev(),entityId=select.find('option').eq(index).val(),entityInfo={},postData,ajaxOptions;entityInfo[self.entityIdName]=entityId;postData=$.extend(entityInfo,self.submitData);ajaxOptions={type:'POST',data:postData,dataType:'json',url:self.deleteUrl,success:function(result){if(result.success){deleteButton.parent().remove();select.find('option').eq(index).remove();}else{alert({content:result['error_message']});}}};$.ajax(ajaxOptions);}}});}};};});","mage/backend/floating-header.min.js":"define(['jquery','jquery/ui'],function($){'use strict';$.widget('mage.floatingHeader',{options:{placeholderAttrs:{'class':'page-actions-placeholder'},fixedClass:'_fixed',hiddenClass:'_hidden',title:'.page-title-wrapper .page-title',pageMainActions:'.page-main-actions',contains:'[data-role=modal]'},_create:function(){var title=$(this.options.title).text(),wrapped=this.element.find('.page-actions-buttons').children();if(this.element.parents(this.options.contains).length){return this;}\nthis._setVars();this._bind();this.element.find('script').remove();if(wrapped.length){wrapped.unwrap().unwrap();}\nthis.element.wrapInner($('<div></div>',{'class':'page-actions-buttons'}));this.element.wrapInner($('<div></div>',{'class':'page-actions-inner','data-title':title}));this.element.removeClass('floating-header');},_setVars:function(){this._placeholder=this.element.before($('<div/>',this.options.placeholderAttrs)).prev();this._offsetTop=this._placeholder.offset().top;this._height=this.element.parents(this.options.pageMainActions).outerHeight();},_bind:function(){this._on(window,{scroll:this._handlePageScroll,resize:this._handlePageScroll});},_handlePageScroll:function(){var isActive=$(window).scrollTop()>this._offsetTop;if(isActive){this.element.addClass(this.options.fixedClass).parents(this.options.pageMainActions).addClass(this.options.hiddenClass);}else{this.element.removeClass(this.options.fixedClass).parents(this.options.pageMainActions).removeClass(this.options.hiddenClass);}\nthis._placeholder.height(isActive?this._height:'');},_destroy:function(){if(this._placeholder){this._placeholder.remove();}\nthis._off($(window));}});return $.mage.floatingHeader;});","mage/backend/form.min.js":"define(['jquery','jquery/ui'],function($){'use strict';$.widget('mage.form',{options:{handlersData:{save:{},saveAndContinueEdit:{action:{args:{back:'edit'}}},preview:{target:'_blank'}}},_create:function(){this._bind();},_rollback:function(){if(this.oldAttributes){this.element.prop(this.oldAttributes);}},_changesObserver:function(e){var target=$(e.target),changed;if(e.type==='focus'||e.type==='focusin'){this.currentField={statuses:{checked:target.is(':checked'),selected:target.is(':selected')},val:target.val()};}else{if(this.currentField){changed=target.val()!==this.currentField.val||target.is(':checked')!==this.currentField.statuses.checked||target.is(':selected')!==this.currentField.statuses.selected;if(changed){target.trigger('changed');}}}},_getHandlers:function(){var handlers=[];$.each(this.options.handlersData,function(key){handlers.push(key);});return handlers;},_storeAttribute:function(attrName){var prop;this.oldAttributes=this.oldAttributes||{};if(!this.oldAttributes[attrName]){prop=this.element.attr(attrName);this.oldAttributes[attrName]=prop?prop:'';}},_bind:function(){this.element.on(this._getHandlers().join(' '),$.proxy(this._submit,this)).on('focus blur focusin focusout',$.proxy(this._changesObserver,this));},_getActionUrl:function(data){if(typeof data==='object'){return this._buildURL(this.oldAttributes.action,data.args);}\nreturn typeof data==='string'?data:this.oldAttributes.action;},_buildURL:function(url,params){var concat=/\\?/.test(url)?['&','=']:['/','/'];url=url.replace(/[\\/&]+$/,'');$.each(params,function(key,value){url+=concat[0]+key+concat[1]+window.encodeURIComponent(value);});return url+(concat[0]==='/'?'/':'');},_processData:function(data){$.each(data,$.proxy(function(attrName,attrValue){this._storeAttribute(attrName);if(attrName==='action'){data[attrName]=this._getActionUrl(attrValue);}},this));return data;},_beforeSubmit:function(handlerName,data){var submitData={},event=new $.Event('beforeSubmit');this.element.trigger(event,[submitData,handlerName]);data=$.extend(true,{},this.options.handlersData[handlerName]||{},submitData,data);this.element.prop(this._processData(data));return!event.isDefaultPrevented();},_submit:function(e,data){this._rollback();if(this._beforeSubmit(e.type,data)!==false){this.element.trigger('submit',e);}}});return $.mage.form;});","mage/backend/menu.min.js":"define(['jquery','jquery/ui'],function($){'use strict';$.widget('mage.menu',{widgetEventPrefix:'menu',version:'1.10.1',defaultElement:'<ul>',delay:300,options:{icons:{submenu:'ui-icon-carat-1-e'},menus:'ul',position:{my:'left top',at:'right top'},role:'menu',blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().addClass('ui-menu ui-widget ui-widget-content ui-corner-all').toggleClass('ui-menu-icons',!!this.element.find('.ui-icon').length).attr({role:this.options.role,tabIndex:0}).on('click'+this.eventNamespace,$.proxy(function(event){if(this.options.disabled){event.preventDefault();}},this));if(this.options.disabled){this.element.addClass('ui-state-disabled').attr('aria-disabled','true');}\nthis._on({'mousedown .ui-menu-item > a':function(event){event.preventDefault();},'click .ui-state-disabled > a':function(event){event.preventDefault();},'click .ui-menu-item:has(a)':function(event){var target=$(event.target).closest('.ui-menu-item');if(!this.mouseHandled&&target.not('.ui-state-disabled').length){this.mouseHandled=true;this.select(event);if(target.has('.ui-menu').length){this.expand(event);}else if(!this.element.is(':focus')){this.element.trigger('focus',[true]);if(this.active&&this.active.parents('.ui-menu').length===1){clearTimeout(this.timer);}}}},'mouseenter .ui-menu-item':function(event){var target=$(event.currentTarget);target.siblings().children('.ui-state-active').removeClass('ui-state-active');this.focus(event,target);},mouseleave:'collapseAll','mouseleave .ui-menu':'collapseAll',focus:function(event,keepActiveItem){var item=this.active||this.element.children('.ui-menu-item').eq(0);if(!keepActiveItem){this.focus(event,item);}},blur:function(event){this._delay(function(){if(!$.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(event);}});},keydown:'_keydown'});this.refresh();this._on(this.document,{click:function(event){if(!$(event.target).closest('.ui-menu').length){this.collapseAll(event);}\nthis.mouseHandled=false;}});},_destroy:function(){this.element.removeAttr('aria-activedescendant').find('.ui-menu').addBack().removeClass('ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons').removeAttr('role').removeAttr('tabIndex').removeAttr('aria-labelledby').removeAttr('aria-expanded').removeAttr('aria-hidden').removeAttr('aria-disabled').removeUniqueId().show();this.element.find('.ui-menu-item').removeClass('ui-menu-item').removeAttr('role').removeAttr('aria-disabled').children('a').removeUniqueId().removeClass('ui-corner-all ui-state-hover').removeAttr('tabIndex').removeAttr('role').removeAttr('aria-haspopup').children().each(function(){var elem=$(this);if(elem.data('ui-menu-submenu-carat')){elem.remove();}});this.element.find('.ui-menu-divider').removeClass('ui-menu-divider ui-widget-content');},_keydown:function(event){var match,prev,character,skip,regex,preventDefault=true;function escape(value){return value.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,'\\\\$&');}\nswitch(event.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(event);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(event);break;case $.ui.keyCode.HOME:this._move('first','first',event);break;case $.ui.keyCode.END:this._move('last','last',event);break;case $.ui.keyCode.UP:this.previous(event);break;case $.ui.keyCode.DOWN:this.next(event);break;case $.ui.keyCode.LEFT:this.collapse(event);break;case $.ui.keyCode.RIGHT:if(this.active&&!this.active.is('.ui-state-disabled')){this.expand(event);}\nbreak;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(event);break;case $.ui.keyCode.ESCAPE:this.collapse(event);break;default:preventDefault=false;prev=this.previousFilter||'';character=String.fromCharCode(event.keyCode);skip=false;clearTimeout(this.filterTimer);if(character===prev){skip=true;}else{character=prev+character;}\nregex=new RegExp('^'+escape(character),'i');match=this.activeMenu.children('.ui-menu-item').filter(function(){return regex.test($(this).children('a').text());});match=skip&&match.index(this.active.next())!==-1?this.active.nextAll('.ui-menu-item'):match;if(!match.length){character=String.fromCharCode(event.keyCode);regex=new RegExp('^'+escape(character),'i');match=this.activeMenu.children('.ui-menu-item').filter(function(){return regex.test($(this).children('a').text());});}\nif(match.length){this.focus(event,match);if(match.length>1){this.previousFilter=character;this.filterTimer=this._delay(function(){delete this.previousFilter;},1000);}else{delete this.previousFilter;}}else{delete this.previousFilter;}}\nif(preventDefault){event.preventDefault();}},_activate:function(event){if(!this.active.is('.ui-state-disabled')){if(this.active.children('a[aria-haspopup=\"true\"]').length){this.expand(event);}else{this.select(event);}}},refresh:function(){var menus,icon=this.options.icons.submenu,submenus=this.element.find(this.options.menus);submenus.filter(':not(.ui-menu)').addClass('ui-menu ui-widget ui-widget-content ui-corner-all').hide().attr({role:this.options.role,'aria-hidden':'true','aria-expanded':'false'}).each(function(){var menu=$(this),item=menu.prev('a'),submenuCarat=$('<span>').addClass('ui-menu-icon ui-icon '+icon).data('ui-menu-submenu-carat',true);item.attr('aria-haspopup','true').prepend(submenuCarat);menu.attr('aria-labelledby',item.attr('id'));});menus=submenus.add(this.element);menus.children(':not(.ui-menu-item):has(a)').addClass('ui-menu-item').attr('role','presentation').children('a').uniqueId().addClass('ui-corner-all').attr({tabIndex:-1,role:this._itemRole()});menus.children(':not(.ui-menu-item)').each(function(){var item=$(this);if(!/[^\\-\\u2014\\u2013\\s]/.test(item.text())){item.addClass('ui-widget-content ui-menu-divider');}});menus.children('.ui-state-disabled').attr('aria-disabled','true');if(this.active&&!$.contains(this.element[0],this.active[0])){this.blur();}},_itemRole:function(){return{menu:'menuitem',listbox:'option'}[this.options.role];},_setOption:function(key,value){if(key==='icons'){this.element.find('.ui-menu-icon').removeClass(this.options.icons.submenu).addClass(value.submenu);}\nthis._super(key,value);},focus:function(event,item){var nested,focused;this.blur(event,event&&event.type==='focus');this._scrollIntoView(item);this.active=item.first();focused=this.active.children('a').addClass('ui-state-focus');if(this.options.role){this.element.attr('aria-activedescendant',focused.attr('id'));}\nthis.active.parent().closest('.ui-menu-item').children('a:first').addClass('ui-state-active');if(event&&event.type==='keydown'){this._close();}else{this.timer=this._delay(function(){this._close();},this.delay);}\nnested=item.children('.ui-menu');if(nested.length&&/^mouse/.test(event.type)){this._startOpening(nested);}\nthis.activeMenu=item.parent();this._trigger('focus',event,{item:item});},_scrollIntoView:function(item){var borderTop,paddingTop,offset,scroll,elementHeight,itemHeight;if(this._hasScroll()){borderTop=parseFloat($.css(this.activeMenu[0],'borderTopWidth'))||0;paddingTop=parseFloat($.css(this.activeMenu[0],'paddingTop'))||0;offset=item.offset().top-this.activeMenu.offset().top-borderTop-paddingTop;scroll=this.activeMenu.scrollTop();elementHeight=this.activeMenu.height();itemHeight=item.height();if(offset<0){this.activeMenu.scrollTop(scroll+offset);}else if(offset+itemHeight>elementHeight){this.activeMenu.scrollTop(scroll+offset-elementHeight+itemHeight);}}},blur:function(event,fromFocus){if(!fromFocus){clearTimeout(this.timer);}\nif(!this.active){return;}\nthis.active.children('a').removeClass('ui-state-focus');this.active=null;this._trigger('blur',event,{item:this.active});},_startOpening:function(submenu){clearTimeout(this.timer);if(submenu.attr('aria-hidden')!=='true'){return;}\nthis.timer=this._delay(function(){this._close();this._open(submenu);},this.delay);},_open:function(submenu){var position=$.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find('.ui-menu').not(submenu.parents('.ui-menu')).hide().attr('aria-hidden','true');submenu.show().removeAttr('aria-hidden').attr('aria-expanded','true').position(position);},collapseAll:function(event,all){clearTimeout(this.timer);this.timer=this._delay(function(){var currentMenu=all?this.element:$(event&&event.target).closest(this.element.find('.ui-menu'));if(!currentMenu.length){currentMenu=this.element;}\nthis._close(currentMenu);this.blur(event);this.activeMenu=currentMenu;},this.delay);},_close:function(startMenu){if(!startMenu){startMenu=this.active?this.active.parent():this.element;}\nstartMenu.find('.ui-menu').hide().attr('aria-hidden','true').attr('aria-expanded','false').end().find('a.ui-state-active').removeClass('ui-state-active');},collapse:function(event){var newItem=this.active&&this.active.parent().closest('.ui-menu-item',this.element);if(newItem&&newItem.length){this._close();this.focus(event,newItem);}},expand:function(event){var newItem=this.active&&this.active.children('.ui-menu ').children('.ui-menu-item').first();if(newItem&&newItem.length){this._open(newItem.parent());this._delay(function(){this.focus(event,newItem);});}},next:function(event){this._move('next','first',event);},previous:function(event){this._move('prev','last',event);},isFirstItem:function(){return this.active&&!this.active.prevAll('.ui-menu-item').length;},isLastItem:function(){return this.active&&!this.active.nextAll('.ui-menu-item').length;},_move:function(direction,filter,event){var next;if(this.active){if(direction==='first'||direction==='last'){next=this.active\n[direction==='first'?'prevAll':'nextAll']('.ui-menu-item').eq(-1);}else{next=this.active\n[direction+'All']('.ui-menu-item').eq(0);}}\nif(!next||!next.length||!this.active){next=this.activeMenu.children('.ui-menu-item')[filter]();}\nthis.focus(event,next);},nextPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}\nif(this.isLastItem()){return;}\nif(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.nextAll('.ui-menu-item').each(function(){item=$(this);return item.offset().top-base-height<0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.children('.ui-menu-item')\n[!this.active?'first':'last']());}},previousPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}\nif(this.isFirstItem()){return;}\nif(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.prevAll('.ui-menu-item').each(function(){item=$(this);return item.offset().top-base+height>0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.children('.ui-menu-item').first());}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop('scrollHeight');},select:function(event){var ui;this.active=this.active||$(event.target).closest('.ui-menu-item');ui={item:this.active};if(!this.active.has('.ui-menu').length){this.collapseAll(event,true);}\nthis._trigger('select',event,ui);}});return $.mage.menu;});","mage/backend/notification.min.js":"define(['jquery','mage/template','jquery/ui'],function($,mageTemplate){'use strict';$.widget('mage.notification',{options:{templates:{global:'<div data-role=\"messages\" id=\"messages\">'+'<div class=\"message <% if (data.error) { %>error<% } %>\"><div><%- data.message %></div></div>'+'</div>',error:'<div data-role=\"messages\" id=\"messages\">'+'<div class=\"messages\"><div class=\"message message-error error\">'+'<div data-ui-id=\"messages-message-error\"><%- data.message %></div></div>'+'</div></div>'}},placeholder:'[data-role=messages]',_create:function(){$(document).on('ajaxComplete ajaxError',$.proxy(this._add,this));},_add:function(event,jqXHR){var response;try{response=JSON.parse(jqXHR.responseText);if(response&&response.error&&response['html_message']){$(this.placeholder).html(response['html_message']);}}catch(e){}},add:function(data){var template=data.error?this.options.templates.error:this.options.templates.global,message=mageTemplate(template,{data:data}),messageContainer;if(typeof data.insertMethod==='function'){data.insertMethod(message);}else{messageContainer=data.messageContainer||this.placeholder;$(messageContainer).prepend(message);}\nreturn this;},clear:function(){$(this.placeholder).html('');}});return $.mage.notification;});","mage/backend/suggest.min.js":"define(['jquery','mage/template','mage/mage','jquery/ui','mage/backend/menu','mage/translate'],function($,mageTemplate){'use strict';$.widget('mage.suggest',{widgetEventPrefix:'suggest',options:{template:'<% if (data.items.length) { %>'+'<% if (!data.term && !data.allShown() && data.recentShown()) { %>'+'<h5 class=\"title\"><%- data.recentTitle %></h5>'+'<% } %>'+'<ul data-mage-init=\\'{\"menu\":[]}\\'>'+'<% _.each(data.items, function(value){ %>'+'<% if (!data.itemSelected(value)) { %><li <%= data.optionData(value) %>>'+'<a href=\"#\"><%- value.label %></a></li><% } %>'+'<% }); %>'+'<% if (!data.term && !data.allShown() && data.recentShown()) { %>'+'<li data-mage-init=\\'{\"actionLink\":{\"event\":\"showAll\"}}\\' class=\"show-all\">'+'<a href=\"#\"><%- data.showAllTitle %></a></li>'+'<% } %>'+'</ul><% } else { %><span class=\"mage-suggest-no-records\"><%- data.noRecordsText %></span><% } %>',minLength:1,source:null,delay:500,loadingClass:'mage-suggest-state-loading',events:{},appendMethod:'after',controls:{selector:':ui-menu, :mage-menu',eventsMap:{focus:['menufocus'],blur:['menublur'],select:['menuselect']}},termAjaxArgument:'label_part',filterProperty:'label',className:null,inputWrapper:'<div class=\"mage-suggest\"><div class=\"mage-suggest-inner\"></div></div>',dropdownWrapper:'<div class=\"mage-suggest-dropdown\"></div>',preventClickPropagation:true,currentlySelected:null,submitInputOnEnter:true},_create:function(){this._term=null;this._nonSelectedItem={id:'',label:''};this.templates={};this._renderedContext=null;this._selectedItem=this._nonSelectedItem;this._control=this.options.controls||{};this._setTemplate();this._prepareValueField();this._render();this._bind();},_render:function(){var wrapper;this.dropdown=$(this.options.dropdownWrapper).hide();wrapper=this.options.className?$(this.options.inputWrapper).addClass(this.options.className):$(this.options.inputWrapper);this.element.wrap(wrapper)[this.options.appendMethod](this.dropdown).attr('autocomplete','off');},_prepareValueField:function(){if(this.options.valueField){this.valueField=$(this.options.valueField);}else{this.valueField=this._createValueField().insertBefore(this.element).attr('name',this.element.attr('name'));this.element.removeAttr('name');}},_createValueField:function(){return $('<input/>',{type:'hidden'});},_destroy:function(){this.element.unwrap().removeAttr('autocomplete');if(!this.options.valueField){this.element.attr('name',this.valueField.attr('name'));this.valueField.remove();}\nthis.dropdown.remove();this._off(this.element,'keydown keyup blur');},_value:function(){return this.element[this.element.is(':input')?'val':'text']().trim();},_proxyEvents:function(event){var fakeEvent=$.extend({},$.Event(event.type),{ctrlKey:event.ctrlKey,keyCode:event.keyCode,which:event.keyCode}),target=this._control.selector?this.dropdown.find(this._control.selector):this.dropdown;target.trigger(fakeEvent);},_bind:function(){this._on($.extend({keydown:function(event){var keyCode=$.ui.keyCode,suggestList,hasSuggestedItems,hasSelectedItems,selectedItem;switch(event.keyCode){case keyCode.PAGE_UP:case keyCode.UP:if(!event.shiftKey){event.preventDefault();this._proxyEvents(event);}\nsuggestList=event.currentTarget.parentNode.getElementsByTagName('ul')[0];hasSuggestedItems=event.currentTarget.parentNode.getElementsByTagName('ul')[0].children.length>=0;if(hasSuggestedItems){selectedItem=$(suggestList.getElementsByClassName('_active')[0]).removeClass('_active').prev().addClass('_active');event.currentTarget.value=selectedItem.find('a').text();}\nbreak;case keyCode.PAGE_DOWN:case keyCode.DOWN:if(!event.shiftKey){event.preventDefault();this._proxyEvents(event);}\nsuggestList=event.currentTarget.parentNode.getElementsByTagName('ul')[0];hasSuggestedItems=event.currentTarget.parentNode.getElementsByTagName('ul')[0].children.length>=0;if(hasSuggestedItems){hasSelectedItems=suggestList.getElementsByClassName('_active').length===0;if(hasSelectedItems){selectedItem=$(suggestList.children[0]).addClass('_active');event.currentTarget.value=selectedItem.find('a').text();}else{selectedItem=$(suggestList.getElementsByClassName('_active')[0]).removeClass('_active').next().addClass('_active');event.currentTarget.value=selectedItem.find('a').text();}}\nbreak;case keyCode.TAB:if(this.isDropdownShown()){this._onSelectItem(event,null);event.preventDefault();}\nbreak;case keyCode.ENTER:case keyCode.NUMPAD_ENTER:this._toggleEnter(event);if(this.isDropdownShown()&&this._focused){this._proxyEvents(event);event.preventDefault();}\nbreak;case keyCode.ESCAPE:if(this.isDropdownShown()){event.stopPropagation();}\nthis.close(event);this._blurItem();break;}},keyup:function(event){var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.HOME:case keyCode.END:case keyCode.PAGE_UP:case keyCode.PAGE_DOWN:case keyCode.ESCAPE:case keyCode.UP:case keyCode.DOWN:case keyCode.LEFT:case keyCode.RIGHT:case keyCode.TAB:break;case keyCode.ENTER:case keyCode.NUMPAD_ENTER:if(this.isDropdownShown()){event.preventDefault();}\nbreak;default:this.search(event);}},blur:function(event){if(!this.preventBlur){this._abortSearch();this.close(event);this._change(event);}else{this.element.trigger('focus');}},cut:this.search,paste:this.search,input:this.search,selectItem:this._onSelectItem,click:this.search},this.options.events));this._bindSubmit();this._bindDropdown();},_toggleEnter:function(event){var suggestList,activeItems,selectedItem;if(!this.options.submitInputOnEnter){event.preventDefault();}\nsuggestList=$(event.currentTarget.parentNode).find('ul').first();activeItems=suggestList.find('._active');if(activeItems.length>=0){selectedItem=activeItems.first();if(selectedItem.find('a')&&selectedItem.find('a').attr('href')!==undefined){window.location=selectedItem.find('a').attr('href');event.preventDefault();}}},_bindSubmit:function(){this.element.parents('form').on('submit',function(event){if(!this.submitInputOnEnter){event.preventDefault();}});},_change:function(e){if(this._term!==this._value()){this._trigger('change',e);}},_bindDropdown:function(){var events={click:function(e){e.preventDefault();},mousedown:function(e){e.preventDefault();}};$.each(this._control.eventsMap,$.proxy(function(suggestEvent,controlEvents){$.each(controlEvents,$.proxy(function(i,handlerName){switch(suggestEvent){case'select':events[handlerName]=this._onSelectItem;break;case'focus':events[handlerName]=this._focusItem;break;case'blur':events[handlerName]=this._blurItem;break;}},this));},this));if(this.options.preventClickPropagation){this._on(this.dropdown,events);}\nthis._on(this.dropdown,{mousedown:function(){this.preventBlur=true;},mouseup:function(){this.preventBlur=false;}});},_trigger:function(type,event){var result=this._superApply(arguments);if(result===false&&event){event.stopImmediatePropagation();event.preventDefault();}\nreturn result;},_focusItem:function(e,ui){if(ui&&ui.item){this._focused=$(ui.item).prop('tagName')?this._readItemData(ui.item):ui.item;this.element.val(this._focused.label);this._trigger('focus',e,{item:this._focused});}},_blurItem:function(){this._focused=null;this.element.val(this._term);},_onSelectItem:function(e,item){if(item&&typeof item==='object'&&$(e.target).is(this.element)){this._focusItem(e,{item:item});}\nif(this._trigger('beforeselect',e||null,{item:this._focused})===false){return;}\nthis._selectItem(e);this._blurItem();this._trigger('select',e||null,{item:this._selectedItem});},_selectItem:function(e){if(this._focused){this._selectedItem=this._focused;if(this._selectedItem!==this._nonSelectedItem){this._term=this._selectedItem.label;this.valueField.val(this._selectedItem.id);this.close(e);}}},_readItemData:function(element){return element.data('suggestOption')||this._nonSelectedItem;},isDropdownShown:function(){return this.dropdown.is(':visible');},open:function(e){if(!this.isDropdownShown()){this.element.addClass('_suggest-dropdown-open');this.dropdown.show();this._trigger('open',e);}},close:function(e){this._renderedContext=null;if(this.dropdown.length){this.element.removeClass('_suggest-dropdown-open');this.dropdown.hide().empty();}\nthis._trigger('close',e);},_setTemplate:function(){this.templateName='suggest'+Math.random().toString(36).substr(2);this.templates[this.templateName]=mageTemplate(this.options.template);},search:function(e){var term=this._value();if((this._term!==term||term.length===0)&&!this.preventBlur){this._term=term;if(typeof term==='string'&&term.length>=this.options.minLength){if(this._trigger('search',e)===false){return;}\nthis._search(e,term,{});}else{this._selectedItem=this._nonSelectedItem;this._resetSuggestValue();}}},_resetSuggestValue:function(){this.valueField.val(this._nonSelectedItem.id);},_search:function(e,term,context){var response=$.proxy(function(items){return this._processResponse(e,items,context||{});},this);this.element.addClass(this.options.loadingClass);if(this.options.delay){if(typeof this.options.data!=='undefined'){response(this.filter(this.options.data,term));}\nclearTimeout(this._searchTimeout);this._searchTimeout=this._delay(function(){this._source(term,response);},this.options.delay);}else{this._source(term,response);}},_prepareDropdownContext:function(context){return $.extend(context,{items:this._items,term:this._term,optionData:function(item){return'data-suggest-option=\"'+\n$('<div>').text(JSON.stringify(item)).html().replace(/\"/g,'&quot;')+'\"';},itemSelected:$.proxy(this._isItemSelected,this),noRecordsText:$.mage.__('No records found.')});},_isItemSelected:function(item){return item.id==(this._selectedItem&&this._selectedItem.id?this._selectedItem.id:this.options.currentlySelected);},_renderDropdown:function(e,items,context){var tmpl=this.templates[this.templateName];this._items=items;tmpl=tmpl({data:this._prepareDropdownContext(context)});$(tmpl).appendTo(this.dropdown.empty());this.dropdown.trigger('contentUpdated').find(this._control.selector).on('focus',function(event){event.preventDefault();});this._renderedContext=context;this.element.removeClass(this.options.loadingClass);this.open(e);},_processResponse:function(e,items,context){var renderer=$.proxy(function(i){return this._renderDropdown(e,i,context||{});},this);if(this._trigger('response',e,[items,renderer])===false){return;}\nthis._renderDropdown(e,items,context);},_source:function(term,response){var o=this.options,ajaxData;if(Array.isArray(o.source)){response(this.filter(o.source,term));}else if(typeof o.source==='string'){ajaxData={};ajaxData[this.options.termAjaxArgument]=term;this._xhr=$.ajax($.extend(true,{url:o.source,type:'POST',dataType:'json',data:ajaxData,success:$.proxy(function(items){this.options.data=items;response.apply(response,arguments);},this)},o.ajaxOptions||{}));}else if(typeof o.source==='function'){o.source.apply(o.source,arguments);}},_abortSearch:function(){this.element.removeClass(this.options.loadingClass);clearTimeout(this._searchTimeout);},filter:function(items,term){var matcher=new RegExp(term.replace(/[\\-\\/\\\\\\^$*+?.()|\\[\\]{}]/g,'\\\\$&'),'i'),itemsArray=Array.isArray(items)?items:$.map(items,function(element){return element;}),property=this.options.filterProperty;return $.grep(itemsArray,function(value){return matcher.test(value[property]||value.id||value);});}});$.widget('mage.suggest',$.mage.suggest,{options:{showRecent:false,showAll:false,storageKey:'suggest',storageLimit:10},_create:function(){var recentItems;if(this.options.showRecent&&window.localStorage){recentItems=JSON.parse(localStorage.getItem(this.options.storageKey));this._recentItems=Array.isArray(recentItems)?recentItems:[];}\nthis._super();},_bind:function(){this._super();this._on(this.dropdown,{showAll:function(e){e.stopImmediatePropagation();e.preventDefault();this.element.trigger('showAll');}});if(this.options.showRecent||this.options.showAll){this._on({focus:function(e){if(!this.isDropdownShown()){this.search(e);}},showAll:this._showAll});}},_showAll:function(e){this._abortSearch();this._search(e,'',{_allShown:true});},search:function(e){if(!this._value()){if(this.options.showRecent){if(this._recentItems.length){this._processResponse(e,this._recentItems,{});}else{this._showAll(e);}}else if(this.options.showAll){this._showAll(e);}}\nthis._superApply(arguments);},_selectItem:function(){this._superApply(arguments);if(this._selectedItem&&this._selectedItem.id&&this.options.showRecent){this._addRecent(this._selectedItem);}},_prepareDropdownContext:function(){var context=this._superApply(arguments);return $.extend(context,{recentShown:$.proxy(function(){return this.options.showRecent;},this),recentTitle:$.mage.__('Recent items'),showAllTitle:$.mage.__('Show all...'),allShown:function(){return!!context._allShown;}});},_addRecent:function(item){this._recentItems=$.grep(this._recentItems,function(obj){return obj.id!==item.id;});this._recentItems.unshift(item);this._recentItems=this._recentItems.slice(0,this.options.storageLimit);localStorage.setItem(this.options.storageKey,JSON.stringify(this._recentItems));}});$.widget('mage.suggest',$.mage.suggest,{options:{multiSuggestWrapper:'<ul class=\"mage-suggest-choices\">'+'<li class=\"mage-suggest-search-field\" data-role=\"parent-choice-element\"><'+'label class=\"mage-suggest-search-label\"></label></li></ul>',choiceTemplate:'<li class=\"mage-suggest-choice button\"><div><%- text %></div>'+'<span class=\"mage-suggest-choice-close\" tabindex=\"-1\" '+'data-mage-init=\\'{\"actionLink\":{\"event\":\"removeOption\"}}\\'></span></li>',selectedClass:'mage-suggest-selected'},_create:function(){this.choiceTmpl=mageTemplate(this.options.choiceTemplate);this._super();if(this.options.multiselect){this.valueField.hide();}},_render:function(){this._super();if(this.options.multiselect){this._renderMultiselect();}},_renderMultiselect:function(){var that=this;this.element.wrap(this.options.multiSuggestWrapper);this.elementWrapper=this.element.closest('[data-role=\"parent-choice-element\"]');$(function(){that._getOptions().each(function(i,option){option=$(option);that._createOption({id:option.val(),label:option.text()});});});},_getOptions:function(){return this.valueField.find('option');},_bind:function(){this._super();if(this.options.multiselect){this._on({keydown:function(event){if(event.keyCode===$.ui.keyCode.BACKSPACE){if(!this._value()){this._removeLastAdded(event);}}},removeOption:this.removeOption});}},_filterSelected:function(items){var options=this._getOptions();return $.grep(items,function(value){var itemSelected=false;$.each(options,function(){if(value.id==$(this).val()){itemSelected=true;}});return!itemSelected;});},_processResponse:function(e,items,context){if(this.options.multiselect){items=this._filterSelected(items,context);}\nthis._superApply([e,items,context]);},_prepareValueField:function(){this._super();if(this.options.multiselect&&!this.options.valueField&&this.options.selectedItems){$.each(this.options.selectedItems,$.proxy(function(i,item){this._addOption(item);},this));}},_resetSuggestValue:function(){if(!this.options.multiselect){this._super();}},_createValueField:function(){if(this.options.multiselect){return $('<select></select>',{type:'hidden',multiple:'multiple'});}\nreturn this._super();},_selectItem:function(e){if(this.options.multiselect){if(this._focused){this._selectedItem=this._focused;if(this._selectedItem!==this._nonSelectedItem){this._term='';this.element.val(this._term);if(this._isItemSelected(this._selectedItem)){$(e.target).removeClass(this.options.selectedClass);this.removeOption(e,this._selectedItem);this._selectedItem=this._nonSelectedItem;}else{$(e.target).addClass(this.options.selectedClass);this._addOption(e,this._selectedItem);}}}\nthis.close(e);}else{this._superApply(arguments);}},_isItemSelected:function(item){if(this.options.multiselect){return this.valueField.find('option[value='+item.id+']').length>0;}\nreturn this._superApply(arguments);},_createOption:function(item){var option=this._getOption(item);if(!option.length){option=$('<option>',{value:item.id,selected:true}).text(item.label);}\nreturn option.data('renderedOption',this._renderOption(item));},_addOption:function(e,item){this.valueField.append(this._createOption(item).data('selectTarget',$(e.target)));},_getOption:function(item){return $(item).prop('tagName')?$(item):this.valueField.find('option[value='+item.id+']');},_removeLastAdded:function(e){var lastAdded=this._getOptions().last();if(lastAdded.length){this.removeOption(e,lastAdded);}},removeOption:function(e,item){var option=this._getOption(item),selectTarget=option.data('selectTarget');if(selectTarget&&selectTarget.length){selectTarget.removeClass(this.options.selectedClass);}\noption.data('renderedOption').remove();option.remove();},_renderOption:function(item){var tmpl=this.choiceTmpl({text:item.label});return $(tmpl).insertBefore(this.elementWrapper).trigger('contentUpdated').on('removeOption',$.proxy(function(e){this.removeOption(e,item);},this));}});return $.mage.suggest;});","mage/backend/tabs.min.js":"define(['jquery','jquery/ui','jquery/ui-modules/widgets/tabs'],function($){'use strict';var rhash,isLocal;$.widget('mage.tabs',$.ui.tabs,{options:{spinner:false,groups:null,tabPanelClass:'',excludedPanel:''},_create:function(){var activeIndex=this._getTabIndex(this.options.active);this.options.active=activeIndex>=0?activeIndex:0;this._super();},_getList:function(){if(this.options.groups){return this.element.find(this.options.groups);}\nreturn this._super();},activeAnchor:function(){return this.anchors.eq(this.option('active'));},_getTabIndex:function(id){var anchors=this.anchors?this.anchors:this._getList().find('> li > a[href]');return anchors.index($('#'+id));},_toggle:function(event,eventData){var anchor=$(eventData.newTab).find('a');if($(eventData.newTab).find('a').data().tabType==='link'){location.href=anchor.prop('href');}else{this._superApply(arguments);}}});rhash=/#.*$/;isLocal=function(anchor){return anchor.hash.length>1&&anchor.href.replace(rhash,'')===location.href.replace(rhash,'').replace(/\\s/g,'%20');};$.widget('mage.tabs',$.mage.tabs,{_create:function(){this._super();this._movePanelsInDestination(this.panels);},_getPanelForTab:function(tab){var panel=this._superApply(arguments),id;if(!panel.length){id=$(tab).attr('aria-controls');panel=$(this.options.destination).find(this._sanitizeSelector('#'+id));}\nreturn panel;},_processTabs:function(){var that=this;this.tablist=this._getList().addClass('ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all').attr('role','tablist');this.tabs=this.tablist.find('> li:has(a[href])').addClass('ui-state-default ui-corner-top').attr({role:'tab',tabIndex:-1});this.anchors=this.tabs.map(function(){return $('a',this)[0];}).addClass('ui-tabs-anchor').attr({role:'presentation',tabIndex:-1});this.panels=$();this.anchors.each(function(i,anchor){var selector,panel,panelId,anchorId=$(anchor).uniqueId().attr('id'),tab=$(anchor).closest('li'),originalAriaControls=tab.attr('aria-controls');if(isLocal(anchor)){selector=anchor.hash;panel=that.document.find(that._sanitizeSelector(selector));}else{panelId=tab.attr('aria-controls')||$({}).uniqueId()[0].id;selector='#'+panelId;panel=that.element.find(selector);if(!panel.length){panel=that._createPanel(panelId);panel.insertAfter(that.panels[i-1]||that.tablist);}\npanel.attr('aria-live','polite');}\nif(panel.length){that.panels=that.panels.add(panel);}\nif(originalAriaControls){tab.data('ui-tabs-aria-controls',originalAriaControls);}\ntab.attr({'aria-controls':selector.substring(1),'aria-labelledby':anchorId});panel.attr('aria-labelledby',anchorId);if(that.options.excludedPanel.indexOf(anchorId+'_content')<0){panel.addClass(that.options.tabPanelClass);}});this.panels.addClass('ui-tabs-panel ui-widget-content ui-corner-bottom').attr('role','tabpanel');},_movePanelsInDestination:function(panels){if(this.options.destination&&!panels.parents(this.options.destination).length){this.element.trigger('beforePanelsMove',panels);panels.find('script:not([type]), script[type=\"text/javascript\"]').remove();panels.appendTo(this.options.destination).each($.proxy(function(i,panel){$(panel).trigger('move.tabs',this.anchors.eq(i));},this));}},_toggle:function(event,eventData){this._movePanelsInDestination(eventData.newPanel);this._superApply(arguments);}});$.widget('mage.tabs',$.mage.tabs,{options:{beforeLoad:function(event,ui){ui.ajaxSettings.type='POST';ui.ajaxSettings.hasContent=true;ui.jqXHR.setRequestHeader('Content-Type',ui.ajaxSettings.contentType);ui.ajaxSettings.data=jQuery.param({isAjax:true,'form_key':typeof FORM_KEY!=='undefined'?FORM_KEY:null},ui.ajaxSettings.traditional);},load:function(event,ui){var panel=$(ui.panel);$(ui.tab).prop('href','#'+panel.prop('id'));panel.trigger('contentUpdated');}}});$.widget('mage.tabs',$.mage.tabs,{options:{tabIdArgument:'tab',tabsBlockPrefix:null},_refresh:function(){this._super();$.each(this.tabs,$.proxy(function(i,tab){$(this._getPanelForTab(tab)).off('changed'+this.eventNamespace).off('highlight.validate'+this.eventNamespace).off('focusin'+this.eventNamespace).on('changed'+this.eventNamespace,{index:i},$.proxy(this._onContentChange,this)).on('highlight.validate'+this.eventNamespace,{index:i},$.proxy(this._onInvalid,this)).on('focusin'+this.eventNamespace,{index:i},$.proxy(this._onFocus,this));},this));($(this.options.destination).is('form')?$(this.options.destination):$(this.options.destination).closest('form')).off('beforeSubmit'+this.eventNamespace).on('beforeSubmit'+this.eventNamespace,$.proxy(this._onBeforeSubmit,this));},_onContentChange:function(e){var cssChanged='_changed';this.anchors.eq(e.data.index).addClass(cssChanged);this._updateNavTitleMessages(e,cssChanged);},_updateNavTitleMessages:function(e,messageType){var curAnchor=this.anchors.eq(e.data.index),curItem=curAnchor.parents('[data-role=\"container\"]').find('[data-role=\"title\"]'),curItemMessages=curItem.find('[data-role=\"title-messages\"]'),activeClass='_active';if(curItemMessages.is(':empty')){curAnchor.find('[data-role=\"item-messages\"]').clone().appendTo(curItemMessages);}\ncurItemMessages.find('.'+messageType).addClass(activeClass);},_onInvalid:function(e){var cssError='_error',fakeEvent=e;fakeEvent.currentTarget=$(this.anchors).eq(e.data.index);this._eventHandler(fakeEvent);this.anchors.eq(e.data.index).addClass(cssError).find('.'+cssError).show();this._updateNavTitleMessages(e,cssError);},_onFocus:function(e){this.option('_active',e.data.index);},_onBeforeSubmit:function(e,data){var activeAnchor=this.activeAnchor(),activeTabId=activeAnchor.prop('id'),options;if(this.options.tabsBlockPrefix){if(activeAnchor.is('[id*=\"'+this.options.tabsBlockPrefix+'\"]')){activeTabId=activeAnchor.prop('id').substr(this.options.tabsBlockPrefix.length);}}\n$(this.anchors).removeClass('error');options={action:{args:{}}};options.action.args[this.options.tabIdArgument]=activeTabId;}});$.widget('mage.tabs',$.mage.tabs,{_refresh:function(){var anchors,shadowTabs,tabs;this._super();anchors=this.anchors;shadowTabs=this.options.shadowTabs;tabs=this.tabs;if(shadowTabs){anchors.each($.proxy(function(i,anchor){var anchorId=$(anchor).prop('id');if(shadowTabs[anchorId]){$(anchor).parents('li').on('click',$.proxy(function(){$.each(shadowTabs[anchorId],$.proxy(function(key,id){this.load($(tabs).index($('#'+id).parents('li')),{});},this));},this));}},this));}}});return $.mage.tabs;});","mage/backend/tree-suggest.min.js":"define(['jquery','jquery/ui','jquery/jstree/jquery.jstree','mage/backend/suggest'],function($){'use strict';var hover_node,dehover_node,select_node,init;$.extend(true,$,{mage:{treeToList:function(list,nodes,level,path){$.each(nodes,function(){if(typeof this==='object'){list.push({label:this.label,id:this.id,level:level,item:this,path:path+this.label});if(this.children){$.mage.treeToList(list,this.children,level+1,path+this.label+' / ');}}});return list;}}});hover_node=$.jstree.core.prototype.hover_node;dehover_node=$.jstree.core.prototype.dehover_node;select_node=$.jstree.core.prototype.select_node;init=$.jstree.core.prototype.init;$.extend(true,$.jstree.core.prototype,{init:function(){this.get_container().show().on('keydown',$.proxy(function(e){var o;if(e.keyCode===$.ui.keyCode.ENTER){o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.select_node(o,true);}},this));init.call(this);},hover_node:function(obj){hover_node.apply(this,arguments);obj=this._get_node(obj);if(!obj.length){return false;}\nthis.get_container().trigger('hover_node',[{item:obj.find('a:first')}]);},dehover_node:function(){dehover_node.call(this);this.get_container().trigger('dehover_node');},select_node:function(o){var node;select_node.apply(this,arguments);node=this._get_node(o);(node?$(node):this.data.ui.last_selected).trigger('select_tree_node');}});$.widget('mage.treeSuggest',$.mage.suggest,{widgetEventPrefix:'suggest',options:{template:'<% if (data.items.length) { %>'+'<% if (data.allShown()) { %>'+'<% if (typeof data.nested === \"undefined\") { %>'+'<div style=\"display:none;\" data-mage-init=\"{&quot;jstree&quot;:{&quot;plugins&quot;:[&quot;themes&quot;,&quot;html_data&quot;,&quot;ui&quot;,&quot;hotkeys&quot;],&quot;themes&quot;:{&quot;theme&quot;:&quot;default&quot;,&quot;dots&quot;:false,&quot;icons&quot;:false}}}\">'+'<% } %>'+'<ul>'+'<% _.each(data.items, function(value) { %>'+'<li class=\"<% if (data.itemSelected(value)) { %>mage-suggest-selected<% } %>'+'                   <% if (value.is_active == 0) { %> mage-suggest-not-active<% } %>\">'+'<a href=\"#\" <%= data.optionData(value) %>><%- value.label %></a>'+'<% if (value.children && value.children.length) { %>'+'<%= data.renderTreeLevel(value.children) %>'+'<% } %>'+'</li>'+'<% }); %>'+'</ul>'+'<% if (typeof data.nested === \"undefined\") { %>'+'</div>'+'<% } %>'+'<% } else { %>'+'<ul data-mage-init=\"{&quot;menu&quot;:[]}\">'+'<% _.each(data.items, function(value) { %>'+'<% if (!data.itemSelected(value)) {%>'+'<li <%= data.optionData(value) %>>'+'<a href=\"#\">'+'<span class=\"category-label\"><%- value.label %></span>'+'<span class=\"category-path\"><%- value.path %></span>'+'</a>'+'</li>'+'<% } %>'+'<% }); %>'+'</ul>'+'<% } %>'+'<% } else { %>'+'<span class=\"mage-suggest-no-records\"><%- data.noRecordsText %></span>'+'<% } %>',controls:{selector:':ui-menu, :mage-menu, .jstree',eventsMap:{focus:['menufocus','hover_node'],blur:['menublur','dehover_node'],select:['menuselect','select_tree_node']}}},_bind:function(){this._super();this._on({keydown:function(event){var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.LEFT:case keyCode.RIGHT:if(this.isDropdownShown()){event.preventDefault();this._proxyEvents(event);}\nbreak;}}});},close:function(e){var eType=e?e.type:null;if(eType==='select_tree_node'){this.element.focus();}else{this._superApply(arguments);}},_filterSelected:function(items,context){if(context._allShown){return items;}\nreturn this._superApply(arguments);},_prepareDropdownContext:function(){var context=this._superApply(arguments),optionData=context.optionData,templates=this.templates,tmplName=this.templateName;context.optionData=function(item){item=$.extend({},item);delete item.children;return optionData(item);};return $.extend(context,{renderTreeLevel:function(children){var _context=$.extend({},this,{items:children,nested:true}),tmpl=templates[tmplName];tmpl=tmpl({data:_context});return $('<div>').append($(tmpl)).html();}});},_processResponse:function(e,items,context){var control;if(context&&!context._allShown){items=this.filter($.mage.treeToList([],items,0,''),this._term);}\ncontrol=this.dropdown.find(this._control.selector);if(control.length&&control.hasClass('jstree')){control.jstree('destroy');}\nthis._superApply([e,items,context]);}});return $.mage.treeSuggest;});","mage/backend/validation.min.js":"define(['jquery','underscore','Magento_Ui/js/modal/alert','jquery/ui','jquery/validate','mage/translate','mage/validation'],function($,_,alert){'use strict';$.extend(true,$.validator.prototype,{focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.errorList.length&&this.errorList[0].element||[]).trigger('focus').trigger('focusin');}catch(e){}}},elements:function(){var validator=this,rulesCache={};return $(this.currentForm).find('input, select, textarea').not(this.settings.forceIgnore).not(':submit, :reset, :image, [disabled]').not(this.settings.ignore).filter(function(){if(!this.name&&validator.settings.debug&&window.console){console.error('%o has no name assigned',this);}\nif(this.name in rulesCache||!validator.objectLength($(this).rules())){return false;}\nrulesCache[this.name]=true;return true;});}});$.extend($.fn,{validateDelegate:function(delegate,type,handler){return this.on(type,$.proxy(function(event){var target=$(event.target),form=target[0].form;if(form&&$(form).is(this)&&$.data(form,'validator')&&target.is(delegate)){return handler.apply(target,arguments);}},this));}});$.widget('mage.validation',$.mage.validation,{options:{messagesId:'messages',forceIgnore:'',ignore:':disabled, .ignore-validate, .no-display.template, '+':disabled input, .ignore-validate input, .no-display.template input, '+':disabled select, .ignore-validate select, .no-display.template select, '+':disabled textarea, .ignore-validate textarea, .no-display.template textarea',errorElement:'label',errorUrl:typeof BASE_URL!=='undefined'?BASE_URL:null,highlight:function(element){if($.validator.defaults.highlight&&typeof $.validator.defaults.highlight==='function'){$.validator.defaults.highlight.apply(this,arguments);}\n$(element).trigger('highlight.validate');},unhighlight:function(element){if($.validator.defaults.unhighlight&&typeof $.validator.defaults.unhighlight==='function'){$.validator.defaults.unhighlight.apply(this,arguments);}\n$(element).trigger('unhighlight.validate');}},_create:function(){if(!this.options.submitHandler&&typeof this.options.submitHandler!=='function'){if(!this.options.frontendOnly&&this.options.validationUrl){this.options.submitHandler=$.proxy(this._ajaxValidate,this);}else{this.options.submitHandler=$.proxy(this._submit,this);}}\nthis.element.on('resetElement',function(e){$(e.target).rules('remove');});this._super('_create');},_ajaxValidate:function(){$.ajax({url:this.options.validationUrl,type:'POST',dataType:'json',data:this.element.serialize(),context:$('body'),success:$.proxy(this._onSuccess,this),error:$.proxy(this._onError,this),showLoader:true,dontHide:false});},_onSuccess:function(response){if(!response.error){this._submit();}else{this._showErrors(response);$(this.element[0]).trigger('afterValidate.error');$('body').trigger('processStop');}},_submit:function(){$(this.element[0]).trigger('afterValidate.beforeSubmit');this.element[0].submit();},_showErrors:function(data){$('body').notification('clear').notification('add',{error:data.error,message:data.message,insertMethod:function(message){$('.messages:first').html(message);}});},_getByCode:function(code){var parent=this.element[0],element;element=parent.querySelector('#'+code)||parent.querySelector('input[name='+code+']');return $(element);},_onError:function(){$(this.element[0]).trigger('afterValidate.error');$('body').trigger('processStop');if(this.options.errorUrl){location.href=this.options.errorUrl;}}});_.each({'validate-greater-zero-based-on-option':[function(v,el){var optionType=$(el).closest('.form-list').prev('.fieldset-alt').find('select.select-product-option-type'),optionTypeVal=optionType.val();v=Number(v)||0;if(optionType&&(optionTypeVal=='checkbox'||optionTypeVal=='multi')&&v<=0){return false;}\nreturn true;},$.mage.__('Please enter a number greater 0 in this field.')],'validate-rating':[function(){var ratings=$('#detailed_rating').find('.field-rating'),noError=true;ratings.each(function(index,rating){noError=noError&&$(rating).find('input:checked').length>0;});return noError;},$.mage.__('Please select one of each ratings above.')],'validate-downloadable-file':[function(v,element){var elmParent=$(element).parent(),linkType=elmParent.find('input[value=\"file\"]'),newFileContainer;if(linkType.is(':checked')&&(v===''||v==='[]')){newFileContainer=elmParent.find('.new-file');if(!alertAlreadyDisplayed&&(newFileContainer.empty()||newFileContainer.is(':visible'))){window.alertAlreadyDisplayed=true;alert({content:$.mage.__('There are files that were selected but not uploaded yet. '+'Please upload or remove them first')});}\nreturn false;}\nreturn true;},'Please upload a file.'],'validate-downloadable-url':[function(v,element){var linkType=$(element).parent().find('input[value=\"url\"]');if(linkType.is(':checked')&&v===''){return false;}\nreturn true;},$.mage.__('Please specify Url.')]},function(rule,i){rule.unshift(i);$.validator.addMethod.apply($.validator,rule);});return $.mage.validation;});","mage/msie/file-reader.min.js":"define(['jquery'],function($){'use strict';var readAsBinaryStringIEFunc=function(fileData){var binary='',self=this,reader=new FileReader();reader.onload=function(){var bytes,length,index;bytes=new Uint8Array(reader.result);length=bytes.length;for(index=0;index<length;index++){binary+=String.fromCharCode(bytes[index]);}\nself.content=binary;$(self).trigger('onload');};reader.readAsArrayBuffer(fileData);};if(typeof FileReader.prototype.readAsBinaryString==='undefined'){FileReader.prototype.readAsBinaryString=readAsBinaryStringIEFunc;}});","mage/requirejs/baseUrlResolver.min.js":"define('baseUrlInterceptor',['module'],function(module){'use strict';var ctx=require.s.contexts._,origNameToUrl=ctx.nameToUrl,newContextConstr=require.s.newContext;function trimDots(ary){var i,part,length=ary.length;for(i=0;i<length;i++){part=ary[i];if(part==='.'){ary.splice(i,1);i-=1;}else if(part==='..'){if(i===1&&(ary[2]==='..'||ary[0]==='..')){break;}else if(i>0){ary.splice(i-1,2);i-=2;}}}}\nfunction normalize(name,baseName,applyMap,localContext){var lastIndex,baseParts=baseName&&baseName.split('/'),normalizedBaseParts=baseParts;if(name&&name.charAt(0)==='.'){if(baseName){normalizedBaseParts=baseParts.slice(0,baseParts.length-1);name=name.split('/');lastIndex=name.length-1;if(localContext.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])){name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,'');}\nname=normalizedBaseParts.concat(name);trimDots(name);name=name.join('/');}else if(name.indexOf('./')===0){name=name.substring(2);}}\nreturn name;}\nfunction getUrl(context,url){var baseUrl=context.config.baseUrl,newConfig=context.config,modulePath=url.replace(baseUrl,''),newBaseUrl,rewrite=module.config()[modulePath];if(!rewrite){return url;}\nnewBaseUrl=normalize(rewrite,baseUrl,undefined,newConfig);return newBaseUrl+modulePath;}\nctx.nameToUrl=function(){return getUrl(ctx,origNameToUrl.apply(ctx,arguments));};require.s.newContext=function(){var newCtx=newContextConstr.apply(require.s,arguments),newOrigNameToUrl=newCtx.nameToUrl;newCtx.nameToUrl=function(){return getUrl(newCtx,newOrigNameToUrl.apply(newCtx,arguments));};return newCtx;};});require(['baseUrlInterceptor'],function(){'use strict';});","mage/requirejs/resolver.min.js":"define(['underscore','domReady!'],function(_){'use strict';var context=require.s.contexts._,execCb=context.execCb,registry=context.registry,callbacks=[],retries=10,updateDelay=1,ready,update;function isSubscribed(callback){return!!_.findWhere(callbacks,callback);}\nfunction isRejected(module){return registry[module.id]&&(registry[module.id].inited||registry[module.id].error);}\nfunction isPathFallback(module){return registry[module.id]&&registry[module.id].events.error;}\nfunction isPending(module){if(!module.depCount){return false;}\nreturn module.depCount>_.filter(module.depMaps,isRejected).length+_.filter(module.depMaps,isPathFallback).length;}\nfunction hasPending(){return _.some(registry,isPending);}\nfunction isReady(){return ready&&!hasPending();}\nfunction invoke(callback){callback.handler.call(callback.ctx);}\nfunction resolve(){ready=true;callbacks.splice(0).forEach(invoke);}\nfunction tick(){ready=false;update(retries);}\nfunction subscribe(handler,ctx){var callback={handler:handler,ctx:ctx};if(!isSubscribed(callback)){callbacks.push(callback);if(isReady()){_.defer(tick);}}}\nupdate=_.debounce(function(retry){if(!hasPending()){retry?update(--retry):resolve();}},updateDelay);context.execCb=function(){var exported=execCb.apply(context,arguments);tick();return exported;};return subscribe;});","mage/requirejs/text.min.js":"define(['module'],function(module){'use strict';var xmlRegExp=/^\\s*<\\?xml(\\s)+version=[\\'\\\"](\\d)*.(\\d)*[\\'\\\"](\\s)*\\?>/im,bodyRegExp=/<body[^>]*>\\s*([\\s\\S]+)\\s*<\\/body>/im,stripReg=/!strip$/i,defaultConfig=module.config&&module.config()||{};function stripContent(external){var matches;if(!external){return'';}\nmatches=external.match(bodyRegExp);external=matches?matches[1]:external.replace(xmlRegExp,'');return external;}\nfunction sameDomain(url){var uProtocol,uHostName,uPort,xdRegExp=/^([\\w:]+)?\\/\\/([^\\/\\\\]+)/i,location=window.location,match=xdRegExp.exec(url);if(!match){return true;}\nuProtocol=match[1];uHostName=match[2];uHostName=uHostName.split(':');uPort=uHostName[1]||'';uHostName=uHostName[0];return(!uProtocol||uProtocol===location.protocol)&&(!uHostName||uHostName.toLowerCase()===location.hostname.toLowerCase())&&(!uPort&&!uHostName||uPort===location.port);}\nfunction createRequest(url){var xhr=new XMLHttpRequest();if(!sameDomain(url)&&typeof XDomainRequest!=='undefined'){xhr=new XDomainRequest();}\nreturn xhr;}\nfunction getContent(url,callback,fail,headers){var xhr=createRequest(url),header;xhr.open('GET',url);if('setRequestHeader'in xhr&&headers){for(header in headers){if(headers.hasOwnProperty(header)){xhr.setRequestHeader(header.toLowerCase(),headers[header]);}}}\nxhr.onreadystatechange=function(){var status,err;if(xhr.readyState===4){status=xhr.status||0;if(status>399&&status<600){err=new Error(url+' HTTP status: '+status);err.xhr=xhr;if(fail){fail(err);}}else{callback(xhr.responseText);if(defaultConfig.onXhrComplete){defaultConfig.onXhrComplete(xhr,url);}}}};if(defaultConfig.onXhr){defaultConfig.onXhr(xhr,url);}\nxhr.send();}\nfunction loadContent(name,req,onLoad){var toStrip=stripReg.test(name),url=req.toUrl(name.replace(stripReg,'')),headers=defaultConfig.headers;getContent(url,function(content){content=toStrip?stripContent(content):content;onLoad(content);},onLoad.error,headers);}\nreturn{load:loadContent,get:getContent};});","mage/utils/arrays.min.js":"define(['underscore','./strings'],function(_,utils){'use strict';function getIndex(item,container){var index=container.indexOf(item);if(~index){return index;}\nreturn _.findIndex(container,function(value){return value&&value.name===item;});}\nreturn{toggle:function(arr,value,add){return add?this.add(arr,value):this.remove(arr,value);},remove:function(arr,value){var index=arr.indexOf(value);if(~index){arr.splice(index,1);}\nreturn this;},add:function(arr){var values=_.toArray(arguments).slice(1);values.forEach(function(value){if(!~arr.indexOf(value)){arr.push(value);}});return this;},insert:function(item,container,position){var currentIndex=getIndex(item,container),newIndex,target;if(typeof position==='undefined'){position=-1;}else if(typeof position==='string'){position=isNaN(+position)?position:+position;}\nnewIndex=position;if(~currentIndex){target=container.splice(currentIndex,1)[0];if(typeof item==='string'){item=target;}}\nif(typeof position!=='number'){target=position.after||position.before||position;newIndex=getIndex(target,container);if(~newIndex&&(position.after||newIndex>=currentIndex)){newIndex++;}}\nif(newIndex<0){newIndex+=container.length+1;}\ncontainer[newIndex]?container.splice(newIndex,0,item):container[newIndex]=item;return!~currentIndex?item:currentIndex!==newIndex;},formatOffset:function(elems,offset){if(utils.isEmpty(offset)){offset=-1;}\noffset=+offset;if(offset<0){offset+=elems.length+1;}\nreturn offset;}};});","mage/utils/compare.min.js":"define(['underscore','mage/utils/objects'],function(_,utils){'use strict';var result=[];function equalArrays(keepOrder,target){var args=_.toArray(arguments),arrays;if(!Array.isArray(keepOrder)){arrays=args.slice(2);}else{target=keepOrder;keepOrder=false;arrays=args.slice(1);}\nif(!arrays.length){return true;}\nreturn arrays.every(function(array){if(array===target){return true;}else if(array.length!==target.length){return false;}else if(!keepOrder){return!_.difference(target,array).length;}\nreturn array.every(function(value,index){return target[index]===value;});});}\nfunction isDifferent(a,b){var oldIsPrimitive=utils.isPrimitive(a);if(Array.isArray(a)&&Array.isArray(b)){return!equalArrays(true,a,b);}\nreturn oldIsPrimitive?a!==b:true;}\nfunction getPath(prefix,part){return prefix?prefix+'.'+part:part;}\nfunction hasOwn(obj,key){return Object.prototype.hasOwnProperty.call(obj,key);}\nfunction getContainers(changes){var containers={},indexed=_.indexBy(changes,'path');_.each(indexed,function(change,name){var path;name.split('.').forEach(function(part){path=getPath(path,part);if(path in indexed){return;}\n(containers[path]=containers[path]||[]).push(change);});});return containers;}\nfunction addChange(path,name,type,newValue,oldValue){var data;data={path:path,name:name,type:type};if(type!=='remove'){data.value=newValue;data.oldValue=oldValue;}else{data.oldValue=newValue;}\nresult.push(data);}\nfunction setAll(ns,name,type,iterator,placeholder){var key;if(arguments.length>4){type==='add'?addChange(ns,name,'update',iterator,placeholder):addChange(ns,name,'update',placeholder,iterator);}else{addChange(ns,name,type,iterator);}\nif(!utils.isObject(iterator)){return;}\nfor(key in iterator){if(hasOwn(iterator,key)){setAll(getPath(ns,key),key,type,iterator[key]);}}}\nfunction compare(old,current,ns,name){var key,oldIsObj=utils.isObject(old),newIsObj=utils.isObject(current);if(oldIsObj&&newIsObj){for(key in old){if(hasOwn(old,key)&&!hasOwn(current,key)){setAll(getPath(ns,key),key,'remove',old[key]);}}\nfor(key in current){if(hasOwn(current,key)){hasOwn(old,key)?compare(old[key],current[key],getPath(ns,key),key):setAll(getPath(ns,key),key,'add',current[key]);}}}else if(oldIsObj){setAll(ns,name,'remove',old,current);}else if(newIsObj){setAll(ns,name,'add',current,old);}else if(isDifferent(old,current)){addChange(ns,name,'update',current,old);}}\nreturn{compare:function(){var changes;compare.apply(null,arguments);changes=result.splice(0);return{containers:getContainers(changes),changes:changes,equal:!changes.length};},equalArrays:equalArrays};});","mage/utils/main.min.js":"define(function(require){'use strict';var utils={},_=require('underscore'),root=typeof self=='object'&&self.self===self&&self||typeof global=='object'&&global.global===global&&global||Function('return this')()||{};root._=_;return _.extend(utils,require('./arrays'),require('./compare'),require('./misc'),require('./objects'),require('./strings'),require('./template'));});","mage/utils/misc.min.js":"define(['underscore','jquery','mage/utils/objects'],function(_,$,utils){'use strict';var defaultAttributes,ajaxSettings,map;defaultAttributes={method:'post',enctype:'multipart/form-data'};ajaxSettings={default:{method:'POST',cache:false,processData:false,contentType:false},simple:{method:'POST',dataType:'json'}};map={'D':'DDD','dd':'DD','d':'D','EEEE':'dddd','EEE':'ddd','e':'d','yyyy':'YYYY','yy':'YY','y':'YYYY','a':'A'};return{uniqueid:function(size){var code=Math.random()*25+65|0,idstr=String.fromCharCode(code);size=size||7;while(idstr.length<size){code=Math.floor(Math.random()*42+48);if(code<58||code>64){idstr+=String.fromCharCode(code);}}\nreturn idstr;},limit:function(owner,target,limit){var fn=owner[target];owner[target]=_.debounce(fn.bind(owner),limit);},normalizeDate:function(mageFormat){var result=mageFormat;_.each(map,function(moment,mage){result=result.replace(new RegExp(mage+'(?=([^\\u0027]*\\u0027[^\\u0027]*\\u0027)*[^\\u0027]*$)'),moment);});result=result.replace(/'(.*?)'/g,'[$1]');return result;},inRange:function(value,min,max){return Math.min(Math.max(min,value),max);},submit:function(options,attrs){var form=document.createElement('form'),data=utils.serialize(options.data),attributes=_.extend({},defaultAttributes,attrs||{});if(!attributes.action){attributes.action=options.url;}\ndata['form_key']=window.FORM_KEY;_.each(attributes,function(value,name){form.setAttribute(name,value);});data=_.map(data,function(value,name){return'<input type=\"hidden\" '+'name=\"'+_.escape(name)+'\" '+'value=\"'+_.escape(value)+'\"'+' />';}).join('');form.insertAdjacentHTML('afterbegin',data);document.body.appendChild(form);form.submit();},ajaxSubmit:function(options,config){var t=new Date().getTime(),settings;options.data['form_key']=window.FORM_KEY;options.data=this.prepareFormData(options.data,config.ajaxSaveType);settings=_.extend({},ajaxSettings[config.ajaxSaveType],options||{});if(!config.ignoreProcessEvents){$('body').trigger('processStart');}\nreturn $.ajax(settings).done(function(data){if(config.response){data.t=t;config.response.data(data);config.response.status(undefined);config.response.status(!data.error);}}).fail(function(){if(config.response){config.response.status(undefined);config.response.status(false);config.response.data({error:true,messages:'Something went wrong.',t:t});}}).always(function(){if(!config.ignoreProcessEvents){$('body').trigger('processStop');}});},prepareFormData:function(data,type){var formData;if(type==='default'){formData=new FormData();_.each(utils.serialize(data),function(val,name){formData.append(name,val);});}else if(type==='simple'){formData=utils.serialize(data);}\nreturn formData;},filterFormData:function(data,suffix,separator){data=data||{};suffix=suffix||'prepared-for-send';separator=separator||'-';_.each(data,function(value,key){if(_.isObject(value)&&!Array.isArray(value)){this.filterFormData(value,suffix,separator);}else if(_.isString(key)&&~key.indexOf(suffix)){data[key.split(separator)[0]]=value;delete data[key];}},this);return data;},escape:function(string){return string?$('<p></p>').text(string).html().replace(/\"/g,'&quot;'):string;},unescape:function(data){var unescaped=_.unescape(data),mapCharacters={'&#039;':'\\''};_.each(mapCharacters,function(value,key){unescaped=unescaped.replace(key,value);});return unescaped;},convertToMomentFormat:function(format){var newFormat;newFormat=format.replace(/yyyy|yy|y/,'YYYY');newFormat=newFormat.replace(/dd|d/g,'DD');return newFormat;},getUrlParameters:function(url){var params={},queries=url.split('?'),temp,i,l;if(!queries[1]){return params;}\nqueries=queries[1].split('&');for(i=0,l=queries.length;i<l;i++){temp=queries[i].split('=');if(temp[1]){params[temp[0]]=decodeURIComponent(temp[1].replace(/\\+/g,'%20'));}else{params[temp[0]]='';}}\nreturn params;}};});","mage/utils/objects.min.js":"define(['ko','jquery','underscore','mage/utils/strings'],function(ko,$,_,stringUtils){'use strict';var primitives=['undefined','boolean','number','string'];function setNested(parent,path,value){var last=path.pop(),len=path.length,pi=0,part=path[pi];for(;pi<len;part=path[++pi]){if(!_.isObject(parent[part])){parent[part]={};}\nparent=parent[part];}\nif(typeof parent[last]==='function'){parent[last](value);}else{parent[last]=value;}\nreturn value;}\nfunction getNested(parent,path){var exists=true,len=path.length,pi=0;for(;pi<len&&exists;pi++){parent=parent[path[pi]];if(typeof parent==='undefined'){exists=false;}}\nif(exists){if(ko.isObservable(parent)){parent=parent();}\nreturn parent;}}\nfunction removeNested(parent,path){var field=path.pop();parent=getNested(parent,path);if(_.isObject(parent)){delete parent[field];}}\nreturn{nested:function(data,path,value){var action=arguments.length>2?setNested:getNested;path=path?path.split('.'):[];return action(data,path,value);},nestedRemove:function(data,path){path=path.split('.');removeNested(data,path);},flatten:function(data,separator,parent,result){separator=separator||'.';result=result||{};if(!data){return result;}\n_.each(Object.keys(data),function(name){var node=data[name];if({}.toString.call(node)==='[object Function]'){return;}\nif(parent){name=parent+separator+name;}\ntypeof node==='object'?this.flatten(node,separator,name,result):result[name]=node;},this);return result;},unflatten:function(data,separator){var result={};separator=separator||'.';_.each(data,function(value,nodes){nodes=nodes.split(separator);setNested(result,nodes,value);});return result;},serialize:function(data){var result={};data=this.flatten(data);_.each(data,function(value,keys){keys=stringUtils.serializeName(keys);value=_.isUndefined(value)?'':value;result[keys]=value;},this);return result;},extend:function(){var args=_.toArray(arguments);args.unshift(true);return $.extend.apply($,args);},copy:function(data){var result=data,isArray=Array.isArray(data),placeholder;if(this.isObject(data)||isArray){placeholder=isArray?[]:{};result=this.extend(placeholder,data);}\nreturn result;},hardCopy:function(original){if(original===null||typeof original!=='object'){return original;}\nreturn JSON.parse(JSON.stringify(original));},omit:function(target,list){var removed={},ignored=list;if(this.isObject(list)){ignored=[];_.each(list,function(value,key){if(value){ignored.push(key);}});}else if(_.isString(list)){ignored=_.toArray(arguments).slice(1);}\n_.each(ignored,function(path){var value=this.nested(target,path);if(!_.isUndefined(value)){removed[path]=value;this.nestedRemove(target,path);}},this);return removed;},isObject:function(value){var objProto=Object.prototype;return typeof value=='object'?objProto.toString.call(value)==='[object Object]':false;},isPrimitive:function(value){return value===null||~primitives.indexOf(typeof value);},forEachRecursive:function(data,action,maxDepth){maxDepth=typeof maxDepth==='number'&&!isNaN(maxDepth)?maxDepth-1:7;if(!_.isFunction(action)||_.isFunction(data)||maxDepth<0){return;}\nif(!_.isObject(data)){action(data);return;}\n_.each(data,function(value){this.forEachRecursive(value,action,maxDepth);},this);action(data);},mapRecursive:function(data,action,maxDepth){var newData;maxDepth=typeof maxDepth==='number'&&!isNaN(maxDepth)?maxDepth-1:7;if(!_.isFunction(action)||_.isFunction(data)||maxDepth<0){return data;}\nif(!_.isObject(data)){return action(data);}\nif(_.isArray(data)){newData=_.map(data,function(item){return this.mapRecursive(item,action,maxDepth);},this);return action(newData);}\nnewData=_.mapObject(data,function(val,key){if(data.hasOwnProperty(key)){return this.mapRecursive(val,action,maxDepth);}\nreturn val;},this);return action(newData);},removeEmptyValues:function(data){if(!_.isObject(data)){return data;}\nif(_.isArray(data)){return data.filter(function(item){return!this.isEmptyObj(item);},this);}\nreturn _.omit(data,this.isEmptyObj.bind(this));},isEmptyObj:function(val){return _.isObject(val)&&_.isEmpty(val)||this.isEmpty(val)||val&&val.trim&&this.isEmpty(val.trim());}};});","mage/utils/strings.min.js":"define(['underscore'],function(_){'use strict';var jsonRe=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/;return{castString:function(str){try{str=str==='true'?true:str==='false'?false:str==='null'?null:+str+''===str?+str:jsonRe.test(str)?JSON.parse(str):str;}catch(e){}\nreturn str;},stringToArray:function(str,separator){separator=separator||' ';return typeof str==='string'?str.split(separator):str;},serializeName:function(name,separator){var result;separator=separator||'.';name=name.split(separator);result=name.shift();name.forEach(function(part){result+='['+part+']';});return result;},isEmpty:function(value){return value===''||_.isUndefined(value)||_.isNull(value);},fullPath:function(prefix,part){return prefix?prefix+'.'+part:part;},getPart:function(parts,offset,delimiter){delimiter=delimiter||'.';parts=parts.split(delimiter);offset=this.formatOffset(parts,offset);parts.splice(offset,1);return parts.join(delimiter)||'';},camelCaseToMinus:function camelCaseToMinus(string){return(''+string).split('').map(function(symbol,index){return index?symbol.toUpperCase()===symbol?'-'+symbol.toLowerCase():symbol:symbol.toLowerCase();}).join('');},minusToCamelCase:function minusToCamelCase(string){return(''+string).split('-').map(function(part,index){return index?part.charAt(0).toUpperCase()+part.slice(1):part;}).join('');}};});","mage/utils/template.min.js":"define(['jquery','underscore','mage/utils/objects','mage/utils/strings'],function($,_,utils,stringUtils){'use strict';var tmplSettings=_.templateSettings,interpolate=/\\$\\{([\\s\\S]+?)\\}/g,opener='${',template,hasStringTmpls;hasStringTmpls=(function(){var testString='var foo = \"bar\"; return `${ foo }` === foo';try{return Function(testString)();}catch(e){return false;}})();function isTmplIgnored(tmpl,target){var parsedTmpl;try{parsedTmpl=JSON.parse(tmpl);if(typeof parsedTmpl==='object'){return tmpl.includes('__disableTmpl');}}catch(e){}\nif(typeof target!=='undefined'){if(typeof target==='object'&&target.hasOwnProperty('__disableTmpl')){return target.__disableTmpl;}}\nreturn false;}\nif(hasStringTmpls){template=function(tmpl,$){return eval('`'+tmpl+'`');};}else{template=function(tmpl,data){var cached=tmplSettings.interpolate;tmplSettings.interpolate=interpolate;tmpl=_.template(tmpl,{variable:'$'})(data);tmplSettings.interpolate=cached;return tmpl;};}\nfunction isTemplate(value){return typeof value==='string'&&value.indexOf(opener)!==-1&&value.indexOf('${{')===-1;}\nfunction render(tmpl,data,castString,maxCycles){var last=tmpl,cycles=0;while(~tmpl.indexOf(opener)&&(typeof maxCycles==='undefined'||cycles<maxCycles)){if(!isTmplIgnored(tmpl)){tmpl=template(tmpl,data);}\nif(tmpl===last){break;}\nlast=tmpl;cycles++;}\nreturn castString?stringUtils.castString(tmpl):tmpl;}\nreturn{template:function(tmpl,data,castString,dontClone){if(typeof tmpl==='string'){return render(tmpl,data,castString);}\nif(!dontClone){tmpl=utils.copy(tmpl);}\ntmpl.$data=data||{};_.each(tmpl,function iterate(value,key,list){var disabled,maxCycles;if(key==='$data'){return;}\nif(isTemplate(key)){delete list[key];key=render(key,tmpl);list[key]=value;}\nif(isTemplate(value)){disabled=isTmplIgnored(value,list);if(typeof disabled==='object'&&disabled.hasOwnProperty(key)&&disabled[key]!==false){maxCycles=disabled[key];}\nif(disabled===true||maxCycles===true){maxCycles=0;}\nlist[key]=render(value,tmpl,castString,maxCycles);}else if($.isPlainObject(value)||Array.isArray(value)){_.each(value,iterate);}});delete tmpl.$data;return tmpl;}};});","mage/utils/wrapper.min.js":"define(['underscore'],function(_){'use strict';var superReg=/\\b_super\\b/;return{wrap:function(target,wrapper){if(!_.isFunction(target)||!_.isFunction(wrapper)){return wrapper;}\nreturn function(){var args=_.toArray(arguments),ctx=this,_super;_super=function(){var superArgs=arguments.length?arguments:args.slice(1);return target.apply(ctx,superArgs);};args.unshift(_super);return wrapper.apply(ctx,args);};},wrapSuper:function(target,wrapper){if(!this.hasSuper(wrapper)||!_.isFunction(target)){return wrapper;}\nreturn function(){var _super=this._super,args=arguments,result;this._super=function(){var superArgs=arguments.length?arguments:args;return target.apply(this,superArgs);};result=wrapper.apply(this,args);this._super=_super;return result;};},hasSuper:function(fn){return _.isFunction(fn)&&superReg.test(fn);},extend:function(target){var extenders=_.toArray(arguments).slice(1),iterator=this._extend.bind(this,target);extenders.forEach(iterator);return target;},_extend:function(target,extender){_.each(extender,function(value,key){target[key]=this.wrap(target[key],extender[key]);},this);}};});","mage/validation/url.min.js":"define([],function(){'use strict';return{redirect:function(path){path=this.sanitize(path);if(this.validate(path)){window.location.href=path;}},validate:function(path){var hostname=window.location.hostname;if(path.indexOf(hostname)===-1||path.indexOf('javascript:')!==-1||path.indexOf('vbscript:')!==-1){return false;}\nreturn true;},sanitize:function(path){return path.replace('[^-A-Za-z0-9+&@#/%?=~_|!:,.;\\(\\)]','');}};});","requirejs/domReady.min.js":"define(function(){'use strict';var isTop,testDiv,scrollIntervalId,isBrowser=typeof window!==\"undefined\"&&window.document,isPageLoaded=!isBrowser,doc=isBrowser?document:null,readyCalls=[];function runCallbacks(callbacks){var i;for(i=0;i<callbacks.length;i+=1){callbacks[i](doc);}}\nfunction callReady(){var callbacks=readyCalls;if(isPageLoaded){if(callbacks.length){readyCalls=[];runCallbacks(callbacks);}}}\nfunction pageLoaded(){if(!isPageLoaded){isPageLoaded=true;if(scrollIntervalId){clearInterval(scrollIntervalId);}\ncallReady();}}\nif(isBrowser){if(document.addEventListener){document.addEventListener(\"DOMContentLoaded\",pageLoaded,false);window.addEventListener(\"load\",pageLoaded,false);}else if(window.attachEvent){window.attachEvent(\"onload\",pageLoaded);testDiv=document.createElement('div');try{isTop=window.frameElement===null;}catch(e){}\nif(testDiv.doScroll&&isTop&&window.external){scrollIntervalId=setInterval(function(){try{testDiv.doScroll();pageLoaded();}catch(e){}},30);}}\nif(document.readyState!==\"loading\"){setTimeout(pageLoaded);}}\nfunction domReady(callback){if(isPageLoaded){callback(doc);}else{readyCalls.push(callback);}\nreturn domReady;}\ndomReady.version='2.0.1';domReady.load=function(name,req,onLoad,config){if(config.isBuild){onLoad(null);}else{domReady(onLoad);}};return domReady;});","vimeo/player.min.js":"/*! @vimeo/player v2.16.4 | (c) 2022 Vimeo | MIT License | https://github.com/vimeo/player.js */\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):((e=\"undefined\"!=typeof globalThis?globalThis:e||self).Vimeo=e.Vimeo||{},e.Vimeo.Player=t())}(this,function(){\"use strict\";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var e=\"undefined\"!=typeof global&&\"[object global]\"==={}.toString.call(global);function i(e,t){return 0===e.indexOf(t.toLowerCase())?e:\"\".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function l(e){return/^(https?:)?\\/\\/((player|www)\\.)?vimeo\\.com(?=$|\\/)/.test(e)}function u(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.id,e=t.url,t=n||e;if(!t)throw new Error(\"An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.\");if(e=t,!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e)return\"https://vimeo.com/\".concat(t);if(l(t))return t.replace(\"http:\",\"https:\");if(n)throw new TypeError(\"\u201c\".concat(n,\"\u201d is not a valid video id.\"));throw new TypeError(\"\u201c\".concat(t,\"\u201d is not a vimeo.com url.\"))}var t=void 0!==Array.prototype.indexOf,Player=\"undefined\"!=typeof window&&void 0!==window.postMessage;if(!(e||t&&Player))throw new Error(\"Sorry, the Vimeo Player API is not available in this browser.\");var n,o,a=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function c(){if(void 0===this)throw new TypeError(\"Constructor WeakMap requires 'new'\");if(o(this,\"_id\",\"_WeakMap_\"+f()+\".\"+f()),0<arguments.length)throw new TypeError(\"WeakMap iterable is not supported\")}function s(e,t){if(!d(e)||!n.call(e,\"_id\"))throw new TypeError(t+\" method called on incompatible receiver \"+typeof e)}function f(){return Math.random().toString().substring(2)}function d(e){return Object(e)===e}(Player=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:a).WeakMap||(n=Object.prototype.hasOwnProperty,Player.WeakMap=((o=function(e,t,n){Object.defineProperty?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n}):e[t]=n})(c.prototype,\"delete\",function(e){if(s(this,\"delete\"),!d(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)&&(delete e[this._id],!0)}),o(c.prototype,\"get\",function(e){if(s(this,\"get\"),d(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}}),o(c.prototype,\"has\",function(e){if(s(this,\"has\"),!d(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)}),o(c.prototype,\"set\",function(e,t){if(s(this,\"set\"),!d(e))throw new TypeError(\"Invalid value used as weak map key\");var n=e[this._id];return n&&n[0]===e?n[1]=t:o(e,this._id,[e,t]),this}),o(c,\"_polyfill\",!0),c));var h,m=(function(e){var t,n,r;r=function(){var t,n,r,o,i,e=Object.prototype.toString,a=\"undefined\"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},\"x\",{}),t=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==r})}}catch(e){t=function(e,t,n){return e[t]=n,e}}function u(e,t){this.fn=e,this.self=t,this.next=void 0}function l(e,t){y.add(e,t),n=n||a(y.drain)}function c(e){var t,n=typeof e;return\"function\"==typeof(t=null!=e&&(\"object\"==n||\"function\"==n)?e.then:t)&&t}function s(){for(var e=0;e<this.chain.length;e++)!function(e,t,n){var r,o;try{!1===t?n.reject(e.msg):(r=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError(\"Promise-chain cycle\")):(o=c(r))?o.call(r,n.resolve,n.reject):n.resolve(r)}catch(e){n.reject(e)}}(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function f(e){var n,r=this;if(!r.triggered){r.triggered=!0,r.def&&(r=r.def);try{(n=c(e))?l(function(){var t=new m(r);try{n.call(e,function(){f.apply(t,arguments)},function(){d.apply(t,arguments)})}catch(e){d.call(t,e)}}):(r.msg=e,r.state=1,0<r.chain.length&&l(s,r))}catch(e){d.call(new m(r),e)}}}function d(e){var t=this;t.triggered||(t.triggered=!0,(t=t.def?t.def:t).msg=e,t.state=2,0<t.chain.length&&l(s,t))}function h(e,n,r,o){for(var t=0;t<n.length;t++)!function(t){e.resolve(n[t]).then(function(e){r(t,e)},o)}(t)}function m(e){this.def=e,this.triggered=!1}function v(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function p(e){if(\"function\"!=typeof e)throw TypeError(\"Not a function\");if(0!==this.__NPO__)throw TypeError(\"Not a promise\");this.__NPO__=1;var r=new v(this);this.then=function(e,t){var n={success:\"function\"!=typeof e||e,failure:\"function\"==typeof t&&t};return n.promise=new this.constructor(function(e,t){if(\"function\"!=typeof e||\"function\"!=typeof t)throw TypeError(\"Not a function\");n.resolve=e,n.reject=t}),r.chain.push(n),0!==r.state&&l(s,r),n.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,function(e){f.call(r,e)},function(e){d.call(r,e)})}catch(e){d.call(r,e)}}var y={add:function(e,t){i=new u(e,t),o?o.next=i:r=i,o=i,i=void 0},drain:function(){var e=r;for(r=o=n=void 0;e;)e.fn.call(e.self),e=e.next}},g=t({},\"constructor\",p,!1);return t(p.prototype=g,\"__NPO__\",0,!1),t(p,\"resolve\",function(n){return n&&\"object\"==typeof n&&1===n.__NPO__?n:new this(function(e,t){if(\"function\"!=typeof e||\"function\"!=typeof t)throw TypeError(\"Not a function\");e(n)})}),t(p,\"reject\",function(n){return new this(function(e,t){if(\"function\"!=typeof e||\"function\"!=typeof t)throw TypeError(\"Not a function\");t(n)})}),t(p,\"all\",function(t){var a=this;return\"[object Array]\"!=e.call(t)?a.reject(TypeError(\"Not an array\")):0===t.length?a.resolve([]):new a(function(n,e){if(\"function\"!=typeof n||\"function\"!=typeof e)throw TypeError(\"Not a function\");var r=t.length,o=Array(r),i=0;h(a,t,function(e,t){o[e]=t,++i===r&&n(o)},e)})}),t(p,\"race\",function(t){var r=this;return\"[object Array]\"!=e.call(t)?r.reject(TypeError(\"Not an array\")):new r(function(n,e){if(\"function\"!=typeof n||\"function\"!=typeof e)throw TypeError(\"Not a function\");h(r,t,function(e,t){n(t)},e)})}),p},(n=a)[t=\"Promise\"]=n[t]||r(),e.exports&&(e.exports=n[t])}(h={exports:{}}),h.exports),v=new WeakMap;function p(e,t,n){var r=v.get(e.element)||{};t in r||(r[t]=[]),r[t].push(n),v.set(e.element,r)}function y(e,t){return(v.get(e.element)||{})[t]||[]}function g(e,t,n){var r=v.get(e.element)||{};if(!r[t])return!0;if(!n)return r[t]=[],v.set(e.element,r),!0;n=r[t].indexOf(n);return-1!==n&&r[t].splice(n,1),v.set(e.element,r),r[t]&&0===r[t].length}var w=[\"autopause\",\"autoplay\",\"background\",\"byline\",\"color\",\"controls\",\"dnt\",\"height\",\"id\",\"interactive_params\",\"keyboard\",\"loop\",\"maxheight\",\"maxwidth\",\"muted\",\"playsinline\",\"portrait\",\"responsive\",\"speed\",\"texttrack\",\"title\",\"transparent\",\"url\",\"width\"];function b(r,e){return w.reduce(function(e,t){var n=r.getAttribute(\"data-vimeo-\".concat(t));return!n&&\"\"!==n||(e[t]=\"\"===n?1:n),e},1<arguments.length&&void 0!==e?e:{})}function k(e,t){var n=e.html;if(!t)throw new TypeError(\"An element must be provided\");if(null!==t.getAttribute(\"data-vimeo-initialized\"))return t.querySelector(\"iframe\");e=document.createElement(\"div\");return e.innerHTML=n,t.appendChild(e.firstChild),t.setAttribute(\"data-vimeo-initialized\",\"true\"),t.querySelector(\"iframe\")}function E(i,e,t){var a=1<arguments.length&&void 0!==e?e:{},u=2<arguments.length?t:void 0;return new Promise(function(t,n){if(!l(i))throw new TypeError(\"\u201c\".concat(i,\"\u201d is not a vimeo.com url.\"));var e,r=\"https://vimeo.com/api/oembed.json?url=\".concat(encodeURIComponent(i));for(e in a)a.hasOwnProperty(e)&&(r+=\"&\".concat(e,\"=\").concat(encodeURIComponent(a[e])));var o=new(\"XDomainRequest\"in window?XDomainRequest:XMLHttpRequest);o.open(\"GET\",r,!0),o.onload=function(){if(404!==o.status)if(403!==o.status)try{var e=JSON.parse(o.responseText);if(403===e.domain_status_code)return k(e,u),void n(new Error(\"\u201c\".concat(i,\"\u201d is not embeddable.\")));t(e)}catch(e){n(e)}else n(new Error(\"\u201c\".concat(i,\"\u201d is not embeddable.\")));else n(new Error(\"\u201c\".concat(i,\"\u201d was not found.\")))},o.onerror=function(){var e=o.status?\" (\".concat(o.status,\")\"):\"\";n(new Error(\"There was an error fetching the embed code from Vimeo\".concat(e,\".\")))},o.send()})}function T(e){function n(e){\"console\"in window&&console.error&&console.error(\"There was an error creating an embed: \".concat(e))}e=0<arguments.length&&void 0!==e?e:document,e=[].slice.call(e.querySelectorAll(\"[data-vimeo-id], [data-vimeo-url]\"));e.forEach(function(t){try{if(null!==t.getAttribute(\"data-vimeo-defer\"))return;var e=b(t);E(u(e),e,t).then(function(e){return k(e,t)}).catch(n)}catch(e){n(e)}})}function P(e){if(\"string\"==typeof e)try{e=JSON.parse(e)}catch(e){return console.warn(e),{}}return e}function _(e,t,n){e.element.contentWindow&&e.element.contentWindow.postMessage&&(t={method:t},void 0!==n&&(t.value=n),8<=(n=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\\d+).*$/,\"$1\")))&&n<10&&(t=JSON.stringify(t)),e.element.contentWindow.postMessage(t,e.origin))}function M(n,r){var t,e,o,i,a=[];(r=P(r)).event?(\"error\"===r.event&&y(n,r.data.method).forEach(function(e){var t=new Error(r.data.message);t.name=r.data.name,e.reject(t),g(n,r.data.method,e)}),a=y(n,\"event:\".concat(r.event)),t=r.data):r.method&&(e=n,o=r.method,(i=!((i=y(e,o)).length<1)&&(i=i.shift(),g(e,o,i),i))&&(a.push(i),t=r.value)),a.forEach(function(e){try{if(\"function\"==typeof e)return void e.call(n,t);e.resolve(t)}catch(e){}})}var N,F,x,C=new WeakMap,j=new WeakMap,A={},Player=function(){function Player(i){var e,a=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,Player),window.jQuery&&i instanceof jQuery&&(1<i.length&&window.console&&console.warn&&console.warn(\"A jQuery object with multiple elements was passed, using the first element.\"),i=i[0]),\"undefined\"!=typeof document&&\"string\"==typeof i&&(i=document.getElementById(i)),e=i,!Boolean(e&&1===e.nodeType&&\"nodeName\"in e&&e.ownerDocument&&e.ownerDocument.defaultView))throw new TypeError(\"You must pass either a valid element or a valid id.\");if(\"IFRAME\"===i.nodeName||(r=i.querySelector(\"iframe\"))&&(i=r),\"IFRAME\"===i.nodeName&&!l(i.getAttribute(\"src\")||\"\"))throw new Error(\"The player element passed isn\u2019t a Vimeo embed.\");if(C.has(i))return C.get(i);this._window=i.ownerDocument.defaultView,this.element=i,this.origin=\"*\";var n,r=new m(function(r,o){var e;a._onMessage=function(e){if(l(e.origin)&&a.element.contentWindow===e.source){\"*\"===a.origin&&(a.origin=e.origin);var t=P(e.data);if(t&&\"error\"===t.event&&t.data&&\"ready\"===t.data.method){var n=new Error(t.data.message);return n.name=t.data.name,void o(n)}e=t&&\"ready\"===t.event,n=t&&\"ping\"===t.method;if(e||n)return a.element.setAttribute(\"data-ready\",\"true\"),void r();M(a,t)}},a._window.addEventListener(\"message\",a._onMessage),\"IFRAME\"!==a.element.nodeName&&E(u(e=b(i,t)),e,i).then(function(e){var t,n,r=k(e,i);return a.element=r,a._originalElement=i,t=i,n=r,r=v.get(t),v.set(n,r),v.delete(t),C.set(a.element,a),e}).catch(o)});return j.set(this,r),C.set(this.element,this),\"IFRAME\"===this.element.nodeName&&_(this,\"ping\"),A.isEnabled&&(n=function(){return A.exit()},this.fullscreenchangeHandler=function(){(A.isFullscreen?p:g)(a,\"event:exitFullscreen\",n),a.ready().then(function(){_(a,\"fullscreenchange\",A.isFullscreen)})},A.on(\"fullscreenchange\",this.fullscreenchangeHandler)),this}var e,t,n;return e=Player,(t=[{key:\"callMethod\",value:function(n){var r=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new m(function(e,t){return r.ready().then(function(){p(r,n,{resolve:e,reject:t}),_(r,n,o)}).catch(t)})}},{key:\"get\",value:function(n){var r=this;return new m(function(e,t){return n=i(n,\"get\"),r.ready().then(function(){p(r,n,{resolve:e,reject:t}),_(r,n)}).catch(t)})}},{key:\"set\",value:function(n,r){var o=this;return new m(function(e,t){if(n=i(n,\"set\"),null==r)throw new TypeError(\"There must be a value to set.\");return o.ready().then(function(){p(o,n,{resolve:e,reject:t}),_(o,n,r)}).catch(t)})}},{key:\"on\",value:function(e,t){if(!e)throw new TypeError(\"You must pass an event name.\");if(!t)throw new TypeError(\"You must pass a callback function.\");if(\"function\"!=typeof t)throw new TypeError(\"The callback must be a function.\");0===y(this,\"event:\".concat(e)).length&&this.callMethod(\"addEventListener\",e).catch(function(){}),p(this,\"event:\".concat(e),t)}},{key:\"off\",value:function(e,t){if(!e)throw new TypeError(\"You must pass an event name.\");if(t&&\"function\"!=typeof t)throw new TypeError(\"The callback must be a function.\");g(this,\"event:\".concat(e),t)&&this.callMethod(\"removeEventListener\",e).catch(function(e){})}},{key:\"loadVideo\",value:function(e){return this.callMethod(\"loadVideo\",e)}},{key:\"ready\",value:function(){var e=j.get(this)||new m(function(e,t){t(new Error(\"Unknown player. Probably unloaded.\"))});return m.resolve(e)}},{key:\"addCuePoint\",value:function(e){return this.callMethod(\"addCuePoint\",{time:e,data:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}})}},{key:\"removeCuePoint\",value:function(e){return this.callMethod(\"removeCuePoint\",e)}},{key:\"enableTextTrack\",value:function(e,t){if(!e)throw new TypeError(\"You must pass a language.\");return this.callMethod(\"enableTextTrack\",{language:e,kind:t})}},{key:\"disableTextTrack\",value:function(){return this.callMethod(\"disableTextTrack\")}},{key:\"pause\",value:function(){return this.callMethod(\"pause\")}},{key:\"play\",value:function(){return this.callMethod(\"play\")}},{key:\"requestFullscreen\",value:function(){return A.isEnabled?A.request(this.element):this.callMethod(\"requestFullscreen\")}},{key:\"exitFullscreen\",value:function(){return A.isEnabled?A.exit():this.callMethod(\"exitFullscreen\")}},{key:\"getFullscreen\",value:function(){return A.isEnabled?m.resolve(A.isFullscreen):this.get(\"fullscreen\")}},{key:\"requestPictureInPicture\",value:function(){return this.callMethod(\"requestPictureInPicture\")}},{key:\"exitPictureInPicture\",value:function(){return this.callMethod(\"exitPictureInPicture\")}},{key:\"getPictureInPicture\",value:function(){return this.get(\"pictureInPicture\")}},{key:\"unload\",value:function(){return this.callMethod(\"unload\")}},{key:\"destroy\",value:function(){var n=this;return new m(function(e){var t;j.delete(n),C.delete(n.element),n._originalElement&&(C.delete(n._originalElement),n._originalElement.removeAttribute(\"data-vimeo-initialized\")),n.element&&\"IFRAME\"===n.element.nodeName&&n.element.parentNode&&(n.element.parentNode.parentNode&&n._originalElement&&n._originalElement!==n.element.parentNode?n.element.parentNode.parentNode.removeChild(n.element.parentNode):n.element.parentNode.removeChild(n.element)),n.element&&\"DIV\"===n.element.nodeName&&n.element.parentNode&&(n.element.removeAttribute(\"data-vimeo-initialized\"),(t=n.element.querySelector(\"iframe\"))&&t.parentNode&&(t.parentNode.parentNode&&n._originalElement&&n._originalElement!==t.parentNode?t.parentNode.parentNode.removeChild(t.parentNode):t.parentNode.removeChild(t))),n._window.removeEventListener(\"message\",n._onMessage),A.isEnabled&&A.off(\"fullscreenchange\",n.fullscreenchangeHandler),e()})}},{key:\"getAutopause\",value:function(){return this.get(\"autopause\")}},{key:\"setAutopause\",value:function(e){return this.set(\"autopause\",e)}},{key:\"getBuffered\",value:function(){return this.get(\"buffered\")}},{key:\"getCameraProps\",value:function(){return this.get(\"cameraProps\")}},{key:\"setCameraProps\",value:function(e){return this.set(\"cameraProps\",e)}},{key:\"getChapters\",value:function(){return this.get(\"chapters\")}},{key:\"getCurrentChapter\",value:function(){return this.get(\"currentChapter\")}},{key:\"getColor\",value:function(){return this.get(\"color\")}},{key:\"setColor\",value:function(e){return this.set(\"color\",e)}},{key:\"getCuePoints\",value:function(){return this.get(\"cuePoints\")}},{key:\"getCurrentTime\",value:function(){return this.get(\"currentTime\")}},{key:\"setCurrentTime\",value:function(e){return this.set(\"currentTime\",e)}},{key:\"getDuration\",value:function(){return this.get(\"duration\")}},{key:\"getEnded\",value:function(){return this.get(\"ended\")}},{key:\"getLoop\",value:function(){return this.get(\"loop\")}},{key:\"setLoop\",value:function(e){return this.set(\"loop\",e)}},{key:\"setMuted\",value:function(e){return this.set(\"muted\",e)}},{key:\"getMuted\",value:function(){return this.get(\"muted\")}},{key:\"getPaused\",value:function(){return this.get(\"paused\")}},{key:\"getPlaybackRate\",value:function(){return this.get(\"playbackRate\")}},{key:\"setPlaybackRate\",value:function(e){return this.set(\"playbackRate\",e)}},{key:\"getPlayed\",value:function(){return this.get(\"played\")}},{key:\"getQualities\",value:function(){return this.get(\"qualities\")}},{key:\"getQuality\",value:function(){return this.get(\"quality\")}},{key:\"setQuality\",value:function(e){return this.set(\"quality\",e)}},{key:\"getSeekable\",value:function(){return this.get(\"seekable\")}},{key:\"getSeeking\",value:function(){return this.get(\"seeking\")}},{key:\"getTextTracks\",value:function(){return this.get(\"textTracks\")}},{key:\"getVideoEmbedCode\",value:function(){return this.get(\"videoEmbedCode\")}},{key:\"getVideoId\",value:function(){return this.get(\"videoId\")}},{key:\"getVideoTitle\",value:function(){return this.get(\"videoTitle\")}},{key:\"getVideoWidth\",value:function(){return this.get(\"videoWidth\")}},{key:\"getVideoHeight\",value:function(){return this.get(\"videoHeight\")}},{key:\"getVideoUrl\",value:function(){return this.get(\"videoUrl\")}},{key:\"getVolume\",value:function(){return this.get(\"volume\")}},{key:\"setVolume\",value:function(e){return this.set(\"volume\",e)}}])&&r(e.prototype,t),n&&r(e,n),Player}();return e||(N=function(){for(var e,t=[[\"requestFullscreen\",\"exitFullscreen\",\"fullscreenElement\",\"fullscreenEnabled\",\"fullscreenchange\",\"fullscreenerror\"],[\"webkitRequestFullscreen\",\"webkitExitFullscreen\",\"webkitFullscreenElement\",\"webkitFullscreenEnabled\",\"webkitfullscreenchange\",\"webkitfullscreenerror\"],[\"webkitRequestFullScreen\",\"webkitCancelFullScreen\",\"webkitCurrentFullScreenElement\",\"webkitCancelFullScreen\",\"webkitfullscreenchange\",\"webkitfullscreenerror\"],[\"mozRequestFullScreen\",\"mozCancelFullScreen\",\"mozFullScreenElement\",\"mozFullScreenEnabled\",\"mozfullscreenchange\",\"mozfullscreenerror\"],[\"msRequestFullscreen\",\"msExitFullscreen\",\"msFullscreenElement\",\"msFullscreenEnabled\",\"MSFullscreenChange\",\"MSFullscreenError\"]],n=0,r=t.length,o={};n<r;n++)if((e=t[n])&&e[1]in document){for(n=0;n<e.length;n++)o[t[0][n]]=e[n];return o}return!1}(),F={fullscreenchange:N.fullscreenchange,fullscreenerror:N.fullscreenerror},x={request:function(o){return new Promise(function(e,t){function n(){x.off(\"fullscreenchange\",n),e()}x.on(\"fullscreenchange\",n);var r=(o=o||document.documentElement)[N.requestFullscreen]();r instanceof Promise&&r.then(n).catch(t)})},exit:function(){return new Promise(function(t,e){var n,r;x.isFullscreen?(n=function e(){x.off(\"fullscreenchange\",e),t()},x.on(\"fullscreenchange\",n),(r=document[N.exitFullscreen]())instanceof Promise&&r.then(n).catch(e)):t()})},on:function(e,t){e=F[e];e&&document.addEventListener(e,t)},off:function(e,t){e=F[e];e&&document.removeEventListener(e,t)}},Object.defineProperties(x,{isFullscreen:{get:function(){return Boolean(document[N.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[N.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[N.fullscreenEnabled])}}}),A=x,T(),function(e){var r=0<arguments.length&&void 0!==e?e:document;window.VimeoPlayerResizeEmbeds_||(window.VimeoPlayerResizeEmbeds_=!0,window.addEventListener(\"message\",function(e){if(l(e.origin)&&e.data&&\"spacechange\"===e.data.event)for(var t=r.querySelectorAll(\"iframe\"),n=0;n<t.length;n++)if(t[n].contentWindow===e.source){t[n].parentElement.style.paddingBottom=\"\".concat(e.data.data[0].bottom,\"px\");break}}))}()),Player});\n","vimeo/vimeo-wrapper.min.js":"define(['vimeo'],function(Player){'use strict';window.Vimeo=window.Vimeo||{'Player':Player};});","Magento_Catalog/js/price-box.min.js":"define(['jquery','Magento_Catalog/js/price-utils','underscore','mage/template','jquery-ui-modules/widget'],function($,utils,_,mageTemplate){'use strict';var globalOptions={productId:null,priceConfig:null,prices:{},priceTemplate:'<span class=\"price\"><%- data.formatted %></span>'};$.widget('mage.priceBox',{options:globalOptions,qtyInfo:'#qty',_init:function initPriceBox(){var box=this.element;box.trigger('updatePrice');this.cache.displayPrices=utils.deepClone(this.options.prices);},_create:function createPriceBox(){var box=this.element;this.cache={};this._setDefaultsFromPriceConfig();this._setDefaultsFromDataSet();box.on('reloadPrice',this.reloadPrice.bind(this));box.on('updatePrice',this.onUpdatePrice.bind(this));$(this.qtyInfo).on('input',this.updateProductTierPrice.bind(this));box.trigger('price-box-initialized');},onUpdatePrice:function onUpdatePrice(event,prices){return this.updatePrice(prices);},updatePrice:function updatePrice(newPrices){var prices=this.cache.displayPrices,additionalPrice={},pricesCode=[],priceValue,origin,finalPrice;this.cache.additionalPriceObject=this.cache.additionalPriceObject||{};if(newPrices){$.extend(this.cache.additionalPriceObject,newPrices);}\nif(!_.isEmpty(additionalPrice)){pricesCode=_.keys(additionalPrice);}else if(!_.isEmpty(prices)){pricesCode=_.keys(prices);}\n_.each(this.cache.additionalPriceObject,function(additional){if(additional&&!_.isEmpty(additional)){pricesCode=_.keys(additional);}\n_.each(pricesCode,function(priceCode){priceValue=additional[priceCode]||{};priceValue.amount=+priceValue.amount||0;priceValue.adjustments=priceValue.adjustments||{};additionalPrice[priceCode]=additionalPrice[priceCode]||{'amount':0,'adjustments':{}};additionalPrice[priceCode].amount=0+(additionalPrice[priceCode].amount||0)+\npriceValue.amount;_.each(priceValue.adjustments,function(adValue,adCode){additionalPrice[priceCode].adjustments[adCode]=0+\n(additionalPrice[priceCode].adjustments[adCode]||0)+adValue;});});});if(_.isEmpty(additionalPrice)){this.cache.displayPrices=utils.deepClone(this.options.prices);}else{_.each(additionalPrice,function(option,priceCode){origin=this.options.prices[priceCode]||{};finalPrice=prices[priceCode]||{};option.amount=option.amount||0;origin.amount=origin.amount||0;origin.adjustments=origin.adjustments||{};finalPrice.adjustments=finalPrice.adjustments||{};finalPrice.amount=0+origin.amount+option.amount;_.each(option.adjustments,function(pa,paCode){finalPrice.adjustments[paCode]=0+(origin.adjustments[paCode]||0)+pa;});},this);}\nthis.element.trigger('priceUpdated',this.cache.displayPrices);this.element.trigger('reloadPrice');},reloadPrice:function reDrawPrices(){var priceFormat=(this.options.priceConfig&&this.options.priceConfig.priceFormat)||{},priceTemplate=mageTemplate(this.options.priceTemplate);_.each(this.cache.displayPrices,function(price,priceCode){price.final=_.reduce(price.adjustments,function(memo,amount){return memo+amount;},price.amount);price.formatted=utils.formatPriceLocale(price.final,priceFormat);$('[data-price-type=\"'+priceCode+'\"]',this.element).html(priceTemplate({data:price}));},this);},setDefault:function setDefaultPrices(prices){this.cache.displayPrices=utils.deepClone(prices);this.options.prices=utils.deepClone(prices);},_setOptions:function setOptions(options){$.extend(true,this.options,options);if('disabled'in options){this._setOption('disabled',options.disabled);}\nreturn this;},_setDefaultsFromDataSet:function _setDefaultsFromDataSet(){var box=this.element,priceHolders=$('[data-price-type]',box),prices=this.options.prices;this.options.productId=box.data('productId');if(_.isEmpty(prices)){priceHolders.each(function(index,element){var type=$(element).data('priceType'),amount=parseFloat($(element).data('priceAmount'));if(type&&!_.isNaN(amount)){prices[type]={amount:amount};}});}},_setDefaultsFromPriceConfig:function _setDefaultsFromPriceConfig(){var config=this.options.priceConfig;if(config&&config.prices){this.options.prices=config.prices;}},updateProductTierPrice:function updateProductTierPrice(){var originalPrice,prices={'prices':{}};if(this.options.prices.finalPrice){originalPrice=this.options.prices.finalPrice.amount;prices.prices.finalPrice={'amount':this.getPrice('price')-originalPrice};}\nif(this.options.prices.basePrice){originalPrice=this.options.prices.basePrice.amount;prices.prices.basePrice={'amount':this.getPrice('basePrice')-originalPrice};}\nthis.updatePrice(prices);},getPrice:function(priceKey){var productQty=$(this.qtyInfo).val(),result,tierPriceItem,i;for(i=0;i<this.options.priceConfig.tierPrices.length;i++){tierPriceItem=this.options.priceConfig.tierPrices[i];if(productQty>=tierPriceItem.qty&&tierPriceItem[priceKey]){result=tierPriceItem[priceKey];}}\nreturn result;}});return $.mage.priceBox;});","Magento_Catalog/js/price-option-date.min.js":"define(['jquery','priceUtils','priceOptions','jquery-ui-modules/widget'],function($,utils){'use strict';var globalOptions={fromSelector:'form',dropdownsSelector:'[data-role=calendar-dropdown]'},optionHandler={};optionHandler.optionHandlers={};function onCalendarDropdownChange(siblings){return function(element,optionConfig){var changes={},optionId=utils.findOptionId(element),overhead=optionConfig[optionId].prices,isNeedToUpdate=true,optionHash='price-option-calendar-'+optionId;siblings.each(function(index,el){isNeedToUpdate=isNeedToUpdate&&!!$(el).val();});overhead=isNeedToUpdate?overhead:{};changes[optionHash]=overhead;return changes;};}\nfunction getDaysInMonth(month,year){return new Date(year,month,0).getDate();}\nfunction onDateChange(dropdowns){var daysNodes,curMonth,curYear,expectedDays,options,needed,month=dropdowns.filter('[data-calendar-role=month]'),year=dropdowns.filter('[data-calendar-role=year]');if(month.length&&year.length){daysNodes=dropdowns.filter('[data-calendar-role=day]').find('option');curMonth=month.val()||'01';curYear=year.val()||'2000';expectedDays=getDaysInMonth(curMonth,curYear);if(daysNodes.length-1>expectedDays){daysNodes.each(function(i,e){if(e.value>expectedDays){$(e).remove();}});}else if(daysNodes.length-1<expectedDays){options=[];needed=expectedDays-daysNodes.length+1;while(needed--){options.push('<option value=\"'+(expectedDays-needed)+'\">'+(expectedDays-needed)+'</option>');}\n$(options.join('')).insertAfter(daysNodes.last());}}}\n$.widget('mage.priceOptionDate',{options:globalOptions,_create:function initOptionDate(){var field=this.element,form=field.closest(this.options.fromSelector),dropdowns=$(this.options.dropdownsSelector,field),dateOptionId;if(dropdowns.length){dateOptionId=this.options.dropdownsSelector+dropdowns.attr('name');optionHandler.optionHandlers[dateOptionId]=onCalendarDropdownChange(dropdowns);form.priceOptions(optionHandler);dropdowns.data('role',dateOptionId);dropdowns.on('change',onDateChange.bind(this,dropdowns));}}});return $.mage.priceOptionDate;});","Magento_Catalog/js/price-option-file.min.js":"define(['jquery','jquery-ui-modules/widget'],function($){'use strict';$.widget('mage.priceOptionFile',{options:{fileName:'',fileNamed:'',fieldNameAction:'',changeFileSelector:'',deleteFileSelector:''},_create:function(){this.fileDeleteFlag=this.fileChangeFlag=false;this.inputField=this.element.find('input[name='+this.options.fileName+']')[0];this.inputFieldAction=this.element.find('input[name='+this.options.fieldNameAction+']')[0];this.fileNameSpan=this.element.parent('dd').find('.'+this.options.fileNamed);$(this.options.changeFileSelector).on('click',$.proxy(function(){this._toggleFileChange();},this));$(this.options.deleteFileSelector).on('click',$.proxy(function(){this._toggleFileDelete();},this));},_toggleFileChange:function(){this.element.toggle();this.fileChangeFlag=!this.fileChangeFlag;if(!this.fileDeleteFlag){$(this.inputFieldAction).attr('value',this.fileChangeFlag?'save_new':'save_old');this.inputField.disabled=!this.fileChangeFlag;}},_toggleFileDelete:function(){this.fileDeleteFlag=$(this.options.deleteFileSelector+':checked').val();$(this.inputFieldAction).attr('value',this.fileDeleteFlag?'':this.fileChangeFlag?'save_new':'save_old');this.inputField.disabled=this.fileDeleteFlag||!this.fileChangeFlag;this.fileNameSpan.css('text-decoration',this.fileDeleteFlag?'line-through':'none');}});return $.mage.priceOptionFile;});","Magento_Catalog/js/price-options.min.js":"define(['jquery','underscore','mage/template','priceUtils','priceBox','jquery-ui-modules/widget'],function($,_,mageTemplate,utils){'use strict';var globalOptions={productId:null,priceHolderSelector:'.price-box',optionsSelector:'.product-custom-option',optionConfig:{},optionHandlers:{},optionTemplate:'<%= data.label %>'+'<% if (data.finalPrice.value > 0) { %>'+' +<%- data.finalPrice.formatted %>'+'<% } else if (data.finalPrice.value < 0) { %>'+' <%- data.finalPrice.formatted %>'+'<% } %>',controlContainer:'dd'};function defaultGetOptionValue(element,optionsConfig){var changes={},optionValue=element.val(),optionId=utils.findOptionId(element[0]),optionName=element.prop('name'),optionType=element.prop('type'),optionConfig=optionsConfig[optionId],optionHash=optionName;switch(optionType){case'text':case'textarea':changes[optionHash]=optionValue?optionConfig.prices:{};break;case'radio':if(element.is(':checked')){changes[optionHash]=optionConfig[optionValue]&&optionConfig[optionValue].prices||{};}\nbreak;case'select-one':changes[optionHash]=optionConfig[optionValue]&&optionConfig[optionValue].prices||{};break;case'select-multiple':_.each(optionConfig,function(row,optionValueCode){optionHash=optionName+'##'+optionValueCode;changes[optionHash]=_.contains(optionValue,optionValueCode)?row.prices:{};});break;case'checkbox':optionHash=optionName+'##'+optionValue;changes[optionHash]=element.is(':checked')?optionConfig[optionValue].prices:{};break;case'file':changes[optionHash]=optionValue||element.prop('disabled')?optionConfig.prices:{};break;}\nreturn changes;}\n$.widget('mage.priceOptions',{options:globalOptions,_init:function initPriceBundle(){$(this.options.optionsSelector,this.element).trigger('change');},_create:function createPriceOptions(){var form=this.element,options=$(this.options.optionsSelector,form),priceBox=$(this.options.priceHolderSelector,$(this.options.optionsSelector).element);if(priceBox.data('magePriceBox')&&priceBox.priceBox('option')&&priceBox.priceBox('option').priceConfig){if(priceBox.priceBox('option').priceConfig.optionTemplate){this._setOption('optionTemplate',priceBox.priceBox('option').priceConfig.optionTemplate);}\nthis._setOption('priceFormat',priceBox.priceBox('option').priceConfig.priceFormat);}\nthis._applyOptionNodeFix(options);options.on('change',this._onOptionChanged.bind(this));},_onOptionChanged:function onOptionChanged(event){var changes,option=$(event.target),handler=this.options.optionHandlers[option.data('role')];option.data('optionContainer',option.closest(this.options.controlContainer));if(handler&&handler instanceof Function){changes=handler(option,this.options.optionConfig,this);}else{changes=defaultGetOptionValue(option,this.options.optionConfig);}\n$(this.options.priceHolderSelector).trigger('updatePrice',changes);},_applyOptionNodeFix:function applyOptionNodeFix(options){var config=this.options,format=config.priceFormat,template=config.optionTemplate;template=mageTemplate(template);options.filter('select').each(function(index,element){var $element=$(element),optionId=utils.findOptionId($element),optionConfig=config.optionConfig&&config.optionConfig[optionId];$element.find('option').each(function(idx,option){var $option,optionValue,toTemplate,prices;$option=$(option);optionValue=$option.val();if(!optionValue&&optionValue!==0){return;}\ntoTemplate={data:{label:optionConfig[optionValue]&&optionConfig[optionValue].name}};prices=optionConfig[optionValue]?optionConfig[optionValue].prices:null;if(prices){_.each(prices,function(price,type){var value=+price.amount;value+=_.reduce(price.adjustments,function(sum,x){return sum+x;},0);toTemplate.data[type]={value:value,formatted:utils.formatPriceLocale(value,format)};});$option.text(template(toTemplate));}});});},_setOptions:function setOptions(options){$.extend(true,this.options,options);this._super(options);return this;}});return $.mage.priceOptions;});","Magento_Catalog/js/price-utils.min.js":"define(['jquery','underscore'],function($,_){'use strict';var globalPriceFormat={requiredPrecision:2,integerRequired:1,decimalSymbol:',',groupSymbol:',',groupLength:','};function stringPad(string,times){return new Array(times+1).join(string);}\nfunction formatPriceLocale(amount,format,isShowSign){var s='',precision,pattern,locale,r;format=_.extend(globalPriceFormat,format);precision=isNaN(format.requiredPrecision=Math.abs(format.requiredPrecision))?2:format.requiredPrecision;pattern=format.pattern||'%s';locale=window.LOCALE||'en-US';if(isShowSign===undefined||isShowSign===true){s=amount<0?'-':isShowSign?'+':'';}else if(isShowSign===false){s='';}\npattern=pattern.indexOf('{sign}')<0?s+pattern:pattern.replace('{sign}',s);amount=Number(Math.round(Math.abs(+amount||0)+'e+'+precision)+('e-'+precision));r=amount.toLocaleString(locale,{minimumFractionDigits:precision});return pattern.replace('%s',r).replace(/^\\s\\s*/,'').replace(/\\s\\s*$/,'');}\nfunction formatPrice(amount,format,isShowSign){var s='',precision,integerRequired,decimalSymbol,groupSymbol,groupLength,pattern,i,pad,j,re,r,am;format=_.extend(globalPriceFormat,format);precision=isNaN(format.requiredPrecision=Math.abs(format.requiredPrecision))?2:format.requiredPrecision;integerRequired=isNaN(format.integerRequired=Math.abs(format.integerRequired))?1:format.integerRequired;decimalSymbol=format.decimalSymbol===undefined?',':format.decimalSymbol;groupSymbol=format.groupSymbol===undefined?'.':format.groupSymbol;groupLength=format.groupLength===undefined?3:format.groupLength;pattern=format.pattern||'%s';if(isShowSign===undefined||isShowSign===true){s=amount<0?'-':isShowSign?'+':'';}else if(isShowSign===false){s='';}\npattern=pattern.indexOf('{sign}')<0?s+pattern:pattern.replace('{sign}',s);i=parseInt(amount=Number(Math.round(Math.abs(+amount||0)+'e+'+precision)+('e-'+precision)),10)+'';pad=i.length<integerRequired?integerRequired-i.length:0;i=stringPad('0',pad)+i;j=i.length>groupLength?i.length%groupLength:0;re=new RegExp('(\\\\d{'+groupLength+'})(?=\\\\d)','g');am=Number(Math.round(Math.abs(amount-i)+'e+'+precision)+('e-'+precision));r=(j?i.substr(0,j)+groupSymbol:'')+\ni.substr(j).replace(re,'$1'+groupSymbol)+\n(precision?decimalSymbol+am.toFixed(precision).replace(/-/,0).slice(2):'');return pattern.replace('%s',r).replace(/^\\s\\s*/,'').replace(/\\s\\s*$/,'');}\nfunction objectDeepClone(obj){return JSON.parse(JSON.stringify(obj));}\nfunction findOptionId(element){var re,id,name;if(!element){return id;}\nname=$(element).attr('name');if(name.indexOf('[')!==-1){re=/\\[([^\\]]+)?\\]/;}else{re=/_([^\\]]+)?_/;}\nid=re.exec(name)&&re.exec(name)[1];if(id){return id;}}\nreturn{formatPriceLocale:formatPriceLocale,formatPrice:formatPrice,deepClone:objectDeepClone,strPad:stringPad,findOptionId:findOptionId};});","Magento_Catalog/js/bundle-proxy-button.min.js":"define(['Magento_Ui/js/form/components/button','uiRegistry','underscore'],function(Button,registry,_){'use strict';return Button.extend({defaults:{currentRecordNamespace:'bundle_current_record',listingDataProvider:'',value:[],imports:{currentRecordName:'${ $.provider }:${ $.currentRecordNamespace }',listingData:'${ $.provider }:${ $.listingDataProvider }'},links:{value:'${ $.provider }:${ $.dataScope }'},listens:{listingData:'setListingData'}},initialize:function(){this._super().initSource();return this;},initObservable:function(){this._super().observe(['value','listingData']);return this;},destroy:function(){this._super();this.source.set(this.listingDataProvider,[]);return this;},action:function(){this._super();this.source.set(this.currentRecordNamespace,this.name);this.source.set(this.listingDataProvider,this.value());return this;},initSource:function(){if(!_.isFunction(this.source)){this.source=registry.get(this.provider);}\nreturn this;},setListingData:function(data){if(this.name===this.currentRecordName){this.source.set(this.dataScope,data);}\nreturn this;}});});","Magento_Catalog/js/category-checkbox-tree.min.js":"define(['jquery','prototype','extjs/ext-tree-checkbox','mage/adminhtml/form'],function(jQuery){'use strict';return function(config){var tree,options={dataUrl:config.dataUrl,divId:config.divId,rootVisible:config.rootVisible,useAjax:config.useAjax,currentNodeId:config.currentNodeId,jsFormObject:window[config.jsFormObject],name:config.name,checked:config.checked,allowDrop:config.allowDrop,rootId:config.rootId,expanded:config.expanded,categoryId:config.categoryId,treeJson:config.treeJson},data={},parameters={},root={},key='';Ext.lib.Event.getTarget=function(e){var ee=e.browserEvent||e;return ee.target?Event.element(ee):null;};Ext.tree.TreePanel.Enhanced=function(el,nodeConfig){Ext.tree.TreePanel.Enhanced.superclass.constructor.call(this,el,nodeConfig);};Ext.extend(Ext.tree.TreePanel.Enhanced,Ext.tree.TreePanel,{loadTree:function(treeConfig,firstLoad){parameters=treeConfig.parameters,data=treeConfig.data,root=new Ext.tree.TreeNode(parameters);if(typeof parameters.rootVisible!=='undefined'){this.rootVisible=parameters.rootVisible*1;}\nthis.nodeHash={};this.setRootNode(root);if(firstLoad){this.addListener('click',this.categoryClick.createDelegate(this));}\nthis.loader.buildCategoryTree(root,data);this.el.dom.innerHTML='';this.render();},categoryClick:function(node){node.getUI().check(!node.getUI().checked());}});jQuery(function(){var categoryLoader=new Ext.tree.TreeLoader({dataUrl:config.dataUrl});categoryLoader.processResponse=function(response,parent,callback){config=JSON.parse(response.responseText);this.buildCategoryTree(parent,config);if(typeof callback==='function'){callback(this,parent);}};categoryLoader.createNode=function(nodeConfig){var node;nodeConfig.uiProvider=Ext.tree.CheckboxNodeUI;if(nodeConfig.children&&!nodeConfig.children.length){delete nodeConfig.children;node=new Ext.tree.AsyncTreeNode(nodeConfig);}else{node=new Ext.tree.TreeNode(nodeConfig);}\nreturn node;};categoryLoader.processCategoryTree=function(parent,nodeConfig,i){var node,_node={};nodeConfig[i].uiProvider=Ext.tree.CheckboxNodeUI;_node=Object.clone(nodeConfig[i]);if(_node.children&&!_node.children.length){delete _node.children;node=new Ext.tree.AsyncTreeNode(_node);}else{node=new Ext.tree.TreeNode(nodeConfig[i]);}\nparent.appendChild(node);node.loader=node.getOwnerTree().loader;if(_node.children){categoryLoader.buildCategoryTree(node,_node.children);}};categoryLoader.buildCategoryTree=function(parent,nodeConfig){var i=0;if(!nodeConfig){return null;}\nif(parent&&nodeConfig&&nodeConfig.length){for(i;i<nodeConfig.length;i++){categoryLoader.processCategoryTree(parent,nodeConfig,i);}}};categoryLoader.buildHashChildren=function(hash,node){var i=0,len;if(node.childNodes.length>0||node.loaded===false&&node.loading===false){hash.children=[];for(i,len=node.childNodes.length;i<len;i++){hash.children=hash.children?hash.children:[];hash.children.push(this.buildHash(node.childNodes[i]));}}\nreturn hash;};categoryLoader.buildHash=function(node){var hash={};hash=this.toArray(node.attributes);return categoryLoader.buildHashChildren(hash,node);};categoryLoader.toArray=function(attributes){data={};for(key in attributes){if(attributes[key]){data[key]=attributes[key];}}\nreturn data;};categoryLoader.on('beforeload',function(treeLoader,node){treeLoader.baseParams.id=node.attributes.id;treeLoader.baseParams.selected=options.jsFormObject.updateElement.value;});categoryLoader.on('load',function(){varienWindowOnload();});tree=new Ext.tree.TreePanel.Enhanced(options.divId,{animate:false,loader:categoryLoader,enableDD:false,containerScroll:true,selModel:new Ext.tree.CheckNodeMultiSelectionModel(),rootVisible:options.rootVisible,useAjax:options.useAjax,currentNodeId:options.currentNodeId,addNodeTo:false,rootUIProvider:Ext.tree.CheckboxNodeUI});tree.on('check',function(node){options.jsFormObject.updateElement.value=this.getChecked().join(', ');varienElementMethods.setHasChanges(node.getUI().checkbox);},tree);parameters={text:options.name,draggable:false,checked:options.checked,uiProvider:Ext.tree.CheckboxNodeUI,allowDrop:options.allowDrop,id:options.rootId,expanded:options.expanded,category_id:options.categoryId};tree.loadTree({parameters:parameters,data:options.treeJson},true);});};});","Magento_Catalog/js/category-tree.min.js":"define(['jquery','mageUtils','jquery/ui','jquery/jstree/jquery.jstree'],function($,utils){'use strict';$.widget('mage.categoryTree',{options:{url:'',data:[],tree:{core:{themes:{dots:false}}}},_create:function(){var options=this.options,treeOptions=$.extend(true,{},options.tree,{core:{data:this._convertData(this.options.data).children}});this.element.jstree(treeOptions);this.element.on('select_node.jstree',$.proxy(this._selectNode,this));},_selectNode:function(event,data){var node=data.node;if(!node.state.disabled){window.location=window.location+'/'+node.id;}else{event.preventDefault();}},_convertDataNodes:function(nodes){var nodesData=[];nodes.children.forEach(function(node){nodesData.push(this._convertData(node));},this);return nodesData;},_convertData:function(node){var self=this,result;if(!node){return result;}\nresult={id:node.id,text:utils.unescape(node.name)+' ('+node.product_count+')',li_attr:{class:node.cls+(!!node.disabled?' disabled':'')},state:{disabled:node.disabled,opened:!!node.children_count&&node.expanded}};if(node.children){result.children=[];$.each(node.children,function(){result.children.push(self._convertData(this));});}\nreturn result;}});return $.mage.categoryTree;});","Magento_Catalog/js/custom-options-type.min.js":"define(['jquery','underscore','uiRegistry','Magento_Ui/js/form/element/ui-select'],function($,_,registry,UiSelect){'use strict';return UiSelect.extend({defaults:{previousGroup:null,groupsConfig:{},valuesMap:{},indexesMap:{},filterPlaceholder:'ns = ${ $.ns }, parentScope = ${ $.parentScope }'},initialize:function(){return this._super().initMapping().updateComponents(this.initialValue,true);},initMapping:function(){_.each(this.groupsConfig,function(groupData,group){_.each(groupData.values,function(value){this.valuesMap[value]=group;},this);_.each(groupData.indexes,function(index){if(!this.indexesMap[index]){this.indexesMap[index]=[];}\nthis.indexesMap[index].push(group);},this);},this);return this;},onUpdate:function(currentValue){this.updateComponents(currentValue);return this._super();},updateComponents:function(currentValue,isInitialization){var currentGroup=this.valuesMap[currentValue];if(currentGroup!==this.previousGroup){_.each(this.indexesMap,function(groups,index){var template=this.filterPlaceholder+', index = '+index,visible=groups.indexOf(currentGroup)!==-1,component;switch(index){case'container_type_static':case'values':template='ns='+this.ns+', dataScope='+this.parentScope+', index='+index;break;}\nif(isInitialization){registry.async(template)(function(currentComponent){currentComponent.visible(visible);});}else{component=registry.get(template);if(component){component.visible(visible);}}},this);this.previousGroup=currentGroup;}\nreturn this;}});});","Magento_Catalog/js/custom-options.min.js":"define(['jquery','mage/template','Magento_Ui/js/modal/alert','jquery/ui','useDefault','collapsable','mage/translate','mage/backend/validation','Magento_Ui/js/modal/modal'],function($,mageTemplate,alert){'use strict';$.widget('mage.customOptions',{options:{selectionItemCount:{}},_create:function(){this.baseTmpl=mageTemplate('#custom-option-base-template');this.rowTmpl=mageTemplate('#custom-option-select-type-row-template');this._initOptionBoxes();this._initSortableSelections();this._bindCheckboxHandlers();this._bindReadOnlyMode();this._addValidation();},_addValidation:function(){$.validator.addMethod('required-option-select',function(value){return value!=='';},$.mage.__('Select type of option.'));$.validator.addMethod('required-option-select-type-rows',function(value,element){var optionContainerElm=element.up('div[id*=_type_]'),selectTypesFlag=false,selectTypeElements=$('#'+optionContainerElm.id+' .select-type-title');selectTypeElements.each(function(){if(!$(this).closest('tr').hasClass('ignore-validate')){selectTypesFlag=true;}});return selectTypesFlag;},$.mage.__('Please add rows to option.'));},_initOptionBoxes:function(){var syncOptionTitle;if(!this.options.isReadonly){this.element.sortable({axis:'y',handle:'[data-role=draggable-handle]',items:'#product_options_container_top > div',update:this._updateOptionBoxPositions,tolerance:'pointer'});}\nsyncOptionTitle=function(event){var currentValue=$(event.target).val(),optionBoxTitle=$('.admin__collapsible-title > span',$(event.target).closest('.fieldset-wrapper')),newOptionTitle=$.mage.__('New Option');optionBoxTitle.text(currentValue===''?newOptionTitle:currentValue);};this._on({'click .use-default-label':function(event){$(event.target).closest('label').find('input').prop('checked',true).trigger('change');},'click button[id^=product_option_][id$=_delete]':function(event){var element=$(event.target).closest('#product_options_container_top > div.fieldset-wrapper,tr');if(element.length){$('#product_'+element.attr('id').replace('product_','')+'_is_delete').val(1);element.addClass('ignore-validate').hide();this.refreshSortableElements();}},'click #product_options_container_top [data-target$=-content]':function(){if(this.options.isReadonly){return false;}},'click #add_new_defined_option':function(event){this.addOption(event);},'click button[id^=product_option_][id$=_add_select_row]':function(event){this.addSelection(event);},'click #import_new_defined_option':function(){var importContainer=$('#import-container'),widget=this;importContainer.modal({title:$.mage.__('Select Product'),type:'slide',opened:function(){$(document).off().on('click','#productGrid_massaction-form button',function(){$('.import-custom-options-apply-button').trigger('click','massActionTrigger');});},buttons:[{text:$.mage.__('Import'),attr:{id:'import-custom-options-apply-button'},'class':'action-primary action-import import-custom-options-apply-button',click:function(event,massActionTrigger){var request=[];$(this.element).find('input[name=product]:checked').map(function(){request.push(this.value);});if(request.length===0){if(!massActionTrigger){alert({content:$.mage.__('An item needs to be selected. Select and try again.')});}\nreturn;}\n$.post(widget.options.customOptionsUrl,{'products[]':request,'form_key':widget.options.formKey},function($data){$.each(JSON.parse($data),function(el){var i;el.id=widget.getFreeOptionId(el.id);el['option_id']=el.id;if(typeof el.optionValues!=='undefined'){for(i=0;i<el.optionValues.length;i++){el.optionValues[i]['option_id']=el.id;}}\nwidget.addOption(el);$('#product_option_'+el.id+'_option_id').val(0);$('#option_'+el.id+' input[name$=\"option_type_id]\"]').val(-1);});importContainer.modal('closeModal');});}}]});importContainer.load(this.options.productGridUrl,{'form_key':this.options.formKey,'current_product_id':this.options.currentProductId},function(){importContainer.modal('openModal');});},'change select[id^=product_option_][id$=_type]':function(event,data){var widget=this,currentElement=$(event.target),parentId='#'+currentElement.closest('.fieldset-alt').attr('id'),group=currentElement.find('[value=\"'+currentElement.val()+'\"]').closest('optgroup').attr('data-optgroup-name'),previousGroup=$(parentId+'_previous_group').val(),previousBlock=$(parentId+'_type_'+previousGroup),tmpl,disabledBlock,priceType;data=data||{};if(typeof group!=='undefined'){group=group.toLowerCase();}\nif(previousGroup!==group){if(previousBlock.length){previousBlock.addClass('ignore-validate').hide();}\n$(parentId+'_previous_group').val(group);if(typeof group==='undefined'){return;}\ndisabledBlock=$(parentId).find(parentId+'_type_'+group);if(disabledBlock.length){disabledBlock.removeClass('ignore-validate').show();}else{if($.isEmptyObject(data)){data['option_id']=$(parentId+'_id').val();data.price=data.sku='';}\ndata.group=group;tmpl=widget.element.find('#custom-option-'+group+'-type-template').html();tmpl=mageTemplate(tmpl,{data:data});$(tmpl).insertAfter($(parentId));if(data['price_type']){priceType=$('#'+widget.options.fieldId+'_'+data['option_id']+'_price_type');priceType.val(data['price_type']).attr('data-store-label',data['price_type']);}\nthis._bindUseDefault(widget.options.fieldId+'_'+data['option_id'],data);if(data.optionValues){data.optionValues.each(function(value){widget.addSelection(value);});}}}},'change .field-option-title > .control > input[id$=\"_title\"]':syncOptionTitle,'keyup .field-option-title > .control > input[id$=\"_title\"]':syncOptionTitle,'paste .field-option-title > .control > input[id$=\"_title\"]':syncOptionTitle});},_initSortableSelections:function(){if(!this.options.isReadonly){this.element.find('[id^=product_option_][id$=_type_select] tbody').sortable({axis:'y',handle:'[data-role=draggable-handle]',helper:function(event,ui){ui.children().each(function(){$(this).width($(this).width());});return ui;},update:this._updateSelectionsPositions,tolerance:'pointer'});}},_bindCheckboxHandlers:function(){this._on({'change [id^=product_option_][id$=_required]':function(event){var $this=$(event.target);$this.closest('#product_options_container_top > div').find('[name$=\"[is_require]\"]').val($this.is(':checked')?1:0);}});this.element.find('[id^=product_option_][id$=_required]').each(function(){$(this).prop('checked',$(this).closest('#product_options_container_top > div').find('[name$=\"[is_require]\"]').val()>0);});},_updateOptionBoxPositions:function(){$(this).find('div[id^=option_]:not(.ignore-validate) .fieldset-alt > [name$=\"[sort_order]\"]').each(function(index){$(this).val(index);});},_updateSelectionsPositions:function(){$(this).find('tr:not(.ignore-validate) [name$=\"[sort_order]\"]').each(function(index){$(this).val(index);});},_bindReadOnlyMode:function(){if(this.options.isReadonly){$('div.product-custom-options').find('button,input,select,textarea').each(function(){$(this).prop('disabled',true);if($(this).is('button')){$(this).addClass('disabled');}});}},_bindUseDefault:function(id,data){var title=$('#'+id+'_title'),price=$('#'+id+'_price'),priceType=$('#'+id+'_price_type');if(data.checkboxScopeTitle){title.useDefault({field:'.field',useDefault:'label[for$=_title]',checkbox:'input[id$=_title_use_default]',label:'span'});}\nif(data.checkboxScopePrice){price.useDefault({field:'.field',useDefault:'label[for$=_price]',checkbox:'input[id$=_price_use_default]',label:'span'});priceType.useDefault({field:'.field',useDefault:'label[for$=_price]',checkbox:'input[id$=_price_use_default]',label:'span'});}},addSelection:function(event){var data={},element=event.target||event.srcElement||event.currentTarget,rowTmpl,priceType;if(typeof element!=='undefined'){data.id=$(element).closest('#product_options_container_top > div').find('[name^=\"product[options]\"][name$=\"[id]\"]').val();data['option_type_id']=-1;if(!this.options.selectionItemCount[data.id]){this.options.selectionItemCount[data.id]=1;}\ndata['select_id']=this.options.selectionItemCount[data.id];data.price=data.sku='';}else{data=event;data.id=data['option_id'];data['select_id']=data['option_type_id'];this.options.selectionItemCount[data.id]=data['item_count'];}\nrowTmpl=this.rowTmpl({data:data});$(rowTmpl).appendTo($('#select_option_type_row_'+data.id));if(data['price_type']){priceType=$('#'+this.options.fieldId+'_'+data.id+'_select_'+data['select_id']+'_price_type');priceType.val(data['price_type']).attr('data-store-label',data['price_type']);}\nthis._bindUseDefault(this.options.fieldId+'_'+data.id+'_select_'+data['select_id'],data);this.refreshSortableElements();this.options.selectionItemCount[data.id]=parseInt(this.options.selectionItemCount[data.id],10)+1;$('#'+this.options.fieldId+'_'+data.id+'_select_'+data['select_id']+'_title').trigger('focus');},addOption:function(event){var data={},element=event.target||event.srcElement||event.currentTarget,baseTmpl;if(typeof element!=='undefined'){data.id=this.options.itemCount;data.type='';data['option_id']=0;}else{data=event;this.options.itemCount=data['item_count'];}\nbaseTmpl=this.baseTmpl({data:data});$(baseTmpl).appendTo(this.element.find('#product_options_container_top')).find('.collapse').collapsable();if(data.type){$('#'+this.options.fieldId+'_'+data.id+'_type').val(data.type).trigger('change',data);}\nif(data['is_require']){$('#'+this.options.fieldId+'_'+data.id+'_is_require').val(data['is_require']).trigger('change');}\nthis.refreshSortableElements();this._bindCheckboxHandlers();this._bindReadOnlyMode();this.options.itemCount++;$('#'+this.options.fieldId+'_'+data.id+'_title').trigger('change');},refreshSortableElements:function(){if(!this.options.isReadonly){this.element.sortable('refresh');this._updateOptionBoxPositions.apply(this.element);this._updateSelectionsPositions.apply(this.element);this._initSortableSelections();}\nreturn this;},getFreeOptionId:function(id){return $('#'+this.options.fieldId+'_'+id).length?this.getFreeOptionId(parseInt(id,10)+1):id;}});});","Magento_Catalog/js/edit-tree.min.js":"require(['jquery','Magento_Ui/js/modal/confirm','Magento_Ui/js/modal/alert','loadingPopup','mage/backend/floating-header'],function(jQuery,confirm){'use strict';function categoryDelete(url){confirm({content:'Are you sure you want to delete this category?',actions:{confirm:function(){location.href=url;}}});}\nfunction displayLoadingMask(){jQuery('body').loadingPopup();}\nwindow.categoryDelete=categoryDelete;window.displayLoadingMask=displayLoadingMask;});","Magento_Catalog/js/new-category-dialog.min.js":"define(['jquery','jquery/ui','Magento_Ui/js/modal/modal','mage/translate','mage/backend/tree-suggest','mage/backend/validation'],function($){'use strict';var clearParentCategory=function(){$('#new_category_parent').find('option').each(function(){$('#new_category_parent-suggest').treeSuggest('removeOption',null,this);});};$.widget('mage.newCategoryDialog',{_create:function(){var widget=this,newCategoryForm;$('#new_category_parent').before($('<input>',{id:'new_category_parent-suggest',placeholder:$.mage.__('start typing to search category')}));$('#new_category_parent-suggest').treeSuggest(this.options.suggestOptions).on('suggestbeforeselect',function(event){clearParentCategory();$(event.target).treeSuggest('close');});$.validator.addMethod('validate-parent-category',function(){return $('#new_category_parent').val()||$('#new_category_parent-suggest').val()==='';},$.mage.__('Choose existing category.'));newCategoryForm=$('#new_category_form');newCategoryForm.mage('validation',{errorPlacement:function(error,element){error.insertAfter(element.is('#new_category_parent')?$('#new_category_parent-suggest').closest('.mage-suggest'):element);}}).on('highlight.validate',function(e){var options=$(this).validation('option');if($(e.target).is('#new_category_parent')){options.highlight($('#new_category_parent-suggest').get(0),options.errorClass,options.validClass||'');}});this.element.modal({type:'slide',modalClass:'mage-new-category-dialog form-inline',title:$.mage.__('Create Category'),opened:function(){var enteredName=$('#category_ids-suggest').val();$('#new_category_name').val(enteredName);if(enteredName===''){$('#new_category_name').trigger('focus');}\n$('#new_category_messages').html('');},closed:function(){var validationOptions=newCategoryForm.validation('option');$('#new_category_name, #new_category_parent-suggest').val('');validationOptions.unhighlight($('#new_category_parent-suggest').get(0),validationOptions.errorClass,validationOptions.validClass||'');newCategoryForm.validation('clearError');$('#category_ids-suggest').trigger('focus');},buttons:[{text:$.mage.__('Create Category'),class:'action-primary',click:function(e){var thisButton;if(!newCategoryForm.valid()){return;}\nthisButton=$(e.currentTarget);thisButton.prop('disabled',true);$.ajax({type:'POST',url:widget.options.saveCategoryUrl,data:{name:$('#new_category_name').val(),parent:$('#new_category_parent').val(),'is_active':1,'include_in_menu':1,'use_config':['available_sort_by','default_sort_by'],'form_key':FORM_KEY,'return_session_messages_only':1},dataType:'json',context:$('body')}).done(function(data){var $suggest;if(!data.error){$suggest=$('#category_ids-suggest');$suggest.trigger('selectItem',{id:data.category['entity_id'],label:data.category.name});$('#new_category_name, #new_category_parent-suggest').val('');$suggest.val('');clearParentCategory();$(widget.element).modal('closeModal');}else{$('#new_category_messages').html(data.messages);}}).always(function(){thisButton.prop('disabled',false);});}}]});}});return $.mage.newCategoryDialog;});","Magento_Catalog/js/options.min.js":"define(['jquery','mage/template','uiRegistry','jquery/ui','prototype','form','validation','mage/translate'],function(jQuery,mageTemplate,rg){'use strict';return function(config){var optionPanel=jQuery('#manage-options-panel'),editForm=jQuery('#edit_form'),attributeOption={table:$('attribute-options-table'),itemCount:0,totalItems:0,rendered:0,template:mageTemplate('#row-template'),newOptionClass:'new-option',isReadOnly:config.isReadOnly,add:function(data,render){var isNewOption=false,element;if(typeof data.id=='undefined'){data={'id':'option_'+this.itemCount,'sort_order':this.itemCount+1,'rowClasses':this.newOptionClass};isNewOption=true;}\nif(!data.intype){data.intype=this.getOptionInputType();}\nelement=this.template({data:data});if(isNewOption&&!this.isReadOnly){this.enableNewOptionDeleteButton(data.id);}\nthis.itemCount++;this.totalItems++;this.elements+=element;if(render){this.render();this.updateItemsCountField();}},remove:function(event){var element=$(Event.findElement(event,'tr')),elementFlags;element.ancestors().each(function(parentItem){if(parentItem.hasClassName('option-row')){element=parentItem;throw $break;}else if(parentItem.hasClassName('box')){throw $break;}});if(element){elementFlags=element.getElementsByClassName('delete-flag');if(elementFlags[0]){elementFlags[0].value=1;}\nelement.addClassName('no-display');element.addClassName('template');element.hide();this.totalItems--;this.updateItemsCountField();}\nif(element.hasClassName(this.newOptionClass)){element.remove();}},updateItemsCountField:function(){$('option-count-check').value=this.totalItems>0?'1':'';},enableNewOptionDeleteButton:function(id){$$('#delete_button_container_'+id+' button').each(function(button){button.enable();button.removeClassName('disabled');});},bindRemoveButtons:function(){jQuery('#swatch-visual-options-panel').on('click','.delete-option',this.remove.bind(this));},render:function(){Element.insert($$('[data-role=options-container]')[0],this.elements);this.elements='';},renderWithDelay:function(data,from,step,delay){var arrayLength=data.length,len;for(len=from+step;from<len&&from<arrayLength;from++){this.add(data[from]);}\nthis.render();if(from===arrayLength){this.updateItemsCountField();this.rendered=1;jQuery('body').trigger('processStop');return true;}\nsetTimeout(this.renderWithDelay.bind(this,data,from,step,delay),delay);},ignoreValidate:function(){var ignore='.ignore-validate input, '+'.ignore-validate select, '+'.ignore-validate textarea';jQuery('#edit_form').data('validator').settings.forceIgnore=ignore;},getOptionInputType:function(){var optionDefaultInputType='radio';if($('frontend_input')&&$('frontend_input').value==='multiselect'){optionDefaultInputType='checkbox';}\nreturn optionDefaultInputType;}},tableBody=jQuery(),activePanelClass='selected-type-options';if($('add_new_option_button')){Event.observe('add_new_option_button','click',attributeOption.add.bind(attributeOption,{},true));}\n$('manage-options-panel').on('click','.delete-option',function(event){attributeOption.remove(event);});optionPanel.on('render',function(){attributeOption.ignoreValidate();if(attributeOption.rendered){return false;}\njQuery('body').trigger('processStart');attributeOption.renderWithDelay(config.attributesData,0,100,300);attributeOption.bindRemoveButtons();});if(config.isSortable){jQuery(function($){$('[data-role=options-container]').sortable({distance:8,tolerance:'pointer',cancel:'input, button',axis:'y',update:function(){$('[data-role=options-container] [data-role=order]').each(function(index,element){$(element).val(index+1);});}});});}\neditForm.on('beforeSubmit',function(){var optionContainer=optionPanel.find('table tbody'),optionsValues;if(optionPanel.hasClass(activePanelClass)){optionsValues=jQuery.map(optionContainer.find('tr'),function(row){return jQuery(row).find('input, select, textarea').serialize();});jQuery('<input>').attr({type:'hidden',name:'serialized_options'}).val(JSON.stringify(optionsValues)).prependTo(editForm);}\ntableBody=optionContainer.detach();});editForm.on('afterValidate.error highlight.validate',function(){if(optionPanel.hasClass(activePanelClass)){optionPanel.find('table').append(tableBody);jQuery('input[name=\"serialized_options\"]').remove();}});window.attributeOption=attributeOption;window.optionDefaultInputType=attributeOption.getOptionInputType();rg.set('manage-options-panel',attributeOption);};});","Magento_Catalog/js/product-gallery.min.js":"define(['jquery','underscore','mage/template','uiRegistry','jquery/ui','baseImage'],function($,_,mageTemplate,registry){'use strict';function bytesToSize(bytes){var sizes=['Bytes','KB','MB','GB','TB'],i;if(bytes===0){return'0 Byte';}\ni=window.parseInt(Math.floor(Math.log(bytes)/ Math.log(1024)));return Math.round(bytes / Math.pow(1024,i),2)+' '+sizes[i];}\n$.widget('mage.productGallery',{options:{imageSelector:'[data-role=image]',imageElementSelector:'[data-role=image-element]',template:'[data-template=image]',imageResolutionLabel:'[data-role=resolution]',imgTitleSelector:'[data-role=img-title]',imageSizeLabel:'[data-role=size]',types:null,initialized:false},_create:function(){this.options.types=this.options.types||this.element.data('types');this.options.images=this.options.images||this.element.data('images');this.options.parentComponent=this.options.parentComponent||this.element.data('parent-component');this.imgTmpl=mageTemplate(this.element.find(this.options.template).html().trim());this._bind();this._isInitializingItems=true;this._initializedItemCount=0;this._lastInitializedElement=null;$.each(this.options.images,$.proxy(function(index,imageData){this.element.trigger('addItem',imageData);},this));this._updateImagesRoles();this._contentUpdated();this._isInitializingItems=false;this.options.initialized=true;},_bind:function(){this._on({updateImageTitle:'_updateImageTitle',updateVisibility:'_updateVisibility',openDialog:'_onOpenDialog',addItem:'_addItem',removeItem:'_removeItem',setImageType:'_setImageType',setPosition:'_setPosition',resort:'_resort','mouseup [data-role=delete-button]':function(event){var $imageContainer;event.preventDefault();$imageContainer=$(event.currentTarget).closest(this.options.imageSelector);this.element.find('[data-role=dialog]').trigger('close');this.element.trigger('removeItem',$imageContainer.data('imageData'));},'mouseup [data-role=make-base-button]':function(event){var $imageContainer,imageData;event.preventDefault();event.stopImmediatePropagation();$imageContainer=$(event.currentTarget).closest(this.options.imageSelector);imageData=$imageContainer.data('imageData');this.setBase(imageData);}});this.element.sortable({distance:8,items:this.options.imageSelector,tolerance:'pointer',cancel:'input, button, .uploader',update:$.proxy(function(){this.element.trigger('resort');},this)});},setBase:function(imageData){var baseImage=this.options.types.image,sameImages=$.grep($.map(this.options.types,function(el){return el;}),function(el){return el.value===baseImage.value;}),isImageOpened=this.findElement(imageData).hasClass('active');$.each(sameImages,$.proxy(function(index,image){this.element.trigger('setImageType',{type:image.code,imageData:imageData});if(isImageOpened){this.element.find('.item').addClass('selected');this.element.find('[data-role=type-selector]').prop({'checked':true});}},this));},findElement:function(data){return this.element.find(this.options.imageSelector).filter(function(){return $(this).data('imageData').file===data.file;}).first();},_contentUpdated:function(){if(this.options.initialized&&this.options.parentComponent){registry.async(this.options.parentComponent)(function(parentComponent){parentComponent.bubble('update',true);});}},_addItem:function(event,imageData){var element,imgElement,lastElement,count,position;if(this._isInitializingItems){count=this._initializedItemCount++;lastElement=this._lastInitializedElement;}else{count=this.element.find(this.options.imageSelector).length;lastElement=this.element.find(this.options.imageSelector+':last');}\nposition=count+1;if(lastElement&&lastElement.length===1){position=parseInt(lastElement.data('imageData').position||count,10)+1;}\nimageData=$.extend({'file_id':imageData['value_id']?imageData['value_id']:Math.random().toString(33).substr(2,18),'disabled':imageData.disabled?imageData.disabled:0,'position':position,sizeLabel:bytesToSize(imageData.size)},imageData);element=this.imgTmpl({data:imageData});element=$(element).data('imageData',imageData);if(count===0){element.prependTo(this.element);}else{element.insertAfter(lastElement);}\nthis._lastInitializedElement=element;if(!this.options.initialized&&this.options.images.length===0||this.options.initialized&&this.element.find(this.options.imageSelector+':not(.removed)').length===1){this.setBase(imageData);}\nimgElement=element.find(this.options.imageElementSelector);imgElement.on('load',this._updateImageDimesions.bind(this,element));$.each(this.options.types,$.proxy(function(index,image){if(imageData.file===image.value){this.element.trigger('setImageType',{type:image.code,imageData:imageData});}},this));if(!this._isInitializingItems){this._updateImagesRoles();this._contentUpdated();}},_getImages:function(){return this.element.find(this.options.imageSelector);},_getRoles:function(){return _.mapObject(this.options.types,function(data,key){var elem=this.element.find('.image-'+key);return{index:key,value:elem.val(),elem:elem};},this);},_updateImagesRoles:function(){var $images=this._getImages().toArray(),roles=this._getRoles();$images.forEach(function(img){var $img=$(img),data=$img.data('imageData');$img.find('[data-role=roles-labels] li').each(function(index,elem){var $elem=$(elem),roleCode=$elem.data('roleCode'),role=roles[roleCode];role.value===data.file?$elem.show():$elem.hide();});});},_updateImageDimesions:function(imgContainer){var $img=imgContainer.find(this.options.imageElementSelector)[0],$dimens=imgContainer.find('[data-role=image-dimens]');$dimens.text($img.naturalWidth+'x'+$img.naturalHeight+' px');},_updateImageTitle:function(event,data){var imageData=data.imageData,$imgContainer=this.findElement(imageData),$title=$imgContainer.find(this.options.imgTitleSelector),value;value=imageData['media_type']==='external-video'?imageData['video_title']:imageData.label;$title.text(value);this._contentUpdated();},_removeItem:function(event,imageData){var $imageContainer=this.findElement(imageData);imageData.isRemoved=true;$imageContainer.addClass('removed').hide().find('.is-removed').val(1);this._contentUpdated();},_setImageType:function(event,data){if(data.type==='image'){this.element.find('.base-image').removeClass('base-image');}\nif(data.imageData){this.options.types[data.type].value=data.imageData.file;if(data.type==='image'){this.findElement(data.imageData).addClass('base-image');}}else{this.options.types[data.type].value='no_selection';}\nthis.element.find('.image-'+data.type).val(this.options.types[data.type].value||'no_selection');this._updateImagesRoles();this._contentUpdated();},_resort:function(){this.element.find('.position').each($.proxy(function(index,element){var value=$(element).val();if(value!=index){this.element.trigger('moveElement',{imageData:$(element).closest(this.options.imageSelector).data('imageData'),position:index});$(element).val(index);}},this));this._contentUpdated();},_setPosition:function(event,data){var $element=this.findElement(data.imageData),curIndex=this.element.find(this.options.imageSelector).index($element),newPosition=data.position+(curIndex>data.position?-1:0);if(data.position!=curIndex){if(data.position===0){this.element.prepend($element);}else{$element.insertAfter(this.element.find(this.options.imageSelector).eq(newPosition));}\nthis.element.trigger('resort');}\nthis._contentUpdated();}});$.widget('mage.productGallery',$.mage.productGallery,{options:{dialogTemplate:'[data-role=img-dialog-tmpl]',dialogContainerTmpl:'[data-role=img-dialog-container-tmpl]'},_create:function(){var template=this.element.find(this.options.dialogTemplate),containerTmpl=this.element.find(this.options.dialogContainerTmpl);this._super();this.modalPopupInit=false;if(template.length){this.dialogTmpl=mageTemplate(template.html().trim());}\nif(containerTmpl.length){this.dialogContainerTmpl=mageTemplate(containerTmpl.html().trim());}else{this.dialogContainerTmpl=mageTemplate('');}\nthis._initDialog();},_bind:function(){var events={};this._super();events['click [data-role=close-panel]']=$.proxy(function(){this.element.find('[data-role=dialog]').trigger('close');},this);events['click '+this.options.imageSelector]=function(event){var imageData,$imageContainer;if(!$(event.currentTarget).is('.ui-sortable-helper')){$(event.currentTarget).addClass('active');imageData=$(event.currentTarget).data('imageData');$imageContainer=this.findElement(imageData);if($imageContainer.is('.removed')){return;}\nthis.element.trigger('openDialog',[imageData]);}};this._on(events);this.element.on('sortstart',$.proxy(function(){this.element.find('[data-role=dialog]').trigger('close');},this));},_initDialog:function(){var $dialog=$(this.dialogContainerTmpl());$dialog.modal({'type':'slide',title:$.mage.__('Image Detail'),buttons:[],opened:function(){$dialog.trigger('open');},closed:function(){$dialog.trigger('close');}});$dialog.on('open',this.onDialogOpen.bind(this));$dialog.on('close',function(){var $imageContainer=$dialog.data('imageContainer');$imageContainer.removeClass('active');$dialog.find('#hide-from-product-page').remove();});$dialog.on('change','[data-role=type-selector]',function(){var parent=$(this).closest('.item'),selectedClass='selected';parent.toggleClass(selectedClass,$(this).prop('checked'));});$dialog.on('change','[data-role=type-selector]',$.proxy(this._notifyType,this));$dialog.on('change','[data-role=visibility-trigger]',$.proxy(function(e){var imageData=$dialog.data('imageData');this.element.trigger('updateVisibility',{disabled:$(e.currentTarget).is(':checked'),imageData:imageData});},this));$dialog.on('change','[data-role=\"image-description\"]',function(e){var target=$(e.target),targetName=target.attr('name'),desc=target.val(),imageData=$dialog.data('imageData');this.element.find('input[type=\"hidden\"][name=\"'+targetName+'\"]').val(desc);imageData.label=desc;imageData['label_default']=desc;this.element.trigger('updateImageTitle',{imageData:imageData});}.bind(this));this.$dialog=$dialog;},_showDialog:function(imageData){var $imageContainer=this.findElement(imageData),$template;$template=this.dialogTmpl({'data':imageData});this.$dialog.html($template).data('imageData',imageData).data('imageContainer',$imageContainer).modal('openModal');},onDialogOpen:function(event){var imageData=this.$dialog.data('imageData'),imageSizeKb=imageData.sizeLabel,image=document.createElement('img'),sizeSpan=this.$dialog.find(this.options.imageSizeLabel).find('[data-message]'),resolutionSpan=this.$dialog.find(this.options.imageResolutionLabel).find('[data-message]'),sizeText=sizeSpan.attr('data-message').replace('{size}',imageSizeKb),resolutionText;image.src=imageData.url;resolutionText=resolutionSpan.attr('data-message').replace('{width}^{height}',image.width+'x'+image.height);sizeSpan.text(sizeText);resolutionSpan.text(resolutionText);$(event.target).find('[data-role=type-selector]').each($.proxy(function(index,checkbox){var $checkbox=$(checkbox),parent=$checkbox.closest('.item'),selectedClass='selected',isChecked=this.options.types[$checkbox.val()].value==imageData.file;$checkbox.prop('checked',isChecked);parent.toggleClass(selectedClass,isChecked);},this));},_onOpenDialog:function(e,imageData){if(imageData['media_type']&&imageData['media_type']!='image'){return;}\nthis._showDialog(imageData);},_updateVisibility:function(event,data){var imageData=data.imageData,disabled=+data.disabled,$imageContainer=this.findElement(imageData);!!disabled?$imageContainer.addClass('hidden-for-front'):$imageContainer.removeClass('hidden-for-front');$imageContainer.find('[name*=\"disabled\"]').val(disabled);imageData.disabled=disabled;this._contentUpdated();},_notifyType:function(event){var $checkbox=$(event.currentTarget),$imageContainer=$checkbox.closest('[data-role=dialog]').data('imageContainer');this.element.trigger('setImageType',{type:$checkbox.val(),imageData:$checkbox.is(':checked')?$imageContainer.data('imageData'):null});this._updateImagesRoles();}});return $.mage.productGallery;});","Magento_Catalog/js/product/addtocart-button.min.js":"define(['Magento_Ui/js/grid/columns/column','Magento_Catalog/js/product/uenc-processor','Magento_Catalog/js/product/list/column-status-validator'],function(Element,uencProcessor,columnStatusValidator){'use strict';return Element.extend({defaults:{label:''},getDataMageInit:function(row){return'{\"redirectUrl\": { \"url\" : \"'+uencProcessor(row['add_to_cart_button'].url)+'\"}}';},getDataPost:function(row){return uencProcessor(row['add_to_cart_button']['post_data']);},hasRequiredOptions:function(row){return row['add_to_cart_button']['required_options'];},isSalable:function(row){return row['is_salable'];},isAvailable:function(row){return row['is_available'];},isAllowed:function(){return columnStatusValidator.isValid(this.source(),'add_to_cart','show_buttons');},getLabel:function(){return this.label;}});});","Magento_Catalog/js/product/addtocompare-button.min.js":"define(['Magento_Ui/js/grid/columns/column','Magento_Catalog/js/product/uenc-processor','Magento_Catalog/js/product/list/column-status-validator'],function(Column,uencProcessor,columnStatusValidator){'use strict';return Column.extend({defaults:{label:''},getDataPost:function(row){return uencProcessor(row['add_to_compare_button'].url||row['add_to_compare_button']['post_data']);},isAllowed:function(){return columnStatusValidator.isValid(this.source(),'add_to_compare','show_buttons');},getLabel:function(){return this.label;}});});","Magento_Catalog/js/product/learn-more.min.js":"define(['Magento_Ui/js/grid/columns/column','Magento_Catalog/js/product/list/column-status-validator'],function(Column,columnStatusValidator){'use strict';return Column.extend({isAllowed:function(){return columnStatusValidator.isValid(this.source(),'learn_more','show_attributes');}});});","Magento_Catalog/js/product/name.min.js":"define(['Magento_Ui/js/grid/columns/column','Magento_Catalog/js/product/list/column-status-validator','escaper'],function(Column,columnStatusValidator,escaper){'use strict';return Column.extend({defaults:{allowedTags:['div','span','b','strong','i','em','u','a']},isAllowed:function(){return columnStatusValidator.isValid(this.source(),'name','show_attributes');},getNameUnsanitizedHtml:function(label){return escaper.escapeHtml(label,this.allowedTags);}});});","Magento_Catalog/js/product/weight-handler.min.js":"define(['jquery'],function($){'use strict';return{$weight:function(){return $('#weight');},$weightSwitcher:function(){return $('[data-role=weight-switcher]');},$weightChangeToggle:function(){return $('#toggle_weight');},isLocked:function(){return this.$weight().is('[data-locked]');},disabled:function(){this.$weight().addClass('ignore-validate').prop('disabled',true);},enabled:function(){this.$weight().removeClass('ignore-validate').prop('disabled',false);},disabledSwitcher:function(){this.$weightSwitcher().find('input[type=\"radio\"]').addClass('ignore-validate').prop('disabled',true);},enabledSwitcher:function(){this.$weightSwitcher().find('input[type=\"radio\"]').removeClass('ignore-validate').prop('disabled',false);},switchWeight:function(){if(this.hasWeightChangeToggle()){return;}\nreturn this.productHasWeightBySwitcher()?this.enabled():this.disabled();},toggleSwitcher:function(){this.isWeightChanging()?this.enabledSwitcher():this.disabledSwitcher();},hideWeightSwitcher:function(){this.$weightSwitcher().hide();},hasWeightSwitcher:function(){return this.$weightSwitcher().is(':visible');},hasWeight:function(){return this.$weight.is(':visible');},hasWeightChangeToggle:function(){return this.$weightChangeToggle().is(':visible');},productHasWeightBySwitcher:function(){return $('input:checked',this.$weightSwitcher()).val()==='1';},isWeightChanging:function(){return this.$weightChangeToggle().is(':checked');},change:function(data){var value=data!==undefined?+data:!this.productHasWeightBySwitcher();$('input[value='+value+']',this.$weightSwitcher()).prop('checked',true);this.switchWeight();},'Magento_Catalog/js/product/weight-handler':function(){this.bindAll();if(this.hasWeightSwitcher()){this.switchWeight();}\nif(this.hasWeightChangeToggle()){this.toggleSwitcher();}},bindAll:function(){this.$weightSwitcher().find('input').on('change',this.switchWeight.bind(this));}};});","Magento_Catalog/js/product/list/column-status-validator.min.js":"define(['underscore'],function(_){'use strict';return _.extend({isValid:function(source,attributeCode,type){var attributes;if(!source[type]){return false;}\nattributes=source[type].split(',');return _.contains(attributes,attributeCode);}});});","Magento_Catalog/js/product/list/listing.min.js":"define(['ko','underscore','Magento_Ui/js/grid/listing'],function(ko,_,Listing){'use strict';return Listing.extend({defaults:{additionalClasses:'',filteredRows:{},limit:5,listens:{elems:'filterRowsFromCache','${ $.provider }:data.items':'filterRowsFromServer'}},initialize:function(){this._super();this.filteredRows=ko.observable();this.initProductsLimit();this.hideLoader();},initProductsLimit:function(){if(this.source['page_size']){this.limit=this.source['page_size'];}\nreturn this;},initObservable:function(){this._super().track({rows:[]});return this;},filterRowsFromCache:function(){this._filterRows(this.rows);},filterRowsFromServer:function(rows){this._filterRows(rows);},_filterRows:function(rows){this.filteredRows(_.sortBy(rows,'added_at').reverse().slice(0,this.limit));},getUrl:function(row){return row.url;},getComponentByCode:function(code){var elems=this.elems()?this.elems():ko.getObservable(this,'elems'),component;component=_.filter(elems,function(elem){return elem.index===code;},this).pop();return component;}});});","Magento_Catalog/js/product/list/columns/final-price.min.js":"define(['underscore','uiRegistry','mageUtils','uiCollection'],function(_,registry,utils,Collection){'use strict';return Collection.extend({defaults:{label:false,headerTmpl:'ui/grid/columns/text',showMinimalPrice:false,showMaximumPrice:false,useLinkForAsLowAs:false,bodyTmpl:'Magento_Catalog/product/final_price',priceWrapperCssClasses:'',priceWrapperAttr:{}},getPrice:function(row){return row['price_info']['formatted_prices']['final_price'];},getPriceUnsanitizedHtml:function(row){return this.getPrice(row);},getRegularPrice:function(row){return row['price_info']['formatted_prices']['regular_price'];},getRegularPriceUnsanitizedHtml:function(row){return this.getRegularPrice(row);},hasPriceRange:function(row){return row['price_info']['max_regular_price']!==row['price_info']['min_regular_price'];},hasSpecialPrice:function(row){return row['price_info']['regular_price']>row['price_info']['final_price'];},isMinimalPrice:function(row){return row['price_info']['minimal_price']<row['price_info']['final_price'];},getMinimalPrice:function(row){return row['price_info']['formatted_prices']['minimal_price'];},getMinimalPriceUnsanitizedHtml:function(row){return this.getMinimalPrice(row);},isSalable:function(row){return row['is_salable'];},getMaxPrice:function(row){return row['price_info']['formatted_prices']['max_price'];},getMaxPriceUnsanitizedHtml:function(row){return this.getMaxPrice(row);},getMaxRegularPrice:function(row){return row['price_info']['formatted_prices']['max_regular_price'];},getMaxRegularPriceUnsanitizedHtml:function(row){return this.getMaxRegularPrice(row);},getMinRegularPrice:function(row){return row['price_info']['formatted_prices']['min_regular_price'];},getMinRegularPriceUnsanitizedHtml:function(row){return this.getMinRegularPrice(row);},getAdjustmentCssClasses:function(){return _.pluck(this.getAdjustments(),'index').join(' ');},getMinimalPriceAmount:function(row){return row['price_info']['minimal_price'];},getMinimalPriceAmountUnsanitizedHtml:function(row){return this.getMinimalPriceAmount(row);},getMinimalRegularPriceAmount:function(row){return row['price_info']['min_regular_price'];},getMaximumPriceAmount:function(row){return row['price_info']['max_price'];},getMaximumRegularPriceAmount:function(row){return row['price_info']['max_regular_price'];},showMinRegularPrice:function(row){return this.getMinimalPriceAmount(row)<this.getMinimalRegularPriceAmount(row);},showMaxRegularPrice:function(row){return this.getMaximumPriceAmount(row)<this.getMaximumRegularPriceAmount(row);},getBody:function(){return this.bodyTmpl;},getAdjustments:function(){var adjustments=this.elems();_.each(adjustments,function(adjustment){adjustment.setPriceType(this.priceType);adjustment.source=this.source;},this);return adjustments;}});});","Magento_Catalog/js/product/list/columns/image.min.js":"define(['underscore','Magento_Ui/js/grid/columns/column','Magento_Catalog/js/product/list/column-status-validator'],function(_,Element,columnStatusValidator){'use strict';return Element.extend({defaults:{bodyTmpl:'Magento_Catalog/product/list/columns/image',imageCode:'default',image:{}},getImage:function(images){return _.filter(images,function(image){return this.imageCode===image.code;},this).pop();},getImageUrl:function(row){return this.getImage(row.images).url;},getWidth:function(row){return this.getImage(row.images).width;},getHeight:function(row){return this.getImage(row.images).height;},getResizedImageWidth:function(row){return this.getImage(row.images)['resized_width'];},getResizedImageHeight:function(row){return this.getImage(row.images)['resized_height'];},getLabel:function(row){if(!this.imageExists(row)){return this._super();}\nreturn this.getImage(row.images).label;},imageExists:function(row){return this.getImage(row.images)!=='undefined';},isAllowed:function(){return columnStatusValidator.isValid(this.source(),'image','show_attributes');}});});","Magento_Catalog/js/product/list/columns/price-box.min.js":"define(['ko','underscore','uiRegistry','mageUtils','uiCollection','Magento_Catalog/js/product/list/column-status-validator','uiLayout'],function(ko,_,registry,utils,Collection,columnStatusValidator,layout){'use strict';return Collection.extend({defaults:{label:'',hasSpecialPrice:false,showMinimalPrice:false,useLinkForAsLowAs:false,visible:true,headerTmpl:'ui/grid/columns/text',bodyTmpl:'Magento_Catalog/product/price/price_box',disableAction:false,controlVisibility:true,sortable:false,sorting:false,draggable:true,fieldClass:{},renders:{default:{}},ignoreTmpls:{fieldAction:true},statefull:{visible:true,sorting:true},imports:{exportSorting:'sorting'},listens:{elems:''},modules:{source:'${ $.provider }'},pricesInit:{}},sort:function(){return this;},isAllowed:function(){return columnStatusValidator.isValid(this.source(),'price','show_attributes');},getPrices:function(row){var elems=this.elems()?this.elems():ko.getObservable(this,'elems'),result;this.initPrices(row);result=_.filter(elems,function(elem){return elem.productType===row.type;});return result;},_deepObjectExtend:function(target,source){var _target=utils.copy(target);_.each(source,function(value,key){if(_.keys(value).length&&typeof _target[key]!=='undefined'){_target[key]=this._deepObjectExtend(_target[key],value);}else{_target[key]=value;}},this);return _target;},_initPriceWithCustomMetaData:function(productType){var price=this._deepObjectExtend(this.renders.prices['default'],this.renders.prices[productType]);price.name=productType+'.default';price.parent=this.name;price.source=this.source;price.productType=productType;layout([price]);},_initPricesForProductType:function(_priceData,productType){var prices=[];this._setPriceNamesToPrices(_priceData,productType);_.sortBy(_priceData,this._comparePrices);_.each(_priceData,function(priceData){if(!priceData.component){return;}\npriceData.parent=this.name;priceData.provider=this.provider;priceData.productType=productType;priceData=utils.template(priceData,this);prices.push(priceData);},this);layout(prices);},initPrices:function(row){var _priceData=[],productType=row.type,defaultPrice=this.renders.prices['default'];if(this.pricesInit[productType]){return true;}\nthis.pricesInit[productType]=true;if(this.renders.prices[productType]&&this._needToApplyCustomTemplate(this.renders.prices[productType])){return this._initPriceWithCustomMetaData(productType);}\nif(this.renders.prices[productType]&&this.renders.prices[productType].children){_priceData=this._deepObjectExtend(defaultPrice.children,this.renders.prices[productType].children);}else{_priceData=defaultPrice.children;}\nreturn this._initPricesForProductType(_priceData,productType);},_setPriceNamesToPrices:function(prices,productType){_.each(prices,function(price,name){price.priceType=name;price.name=name+'.'+productType;});return prices;},_comparePrices:function(firstPrice,secondPrice){if(firstPrice.sortOrder<secondPrice.sortOrder){return-1;}\nif(firstPrice.sortOrder>secondPrice.sortOrder){return 1;}\nreturn 0;},_needToApplyCustomTemplate:function(productData){return productData.bodyTmpl||productData.component;},getBody:function(){return this.bodyTmpl;},getLabel:function(){return this.label;}});});","Magento_Catalog/js/product/list/columns/pricetype-box.min.js":"define(['ko','underscore','uiCollection'],function(ko,_,Collection){'use strict';return Collection.extend({getPriceByCode:function(code){var elems=this.elems()?this.elems():ko.getObservable(this,'elems'),price;price=_.filter(elems,function(elem){return elem.index.split('.').shift()===code;},this).pop();price.source=this.source();price.priceType=code;return price;},getBody:function(){return this.bodyTmpl;},hasPriceRange:function(row){return row['price_info']['max_regular_price']!==row['price_info']['min_regular_price'];}});});","Magento_Catalog/js/components/attribute-set-select.min.js":"define(['Magento_Ui/js/form/element/ui-select'],function(Select){'use strict';return Select.extend({defaults:{listens:{'value':'changeFormSubmitUrl'},modules:{formProvider:'${ $.provider }'}},changeFormSubmitUrl:function(value){var pattern=/(set\\/)(\\d)*?\\//,change='$1'+value+'/';this.formProvider().client.urls.save=this.formProvider().client.urls.save.replace(pattern,change);this.formProvider().client.urls.beforeSave=this.formProvider().client.urls.beforeSave.replace(pattern,change);}});});","Magento_Catalog/js/components/attributes-fieldset.min.js":"define(['Magento_Ui/js/form/components/fieldset','Magento_Ui/js/core/app'],function(Fieldset,app){'use strict';return Fieldset.extend({defaults:{listens:{'${ $.provider }:additionalAttributes':'onAttributeAdd'}},onAttributeAdd:function(listOfNewAttributes){app(listOfNewAttributes,true);}});});","Magento_Catalog/js/components/attributes-grid-paging.min.js":"define(['Magento_Ui/js/grid/paging/paging','underscore'],function(Paging,_){'use strict';return Paging.extend({defaults:{totalTmpl:'Magento_Catalog/attributes/grid/paging',modules:{selectionColumn:'${ $.selectProvider }'},listens:{'${ $.selectProvider }:selected':'changeLabel'},label:'',selectedAttrs:[]},changeLabel:function(selected){this.selectedAttrs=[];_.each(this.selectionColumn().rows(),function(row){if(selected.indexOf(row['attribute_id'])!==-1){this.selectedAttrs.push(row['attribute_code']);}},this);this.label(this.selectedAttrs.join(', '));},initObservable:function(){this._super().observe('label');return this;}});});","Magento_Catalog/js/components/attributes-insert-listing.min.js":"define(['Magento_Ui/js/lib/view/utils/async','uiRegistry','underscore','Magento_Ui/js/form/components/insert-listing'],function($,registry,_,InsertListing){'use strict';return InsertListing.extend({defaults:{addAttributeUrl:'',attributeSetId:'',attributeIds:'',groupCode:'',groupName:'',groupSortOrder:0,productId:0,formProvider:'',modules:{form:'${ $.formProvider }',modal:'${ $.parentName }'},productType:''},render:function(){this._super();},save:function(){this.addSelectedAttributes();this._super();},addSelectedAttributes:function(){$.ajax({url:this.addAttributeUrl,type:'POST',dataType:'json',data:{attributeIds:this.selections().getSelections(),templateId:this.attributeSetId,groupCode:this.groupCode,groupName:this.groupName,groupSortOrder:this.groupSortOrder,productId:this.productId,componentJson:1},success:function(){this.form().params={set:this.attributeSetId,id:this.productId,type:this.productType};this.form().reload();this.modal().state(false);this.reload();}.bind(this)});}});});","Magento_Catalog/js/components/checkbox.min.js":"define(['Magento_Ui/js/form/element/abstract','knockout'],function(Abstract,ko){'use strict';return Abstract.extend({initObservable:function(){this._super().observe('checked');this.value=ko.pureComputed({read:function(){return this.checked()?this.mappedValue:'';},write:function(val){if(val){this.checked(true);}},owner:this});return this;}});});","Magento_Catalog/js/components/custom-options-component.min.js":"define(['underscore','Magento_Ui/js/form/element/abstract'],function(_,Abstract){'use strict';return Abstract.extend({setInitialValue:function(){this._super();this.addBefore(this.addbefore);return this;},initObservable:function(){this._super();this.observe('addBefore');return this;}});});","Magento_Catalog/js/components/custom-options-price-type.min.js":"define(['underscore','Magento_Ui/js/form/element/select','uiRegistry'],function(_,Select,uiRegistry){'use strict';return Select.extend({onUpdate:function(){this._super();this.updateAddBeforeForPrice();},setInitialValue:function(){this._super();this.updateAddBeforeForPrice();return this;},updateAddBeforeForPrice:function(){var addBefore,currentValue,priceIndex,priceName,uiPrice;priceIndex=typeof this.imports.priceIndex=='undefined'?'price':this.imports.priceIndex;priceName=this.parentName+'.'+priceIndex;uiPrice=uiRegistry.get(priceName);if(uiPrice&&uiPrice.addbeforePool){currentValue=this.value();uiPrice.addbeforePool.forEach(function(item){if(item.value===currentValue){addBefore=item.label;}});if(typeof addBefore!='undefined'){uiPrice.addBefore(addBefore);}}}});});","Magento_Catalog/js/components/disable-hide-select.min.js":"define(['Magento_Ui/js/form/element/select','Magento_Catalog/js/components/visible-on-option/strategy','Magento_Catalog/js/components/disable-on-option/strategy'],function(Element,visibleStrategy,disableStrategy){'use strict';return Element.extend(visibleStrategy).extend(disableStrategy);});","Magento_Catalog/js/components/dynamic-rows-import-custom-options-per-page.min.js":"define(['Magento_Catalog/js/components/dynamic-rows-import-custom-options','underscore','mageUtils','uiLayout','rjsResolver'],function(DrCustomOptions,_,utils,layout,resolver){'use strict';return DrCustomOptions.extend({defaults:{sizesConfig:{component:'Magento_Ui/js/grid/paging/sizes',name:'${ $.name }_sizes',options:{'20':{value:20,label:20},'30':{value:30,label:30},'50':{value:50,label:50},'100':{value:100,label:100},'200':{value:200,label:200}},storageConfig:{provider:'${ $.storageConfig.provider }',namespace:'${ $.storageConfig.namespace }'},enabled:false},links:{options:'${ $.sizesConfig.name }:options',pageSize:'${ $.sizesConfig.name }:value'},listens:{'pageSize':'onPageSizeChange'},modules:{sizes:'${ $.sizesConfig.name }'}},initialize:function(){this._super().initSizes();return this;},initSizes:function(){if(this.sizesConfig.enabled){layout([this.sizesConfig]);}\nreturn this;},initObservable:function(){this._super().track(['pageSize']);return this;},onPageSizeChange:function(){resolver(function(){if(this.elems().length){this.reload();}},this);}});});","Magento_Catalog/js/components/dynamic-rows-import-custom-options.min.js":"define(['Magento_Ui/js/dynamic-rows/dynamic-rows-grid','underscore','mageUtils'],function(DynamicRows,_,utils){'use strict';return DynamicRows.extend({defaults:{mappingSettings:{enabled:false,distinct:false},update:true,map:{'option_id':'option_id'},identificationProperty:'option_id',identificationDRProperty:'option_id'},processingInsertData:function(data){var options=[],currentOption,generalContext=this;if(!data){return;}\n_.each(data,function(item){if(!item.options){return;}\n_.each(item.options,function(option){currentOption=utils.copy(option);if(currentOption.hasOwnProperty('option_id')){delete currentOption['option_id'];}\nif(currentOption.values.length>0){generalContext.removeOptionsIds(currentOption.values);}\noptions.push(currentOption);});});if(!options.length){return;}\nthis.cacheGridData=options;_.each(options,function(opt){this.mappingValue(opt);},this);this.insertData([]);},removeOptionsIds:function(options){_.each(options,function(optionValue){delete optionValue['option_id'];delete optionValue['option_type_id'];});},processingAddChild:function(ctx,index,prop){if(!ctx){this.showSpinner(true);this.addChild(ctx,index,prop);return;}\nthis._super(ctx,index,prop);},clearDataProvider:function(){this.source.set(this.dataProvider,[]);},updateInsertData:function(){return false;}});});","Magento_Catalog/js/components/dynamic-rows-per-page.min.js":"define(['Magento_Ui/js/dynamic-rows/dynamic-rows','underscore','mageUtils','uiLayout','rjsResolver'],function(DynamicRows,_,utils,layout,resolver){'use strict';return DynamicRows.extend({defaults:{sizesConfig:{component:'Magento_Ui/js/grid/paging/sizes',name:'${ $.name }_sizes',options:{'20':{value:20,label:20},'30':{value:30,label:30},'50':{value:50,label:50},'100':{value:100,label:100},'200':{value:200,label:200}},storageConfig:{provider:'${ $.storageConfig.provider }',namespace:'${ $.storageConfig.namespace }'},enabled:false},links:{options:'${ $.sizesConfig.name }:options',pageSize:'${ $.sizesConfig.name }:value'},listens:{'pageSize':'onPageSizeChange'},modules:{sizes:'${ $.sizesConfig.name }'}},initialize:function(){this._super().initSizes();return this;},initSizes:function(){if(this.sizesConfig.enabled){layout([this.sizesConfig]);}\nreturn this;},initObservable:function(){this._super().track(['pageSize']);return this;},onPageSizeChange:function(){resolver(function(){if(this.elems().length){this.reload();}},this);}});});","Magento_Catalog/js/components/dynamic-rows-tier-price.min.js":"define(['underscore','Magento_Ui/js/dynamic-rows/dynamic-rows'],function(_,DynamicRows){'use strict';return DynamicRows.extend({initHeader:function(){var labels;this._super();labels=_.clone(this.labels());labels=_.sortBy(labels,function(label){return label.sortOrder;});this.labels(labels);}});});","Magento_Catalog/js/components/import-handler.min.js":"define(['Magento_Ui/js/form/element/abstract','underscore','uiRegistry'],function(Abstract,_,registry){'use strict';return Abstract.extend({defaults:{allowImport:true,autoImportIfEmpty:false,values:{},mask:'',queryTemplate:'ns = ${ $.ns }, index = '},initialize:function(){this._super();if(this.allowImport){this.setHandlers();}},setHandlers:function(){var str=this.mask||'',placeholders;placeholders=str.match(/{{(.*?)}}/g);_.each(placeholders,function(placeholder){placeholder=placeholder.replace(/[{{}}]/g,'');registry.get(this.queryTemplate+placeholder,function(component){this.values[placeholder]=component.getPreview();component.on('value',this.updateValue.bind(this,placeholder,component));component.valueUpdate='keyup';}.bind(this));},this);},updateValue:function(placeholder,component){var string=this.mask||'',nonEmptyValueFlag=false;if(placeholder){this.values[placeholder]=component.getPreview()||'';}\nif(!this.allowImport){return;}\n_.each(this.values,function(propertyValue,propertyName){string=string.replace('{{'+propertyName+'}}',propertyValue);nonEmptyValueFlag=nonEmptyValueFlag||!!propertyValue;});if(nonEmptyValueFlag){string=string.replace(/(<([^>]+)>)/ig,'');this.value(string);}else{this.value('');}},setInitialValue:function(){this._super();if(this.initialValue!==''){this.allowImport=false;}\nreturn this;},userChanges:function(){var actualValue=arguments[1].currentTarget.value;this._super();if(actualValue===''){this.allowImport=true;if(this.autoImportIfEmpty){this.updateValue(null,null);}}else{this.allowImport=false;}}});});","Magento_Catalog/js/components/messages.min.js":"define(['Magento_Ui/js/form/components/html'],function(Html){'use strict';return Html.extend({defaults:{form:'${ $.namespace }.${ $.namespace }',visible:false,imports:{responseData:'${ $.form }:responseData',visible:'responseData.error',content:'responseData.messages'},listens:{'${ $.provider }:data.reset':'hide'}},show:function(){this.visible(true);},hide:function(){this.visible(false);}});});","Magento_Catalog/js/components/new-attribute-form.min.js":"define(['jquery','Magento_Ui/js/form/form','Magento_Ui/js/modal/prompt','Magento_Ui/js/modal/alert'],function($,Form,prompt,alert){'use strict';return Form.extend({defaults:{newSetPromptMessage:'',listens:{responseData:'processResponseData'},modules:{productForm:'product_form.product_form'}},processResponseData:function(data){if(data.params['new_attribute_set_id']){this.productForm().params={set:data.params['new_attribute_set_id']};}},saveAttributeInNewSet:function(){var self=this;this.validate();if(!this.additionalInvalid&&!this.source.get('params.invalid')){prompt({content:this.newSetPromptMessage,actions:{confirm:function(val){var rules=['required-entry','validate-no-html-tags'],editForm=self,newAttributeSetName=val,i,params={};if(!newAttributeSetName){return;}\nfor(i=0;i<rules.length;i++){if(!$.validator.methods[rules[i]](newAttributeSetName)){alert({content:$.validator.messages[rules[i]]});return;}}\nparams['new_attribute_set_name']=newAttributeSetName;editForm.setAdditionalData(params);editForm.save();}}});}else{this.focusInvalid();}}});});","Magento_Catalog/js/components/new-attribute-insert-form.min.js":"define(['Magento_Ui/js/form/components/insert-form'],function(InsertForm){'use strict';return InsertForm.extend({defaults:{modules:{productForm:'product_form.product_form'},listens:{responseStatus:'processResponseStatus'},attributeSetId:0,productId:0},processResponseStatus:function(){if(this.responseStatus()){if(this.productForm().params===undefined){this.productForm().params={set:this.attributeSetId};}\nif(this.productId){this.productForm().params.id=this.productId;}\nthis.productForm().params.type=this.productType;this.productForm().reload();this.resetForm();}}});});","Magento_Catalog/js/components/new-category.min.js":"define(['Magento_Ui/js/form/element/ui-select'],function(Select){'use strict';return Select.extend({setParsed:function(data){var option=this.parseData(data);if(data.error){return this;}\nthis.options([]);this.setOption(option);this.set('newOption',option);},parseData:function(data){return{'is_active':data.category['is_active'],level:data.category.level,value:data.category['entity_id'],label:data.category.name,parent:data.category.parent};}});});","Magento_Catalog/js/components/product-ui-select.min.js":"define(['Magento_Ui/js/form/element/ui-select','jquery','underscore'],function(Select,$,_){'use strict';return Select.extend({defaults:{validationUrl:false,loadedOption:[],validationLoading:true},initialize:function(){this._super();this.validateInitialValue();return this;},validateInitialValue:function(){if(!_.isEmpty(this.value())){$.ajax({url:this.validationUrl,type:'GET',dataType:'json',context:this,data:{productId:this.value()},success:function(response){if(!_.isEmpty(response)){this.options([response]);this.loadedOption=response;}},error:function(){this.options([]);},complete:function(){this.validationLoading(false);this.setCaption();}});}else{this.validationLoading(false);}},getSelected:function(){var options=this._super();if(!_.isEmpty(this.loadedOption)){return this.value()===this.loadedOption.value?[this.loadedOption]:options;}\nreturn options;}});});","Magento_Catalog/js/components/reset-dynamic-rows-grid-row-position-on-delete.min.js":"define(['underscore','uiRegistry','rjsResolver','Magento_Ui/js/dynamic-rows/dynamic-rows-grid'],function(_,registry,resolver,dynamicRowsGrid){'use strict';return dynamicRowsGrid.extend({deleteRecord:function(){this._super();this.resetPosition();},resetPosition(){let self=this,position=0;_.filter(this.elems(),function(elem,index){if(index===0){position=(self.currentPage()-1)*self.pageSize+1;}\n_.filter(elem.elems(),function(childElem){if(childElem.index==='position'){childElem.value(position);}});position++;});},nextPage:function(){this._super();resolver(function(){if(this.elems().length){this.resetPosition();}},this);}});});","Magento_Catalog/js/components/url-key-handle-changes.min.js":"define(['Magento_Ui/js/form/element/single-checkbox'],function(Checkbox){'use strict';return Checkbox.extend({defaults:{imports:{handleUseDefault:'${ $.parentName }.use_default.url_key:checked',urlKey:'${ $.provider }:data.url_key'},listens:{urlKey:'handleChanges'},modules:{useDefault:'${ $.parentName }.use_default.url_key'}},handleChanges:function(newValue){this.disabled(newValue===this.valueMap['true']||this.useDefault.checked);},handleUseDefault:function(checkedUseDefault){this.disabled(this.urlKey===this.valueMap['true']||checkedUseDefault);}});});","Magento_Catalog/js/components/website-currency-symbol.min.js":"define(['Magento_Ui/js/form/element/select'],function(Select){'use strict';return Select.extend({defaults:{currenciesForWebsites:{},tracks:{currency:true}},setDifferedFromDefault:function(value){this.currency=this.currenciesForWebsites[value];return this._super();}});});","Magento_Catalog/js/components/disable-on-option/input.min.js":"define(['Magento_Ui/js/form/element/abstract','Magento_Catalog/js/components/disable-on-option/strategy'],function(Element,strategy){'use strict';return Element.extend(strategy);});","Magento_Catalog/js/components/disable-on-option/select.min.js":"define(['Magento_Ui/js/form/element/select','Magento_Catalog/js/components/disable-on-option/strategy'],function(Element,strategy){'use strict';return Element.extend(strategy);});","Magento_Catalog/js/components/disable-on-option/strategy.min.js":"define(function(){'use strict';return{defaults:{valuesForEnable:[],disabled:true,imports:{toggleDisable:'product_attribute_add_form.product_attribute_add_form.base_fieldset.frontend_input:value'}},toggleDisable:function(selected){this.disabled(!(selected in this.valuesForEnable));}};});","Magento_Catalog/js/components/disable-on-option/yesno.min.js":"define(['Magento_Ui/js/form/element/single-checkbox','Magento_Catalog/js/components/disable-on-option/strategy'],function(Element,strategy){'use strict';var comp=Element.extend(strategy).extend({defaults:{listens:{disabled:'updateValueForDisabledField',visible:'updateValueForDisabledField'}},initialize:function(){this._super();this.updateValueForDisabledField();return this;},updateValueForDisabledField:function(){if(!this.disabled()&&this.visible()){this.set('value',this.initialValue);}else{this.set('value',0);}}});return comp.extend(strategy);});","Magento_Catalog/js/components/use-parent-settings/select.min.js":"define(['Magento_Ui/js/form/element/select'],function(Component){'use strict';return Component;});","Magento_Catalog/js/components/use-parent-settings/single-checkbox.min.js":"define(['Magento_Ui/js/form/element/single-checkbox'],function(Component){'use strict';return Component;});","Magento_Catalog/js/components/use-parent-settings/textarea.min.js":"define(['Magento_Ui/js/form/element/textarea'],function(Component){'use strict';return Component;});","Magento_Catalog/js/components/use-parent-settings/toggle-disabled-mixin.min.js":"define(['underscore'],function(_){'use strict';var mixin={defaults:{imports:{toggleDisabled:'${ $.parentName }.custom_use_parent_settings:checked'},useParent:false,useDefaults:false},toggleDisabled:function(isUseParent){var disabled=this.useParent=isUseParent;if(!disabled&&!_.isUndefined(this.service)){disabled=!!this.isUseDefault();}\nthis.saveUseDefaults();this.disabled(disabled);},saveUseDefaults:function(){this.useDefaults=this.disabled();},setInitialValue:function(){this._super();this.isUseDefault(this.useDefaults);return this;},toggleUseDefault:function(state){this._super();this.disabled(state||this.useParent);}};return function(target){return target.extend(mixin);};});","Magento_Catalog/js/components/visible-on-option/date.min.js":"define(['Magento_Ui/js/form/element/date','Magento_Catalog/js/components/visible-on-option/strategy'],function(Element,strategy){'use strict';return Element.extend(strategy);});","Magento_Catalog/js/components/visible-on-option/fieldset.min.js":"define(['Magento_Ui/js/form/components/fieldset','Magento_Catalog/js/components/visible-on-option/strategy'],function(Fieldset,strategy){'use strict';return Fieldset.extend(strategy).extend({defaults:{openOnShow:true},toggleVisibility:function(){this._super();if(this.openOnShow){this.opened(this.inverseVisibility?!this.isShown:this.isShown);}}});});","Magento_Catalog/js/components/visible-on-option/input.min.js":"define(['Magento_Ui/js/form/element/abstract','Magento_Catalog/js/components/visible-on-option/strategy'],function(Element,strategy){'use strict';return Element.extend(strategy);});","Magento_Catalog/js/components/visible-on-option/select.min.js":"define(['Magento_Ui/js/form/element/select','Magento_Catalog/js/components/visible-on-option/strategy'],function(Element,strategy){'use strict';return Element.extend(strategy);});","Magento_Catalog/js/components/visible-on-option/strategy.min.js":"define(function(){'use strict';return{defaults:{valuesForOptions:[],imports:{toggleVisibility:'product_attribute_add_form.product_attribute_add_form.base_fieldset.frontend_input:value'},isShown:false,inverseVisibility:false},toggleVisibility:function(selected){this.isShown=selected in this.valuesForOptions;this.visible(this.inverseVisibility?!this.isShown:this.isShown);}};});","Magento_Catalog/js/components/visible-on-option/textarea.min.js":"define(['Magento_Ui/js/form/element/textarea','Magento_Catalog/js/components/visible-on-option/strategy'],function(Element,strategy){'use strict';return Element.extend(strategy);});","Magento_Catalog/js/components/visible-on-option/yesno.min.js":"define(['Magento_Ui/js/form/element/single-checkbox','Magento_Catalog/js/components/visible-on-option/strategy'],function(Element,strategy){'use strict';return Element.extend(strategy);});","Magento_Catalog/js/form/element/action-delete.min.js":"define(['underscore','Magento_Ui/js/form/element/abstract'],function(_,Abstract){'use strict';return Abstract.extend({defaults:{prefixName:'',prefixElementName:'',elementName:'',suffixName:''},initConfig:function(config){this._super(config);this.configureDataScope();return this;},configureDataScope:function(){var recordId,prefixName,suffixName;recordId=this.parentName.split('.').last();prefixName=this.dataScopeToHtmlArray(this.prefixName);this.elementName=this.prefixElementName+recordId;suffixName='';if(!_.isEmpty(this.suffixName)||_.isNumber(this.suffixName)){suffixName='['+this.suffixName+']';}\nthis.inputName=prefixName+'['+this.elementName+']'+suffixName;suffixName='';if(!_.isEmpty(this.suffixName)||_.isNumber(this.suffixName)){suffixName='.'+this.suffixName;}\nthis.dataScope='data.'+this.prefixName+'.'+this.elementName+suffixName;this.links.value=this.provider+':'+this.dataScope;},dataScopeToHtmlArray:function(dataScopeString){var dataScopeArray,dataScope,reduceFunction;reduceFunction=function(prev,curr){return prev+'['+curr+']';};dataScopeArray=dataScopeString.split('.');dataScope=dataScopeArray.shift();dataScope+=dataScopeArray.reduce(reduceFunction,'');return dataScope;},deleteRecord:function(parents){this.value(1);parents[1].deleteRecord(parents[0].index,parents[0].recordId);return this;}});});","Magento_Catalog/js/form/element/checkbox.min.js":"define(['Magento_Ui/js/form/element/single-checkbox'],function(Checkbox){'use strict';return Checkbox.extend({defaults:{inputCheckBoxName:'',prefixElementName:'',parentDynamicRowName:'visual_swatch'},initConfig:function(){this._super();this.configureDataScope();return this;},initialize:function(){this._super();if(this.rows&&this.rows().elems().length===0){this.checked(true);}\nreturn this;},configureDataScope:function(){var recordId,value;recordId=this.parentName.split('.').last();value=this.prefixElementName+recordId;this.dataScope='data.'+this.inputCheckBoxName;this.inputName=this.dataScopeToHtmlArray(this.inputCheckBoxName);this.initialValue=value;this.links.value=this.provider+':'+this.dataScope;},dataScopeToHtmlArray:function(dataScopeString){var dataScopeArray,dataScope,reduceFunction;reduceFunction=function(prev,curr){return prev+'['+curr+']';};dataScopeArray=dataScopeString.split('.');dataScope=dataScopeArray.shift();dataScope+=dataScopeArray.reduce(reduceFunction,'');return dataScope;}});});","Magento_Catalog/js/form/element/input.min.js":"define(['underscore','Magento_Ui/js/form/element/abstract'],function(_,Abstract){'use strict';return Abstract.extend({defaults:{prefixName:'',prefixElementName:'',elementName:'',suffixName:''},initConfig:function(){this._super();this.configureDataScope();return this;},configureDataScope:function(){var recordId,prefixName,suffixName;recordId=this.parentName.split('.').last();prefixName=this.dataScopeToHtmlArray(this.prefixName);this.elementName=this.prefixElementName+recordId;suffixName='';if(!_.isEmpty(this.suffixName)||_.isNumber(this.suffixName)){suffixName='['+this.suffixName+']';}\nthis.inputName=prefixName+'['+this.elementName+']'+suffixName;suffixName='';if(!_.isEmpty(this.suffixName)||_.isNumber(this.suffixName)){suffixName='.'+this.suffixName;}\nthis.exportDataLink='data.'+this.prefixName+'.'+this.elementName+suffixName;this.exports.value=this.provider+':'+this.exportDataLink;},destroy:function(){this._super();this.source.remove(this.exportDataLink);},dataScopeToHtmlArray:function(dataScopeString){var dataScopeArray,dataScope,reduceFunction;reduceFunction=function(prev,curr){return prev+'['+curr+']';};dataScopeArray=dataScopeString.split('.');dataScope=dataScopeArray.shift();dataScope+=dataScopeArray.reduce(reduceFunction,'');return dataScope;}});});","Magento_Catalog/js/tier-price/percentage-processor.min.js":"define(['uiElement','underscore','Magento_Ui/js/lib/view/utils/async','Magento_Catalog/js/utils/percentage-price-calculator'],function(Element,_,$,percentagePriceCalculator){'use strict';return Element.extend({defaults:{priceElem:'${ $.parentName }.price',selector:'input',imports:{priceValue:'${ $.priceElem }:priceValue'},exports:{calculatedVal:'${ $.priceElem }:value'}},initialize:function(){this._super();_.bindAll(this,'initPriceListener','onInput');$.async({component:this.priceElem,selector:this.selector},this.initPriceListener);return this;},initObservable:function(){return this._super().observe(['visible']);},initPriceListener:function(elem){$(elem).on('keyup.priceCalc',this.onInput);},onInput:function(event){var value=event.currentTarget.value;if(value.slice(-1)==='%'){value=percentagePriceCalculator(this.priceValue,value);this.set('calculatedVal',value);}}});});","Magento_Catalog/js/tier-price/value-type-select.min.js":"define(['Magento_Ui/js/form/element/select','uiRegistry','underscore'],function(Select,uiRegistry,_){'use strict';return Select.extend({defaults:{prices:{}},initialize:function(){this._super();delete this.prices.__disableTmpl;this.prepareForm();},setInitialValue:function(){this.initialValue=this.getInitialValue();if(this.value.peek()!==this.initialValue){this.value(this.initialValue);}\nthis.isUseDefault(this.disabled());return this;},prepareForm:function(){var elements=this.getElementsByPrices(),prices=this.prices,currencyType=_.keys(prices)[0],select=this;uiRegistry.get(elements,function(){_.each(arguments,function(currentValue){if(parseFloat(currentValue.value())>0){_.each(prices,function(priceValue,priceKey){if(priceValue===currentValue.name){currencyType=priceKey;}});}});select.value(currencyType);select.on('value',select.onUpdate.bind(select));select.onUpdate();});},getElementsByPrices:function(){var elements=[];_.each(this.prices,function(currentValue){elements.push(currentValue);});return elements;},onUpdate:function(){var value=this.value(),prices=this.prices,select=this,parentDataScopeArr=this.dataScope.split('.'),parentDataScope,elements=this.getElementsByPrices();parentDataScopeArr.pop();parentDataScope=parentDataScopeArr.join('.');uiRegistry.get(elements,function(){var sourceData=select.source.get(parentDataScope);_.each(arguments,function(currentElement){var index;_.each(prices,function(priceValue,priceKey){if(priceValue===currentElement.name){index=priceKey;}});if(value===index){currentElement.visible(true);sourceData[currentElement.index]=currentElement.value();}else{currentElement.value('');currentElement.visible(false);delete sourceData[currentElement.index];}});select.source.set(parentDataScope,sourceData);});}});});","Magento_Catalog/js/utils/percentage-price-calculator.min.js":"define(['Magento_Ui/js/lib/validation/utils'],function(utils){'use strict';return function(price,input){var result,lastInputSymbol=input.slice(-1),inputPercent=input.slice(0,-1),parsedPercent=utils.parseNumber(inputPercent),parsedPrice=utils.parseNumber(price);if(lastInputSymbol!=='%'){result=input;}else if(input==='%'||isNaN(parsedPrice)||parsedPercent!=inputPercent||isNaN(parsedPercent)||input===''){result='';}else if(parsedPercent>100){result='0.00';}else if(lastInputSymbol==='%'){result=parsedPrice-parsedPrice*(inputPercent / 100);result=result.toFixed(2);}else{result=input;}\nreturn result;};});","Magento_Catalog/catalog/apply-to-type-switcher.min.js":"define(['jquery','Magento_Catalog/catalog/type-events'],function($,productType){'use strict';return{bindAll:function(){$('[data-form=edit-product] [data-role=tabs]').on('contentUpdated',this._switchToTypeByApplyAttr.bind(this));$('#product_info_tabs').on('beforePanelsMove tabscreate tabsactivate',this._switchToTypeByApplyAttr.bind(this));$(document).on('changeTypeProduct',this._switchToTypeByApplyAttr.bind(this));},'Magento_Catalog/catalog/apply-to-type-switcher':function(){this.bindAll();this._switchToTypeByApplyAttr();},_switchToTypeByApplyAttr:function(){$('[data-apply-to]:not(.removed)').each(function(index,element){var attrContainer=$(element),applyTo=attrContainer.data('applyTo')||[],$inputs=attrContainer.find('select, input, textarea');if(applyTo.length===0||$.inArray(productType.type.current,applyTo)!==-1){attrContainer.removeClass('not-applicable-attribute');$inputs.removeClass('ignore-validate');}else{attrContainer.addClass('not-applicable-attribute');$inputs.addClass('ignore-validate');}});}};});","Magento_Catalog/catalog/base-image-uploader.min.js":"define(['jquery','mage/template','Magento_Ui/js/modal/alert','jquery/ui','jquery/file-uploader','mage/translate','mage/backend/notification'],function($,mageTemplate,alert){'use strict';$.widget('mage.baseImage',{options:{maxImageUploadCount:10},_create:function(){var $container=this.element,imageTmpl=mageTemplate(this.element.find('[data-template=image]').html()),$dropPlaceholder=this.element.find('.image-placeholder'),$galleryContainer=$('#media_gallery_content'),mainClass='base-image',maximumImageCount=5,$fieldCheckBox=$container.closest('[data-attribute-code=image]').find(':checkbox'),isDefaultChecked=$fieldCheckBox.is(':checked'),findElement,updateVisibility;if(isDefaultChecked){$fieldCheckBox.trigger('click');}\nfindElement=function(data){return $container.find('.image:not(.image-placeholder)').filter(function(){if(!$(this).data('image')){return false;}\nreturn $(this).data('image').file===data.file;}).first();};updateVisibility=function(){var elementsList=$container.find('.image:not(.removed-item)');elementsList.each(function(index){$(this)[index<maximumImageCount?'show':'hide']();});$dropPlaceholder[elementsList.length>maximumImageCount?'hide':'show']();};$galleryContainer.on('setImageType',function(event,data){if(data.type==='image'){$container.find('.'+mainClass).removeClass(mainClass);if(data.imageData){findElement(data.imageData).addClass(mainClass);}}});$galleryContainer.on('addItem',function(event,data){var tmpl=imageTmpl({data:data});$(tmpl).data('image',data).insertBefore($dropPlaceholder);updateVisibility();});$galleryContainer.on('removeItem',function(event,image){findElement(image).addClass('removed-item').hide();updateVisibility();});$galleryContainer.on('moveElement',function(event,data){var $element=findElement(data.imageData),$after;if(data.position===0){$container.prepend($element);}else{$after=$container.find('.image').eq(data.position);if(!$element.is($after)){$element.insertAfter($after);}}\nupdateVisibility();});$container.on('click','[data-role=make-base-button]',function(event){var data;event.preventDefault();data=$(event.target).closest('.image').data('image');$galleryContainer.productGallery('setBase',data);});$container.on('click','[data-role=delete-button]',function(event){event.preventDefault();$galleryContainer.trigger('removeItem',$(event.target).closest('.image').data('image'));});$container.sortable({axis:'x',items:'.image:not(.image-placeholder)',distance:8,tolerance:'pointer',stop:function(event,data){$galleryContainer.trigger('setPosition',{imageData:data.item.data('image'),position:$container.find('.image').index(data.item)});$galleryContainer.trigger('resort');}}).disableSelection();this.element.find('input[type=\"file\"]').fileupload({dataType:'json',dropZone:$dropPlaceholder.closest('[data-attribute-code]'),acceptFileTypes:/(\\.|\\/)(gif|jpe?g|png)$/i,maxFileSize:this.element.data('maxFileSize'),done:function(event,data){$dropPlaceholder.find('.progress-bar').text('').removeClass('in-progress');if(!data.result){return;}\nif(!data.result.error){$galleryContainer.trigger('addItem',data.result);}else{alert({content:$.mage.__('We don\\'t recognize or support this file extension type.')});}},change:function(e,data){if(data.files.length>this.options.maxImageUploadCount){$('body').notification('clear').notification('add',{error:true,message:$.mage.__('You can\\'t upload more than '+this.options.maxImageUploadCount+' images in one time'),insertMethod:function(message){$('.page-main-actions').after(message);}});return false;}}.bind(this),add:function(event,data){$(this).fileupload('process',data).done(function(){data.submit();});},progress:function(e,data){var progress=parseInt(data.loaded / data.total*100,10);$dropPlaceholder.find('.progress-bar').addClass('in-progress').text(progress+'%');},start:function(event){var uploaderContainer=$(event.target).closest('.image-placeholder');uploaderContainer.addClass('loading');},stop:function(event){var uploaderContainer=$(event.target).closest('.image-placeholder');uploaderContainer.removeClass('loading');}});}});return $.mage.baseImage;});","Magento_Catalog/catalog/product-attributes.min.js":"define(['jquery','underscore','uiRegistry','jquery/ui','mage/translate'],function($,_,registry){'use strict';$.widget('mage.productAttributes',{_create:function(){this._on({'click':'_showPopup'});},_initModal:function(){var self=this;this.modal=$('<div id=\"create_new_attribute\"></div>').modal({title:$.mage.__('New Attribute'),type:'slide',buttons:[],opened:function(){$(this).parent().addClass('modal-content-new-attribute');self.iframe=$('<iframe id=\"create_new_attribute_container\"></iframe>').attr({src:self._prepareUrl(),frameborder:0});self.modal.append(self.iframe);self._changeIframeSize();$(window).off().on('resize.modal',_.debounce(self._changeIframeSize.bind(self),400));},closed:function(){var doc=self.iframe.get(0).document;if(doc&&typeof doc.execCommand==='function'){doc.execCommand('stop');self.iframe.remove();}\nself.modal.data('mageModal').modal.remove();$(window).off('resize.modal');}});},_getHeight:function(){var modal=this.modal.data('mageModal').modal,modalHead=modal.find('header'),modalHeadHeight=modalHead.outerHeight(),modalHeight=modal.outerHeight(),modalContentPadding=this.modal.parent().outerHeight()-this.modal.parent().height();return modalHeight-modalHeadHeight-modalContentPadding;},_getWidth:function(){return this.modal.width();},_changeIframeSize:function(){this.modal.parent().outerHeight(this._getHeight());this.iframe.outerHeight(this._getHeight());this.iframe.outerWidth(this._getWidth());},_prepareUrl:function(){var productSource,attributeSetId='';if(this.options.dataProvider){try{productSource=registry.get(this.options.dataProvider);attributeSetId=productSource.data.product['attribute_set_id'];}catch(e){}}\nreturn this.options.url+\n(/\\?/.test(this.options.url)?'&':'?')+'set='+attributeSetId;},_showPopup:function(){this._initModal();this.modal.modal('openModal');}});return $.mage.productAttributes;});","Magento_Catalog/catalog/product.min.js":"require(['jquery'],function($){'use strict';window.Product={};function byId(id){return $('#'+id);}\nfunction disableFieldEditMode(fieldId){var field=byId(fieldId);field.prop('disabled',true);if(field.next().hasClass('addafter')){field.parent().addClass('_update-attributes-disabled');}\nif(byId(fieldId+'_hidden').length){byId(fieldId+'_hidden').prop('disabled',true);}}\nfunction enableFieldEditMode(fieldId){var field=byId(fieldId);field.prop('disabled',false);if(field.parent().hasClass('_update-attributes-disabled')){field.parent().removeClass('_update-attributes-disabled');}\nif(byId(fieldId+'_hidden').length){byId(fieldId+'_hidden').prop('disabled',false);}}\nfunction toogleFieldEditMode(toogleIdentifier,fieldId){if($(toogleIdentifier).is(':checked')){enableFieldEditMode(fieldId);}else{disableFieldEditMode(fieldId);}}\nfunction onCompleteDisableInited(){var item;$.each($('[data-disable]'),function(){item=$(this).data('disable');disableFieldEditMode(item);});}\nfunction onUrlkeyChanged(urlKey){var hidden,chbx,oldValue;urlKey=byId(urlKey);hidden=urlKey.siblings('input[type=hidden]');chbx=urlKey.siblings('input[type=checkbox]');oldValue=chbx.val();chbx.prop('disabled',oldValue===urlKey.val());hidden.prop('disabled',chbx.prop('disabled'));}\nfunction onCustomUseParentChanged(element){var useParent,parent;element=$(element);useParent=element.val()==1;parent=element.offsetParent().parent();parent.find('input, select, textarea').each(function(i,el){el=$(el);if(element.prop('id')!==el.prop('id')){el.prop('disabled',useParent);}});parent.find('img').each(function(i,el){if(useParent){$(el).hide();}else{$(el).show();}});}\nwindow.onCustomUseParentChanged=onCustomUseParentChanged;window.onUrlkeyChanged=onUrlkeyChanged;window.toogleFieldEditMode=toogleFieldEditMode;$(onCompleteDisableInited);});","Magento_Catalog/catalog/type-events.min.js":"define(['jquery'],function($){'use strict';return{$type:$('#product_type_id'),init:function(){this.type={init:this.$type.val(),current:this.$type.val()};this.bindAll();},bindAll:function(){$(document).on('setTypeProduct',function(event,type){this.setType(type);}.bind(this));this.$type.on('change',function(){this.type.current=this.$type.val();this._notifyType();}.bind(this));},setType:function(type){return this.$type.val(type||this.type.init).trigger('change');},_notifyType:function(){$(document).trigger('changeTypeProduct',this.type);}};});","Magento_Catalog/catalog/category/assign-products.min.js":"define(['mage/adminhtml/grid'],function(){'use strict';return function(config){var selectedProducts=config.selectedProducts,categoryProducts=$H(selectedProducts),gridJsObject=window[config.gridJsObjectName],tabIndex=1000;$('in_category_products').value=Object.toJSON(categoryProducts);function registerCategoryProduct(grid,element,checked){if(checked){if(element.positionElement){element.positionElement.disabled=false;categoryProducts.set(element.value,element.positionElement.value);}}else{if(element.positionElement){element.positionElement.disabled=true;}\ncategoryProducts.unset(element.value);}\n$('in_category_products').value=Object.toJSON(categoryProducts);grid.reloadParams={'selected_products[]':categoryProducts.keys()};}\nfunction categoryProductRowClick(grid,event){var trElement=Event.findElement(event,'tr'),eventElement=Event.element(event),isInputCheckbox=eventElement.tagName==='INPUT'&&eventElement.type==='checkbox',isInputPosition=grid.targetElement&&grid.targetElement.tagName==='INPUT'&&grid.targetElement.name==='position',checked=false,checkbox=null;if(eventElement.tagName==='LABEL'&&trElement.querySelector('#'+eventElement.htmlFor)&&trElement.querySelector('#'+eventElement.htmlFor).type==='checkbox'){event.stopPropagation();trElement.querySelector('#'+eventElement.htmlFor).trigger('click');return;}\nif(trElement&&!isInputPosition){checkbox=Element.getElementsBySelector(trElement,'input');if(checkbox[0]){checked=isInputCheckbox?checkbox[0].checked:!checkbox[0].checked;gridJsObject.setCheckboxChecked(checkbox[0],checked);}}}\nfunction positionChange(event){var element=Event.element(event);if(element&&element.checkboxElement&&element.checkboxElement.checked){categoryProducts.set(element.checkboxElement.value,element.value);$('in_category_products').value=Object.toJSON(categoryProducts);}}\nfunction categoryProductRowInit(grid,row){var checkbox=$(row).getElementsByClassName('checkbox')[0],position=$(row).getElementsByClassName('input-text')[0];if(checkbox&&position){checkbox.positionElement=position;position.checkboxElement=checkbox;position.disabled=!checkbox.checked;position.tabIndex=tabIndex++;Event.observe(position,'keyup',positionChange);}}\ngridJsObject.rowClickCallback=categoryProductRowClick;gridJsObject.initRowCallback=categoryProductRowInit;gridJsObject.checkboxCheckCallback=registerCategoryProduct;if(gridJsObject.rows){gridJsObject.rows.each(function(row){categoryProductRowInit(gridJsObject,row);});}};});","Magento_Catalog/catalog/category/form.min.js":"define(['jquery','Magento_Ui/js/modal/alert'],function($,alert){'use strict';return function(config){var categoryForm={options:{categoryIdSelector:'input[name=\"id\"]',categoryPathSelector:'input[name=\"path\"]',categoryParentSelector:'input[name=\"parent\"]',categoryLevelSelector:'input[name=\"level\"]',refreshUrl:config.refreshUrl},refreshPath:function(){if(!$(this.options.categoryIdSelector)){return false;}\n$.ajax({url:this.options.refreshUrl,method:'GET',showLoader:true}).done(this._refreshPathSuccess.bind(this));},_refreshPathSuccess:function(data){if(data.error){alert({content:data.message});}else{$(this.options.categoryIdSelector).val(data.id).trigger('change');$(this.options.categoryPathSelector).val(data.path).trigger('change');$(this.options.categoryParentSelector).val(data.parentId).trigger('change');$(this.options.categoryLevelSelector).val(data.level).trigger('change');}}};$('body').on('categoryMove.tree',$.proxy(categoryForm.refreshPath.bind(categoryForm),this));};});","Magento_Catalog/catalog/product/attribute/unique-validate.min.js":"define(['jquery','mage/backend/validation'],function(jQuery){'use strict';return function(config){var msg='',_config=jQuery.extend({element:null,message:'',uniqueClass:'required-unique'},config),messager=function(){return msg;};if(typeof _config.element==='string'){jQuery.validator.addMethod(_config.element,function(value,element){var inputs=jQuery(element).closest('table').find('.'+_config.uniqueClass+':visible'),valuesHash={},isValid=true,duplicates=[];inputs.each(function(el){var inputValue=inputs[el].value;if(typeof valuesHash[inputValue]!=='undefined'){isValid=false;duplicates.push(inputValue);}\nvaluesHash[inputValue]=el;});if(!isValid){msg=_config.message+' ('+duplicates.join(', ')+')';}\nreturn isValid;},messager);}};});","Magento_Catalog/catalog/product/composite/configure.min.js":"define(['jquery','Magento_Ui/js/lib/view/utils/async','jquery/ui','mage/translate','prototype','Magento_Ui/js/modal/modal'],function(jQuery){window.ProductConfigure=Class.create();ProductConfigure.prototype={listTypes:$H({}),current:$H({}),itemsFilter:$H({}),blockWindow:null,blockForm:null,blockFormFields:null,blockFormAdd:null,blockFormConfirmed:null,blockConfirmed:null,blockIFrame:null,blockCancelBtn:null,blockMask:null,blockMsg:null,blockMsgError:null,windowHeight:null,confirmedCurrentId:null,confirmCallback:{},cancelCallback:{},onLoadIFrameCallback:{},showWindowCallback:{},beforeSubmitCallback:{},iFrameJSVarname:null,_listTypeId:1,initialize:function(){var self=this,popupDialog=jQuery('#product_composite_configure');this._initWindowElements();jQuery.async('#product_composite_configure',function(el){if(el!==popupDialog[0]){el=popupDialog[0];}\nself.dialog=jQuery(el).modal({title:jQuery.mage.__('Configure Product'),type:'slide',buttons:[{text:jQuery.mage.__('OK'),'class':'action-primary',click:function(){self.onConfirmBtn();}}],closed:function(){self.clean('window');},});});},_initWindowElements:function(){this.blockWindow=$('product_composite_configure');this.blockForm=$('product_composite_configure_form');this.blockFormFields=$('product_composite_configure_form_fields');this.blockFormAdd=$('product_composite_configure_form_additional');this.blockFormConfirmed=$('product_composite_configure_form_confirmed');this.blockConfirmed=$('product_composite_configure_confirmed');this.blockIFrame=$('product_composite_configure_iframe');this.blockCancelBtn=$('product_composite_configure_form_cancel');this.blockMsg=$('product_composite_configure_messages');this.blockMsgError=this.blockMsg.select('.message.error div')[0];this.iFrameJSVarname=this.blockForm.select('input[name=\"as_js_varname\"]')[0].value;},_generateListTypeId:function(){return'_internal_lt_'+this._listTypeId++;},addListType:function(type,urls){if('undefined'==typeof this.listTypes[type]){this.listTypes[type]={};}\nObject.extend(this.listTypes[type],urls);return this;},addComplexListType:function(types,urlSubmit){var type=this._generateListTypeId();this.listTypes[type]={};this.listTypes[type].complexTypes=types;this.listTypes[type].urlSubmit=urlSubmit;return type;},addItemsFilter:function(listType,itemsFilter){if(!listType||!itemsFilter){return false;}\nif('undefined'==typeof this.itemsFilter[listType]){this.itemsFilter[listType]=[];}\nthis.itemsFilter[listType]=this.itemsFilter[listType].concat(itemsFilter);return this;},_getConfirmedBlockId:function(listType,itemId){return this.blockConfirmed.id+'['+listType+']['+itemId+']';},itemConfigured:function(listType,itemId){var confirmedBlockId=this._getConfirmedBlockId(listType,itemId);var itemBlock=$(confirmedBlockId);return!!(itemBlock&&itemBlock.innerHTML);},showItemConfiguration:function(listType,itemId){if(!listType||!itemId){return false;}\nthis.initialize();this.current.listType=listType;this.current.itemId=itemId;this.confirmedCurrentId=this._getConfirmedBlockId(listType,itemId);if(!this.itemConfigured(listType,itemId)){this._requestItemConfiguration(listType,itemId);}else{this._processFieldsData('item_restore');this._showWindow();}},_requestItemConfiguration:function(listType,itemId){if(!this.listTypes[listType].urlFetch){return false;}\nvar url=this.listTypes[listType].urlFetch;if(url){new Ajax.Request(url,{parameters:{id:itemId},onSuccess:function(transport){var response=transport.responseText;if(response.isJSON()){response=response.evalJSON();if(response.error){this.blockMsg.show();this.blockMsgError.innerHTML=response.message;if(this.blockCancelBtn){this.blockCancelBtn.hide();}\nthis.setConfirmCallback(listType,null);this._showWindow();}}else if(response){response+='';this.blockFormFields.update(response);var mageData={};var scripts=response.extractScripts();mageData.scripts=scripts;var scriptHolder=new Element('div',{'style':'display:none'});scriptHolder.mageData=mageData;this.blockFormFields.insert(scriptHolder);this._showWindow();}}.bind(this)});}},onConfirmBtn:function(){if(jQuery(this.blockForm).valid()){if(this.listTypes[this.current.listType].urlConfirm){this.submit();}else{this._processFieldsData('item_confirm');this._closeWindow();if(Object.isFunction(this.confirmCallback[this.current.listType])){this.confirmCallback[this.current.listType]();}}}\nreturn this;},onCancelBtn:function(){this._closeWindow();if(Object.isFunction(this.cancelCallback[this.current.listType])){this.cancelCallback[this.current.listType]();}\nreturn this;},submit:function(listType){if(listType){this.current.listType=listType;this.current.itemId=null;}\nvar urlConfirm=this.listTypes[this.current.listType].urlConfirm;var urlSubmit=this.listTypes[this.current.listType].urlSubmit;if(!urlConfirm&&!urlSubmit){return false;}\nif(urlConfirm){this.blockForm.action=urlConfirm;this.addFields([new Element('input',{type:'hidden',name:'id',value:this.current.itemId})]);}else{this.blockForm.action=urlSubmit;var complexTypes=this.listTypes[this.current.listType].complexTypes;if(complexTypes){this.addFields([new Element('input',{type:'hidden',name:'configure_complex_list_types',value:complexTypes.join(',')})]);}\nthis._processFieldsData('current_confirmed_to_form');var tagNames=['input','select','textarea'];var names={};for(var i=0,len=tagNames.length;i<len;i++){var tagName=tagNames[i];var elements=this.blockFormAdd.getElementsByTagName(tagName);for(var index=0,elLen=elements.length;index<elLen;index++){names[elements[index].name]=true;}}\nfor(var i=0,len=tagNames.length;i<len;i++){var tagName=tagNames[i];var elements=this.blockFormConfirmed.getElementsByTagName(tagName);for(var index=0,elLen=elements.length;index<elLen;index++){var element=elements[index];if(names[element.name]){element.setAttribute('configure_disabled',1);element.setAttribute('configure_prev_disabled',element.disabled?1:0);element.disabled=true;}else{element.setAttribute('configure_disabled',0);}}}}\nif(Object.isFunction(this.beforeSubmitCallback[this.current.listType])){this.beforeSubmitCallback[this.current.listType]();}\nthis.blockForm.submit();jQuery(this.blockForm).trigger('processStart');return this;},addFields:function(fields){fields.each(function(elm){this.blockFormAdd.insert(elm);}.bind(this));return this;},onLoadIFrame:function(){this.blockFormConfirmed.select('[configure_disabled=1]').each(function(element){element.disabled=element.getAttribute('configure_prev_disabled')=='1';});this._processFieldsData('form_confirmed_to_confirmed');var response=this.blockIFrame.contentWindow[this.iFrameJSVarname];if(response&&'object'==typeof response){if(this.listTypes[this.current.listType].urlConfirm){if(response.ok){this._closeWindow();this.clean('current');}else if(response.error){this.showItemConfiguration(this.current.listType,this.current.itemId);this.blockMsg.show();this.blockMsgError.innerHTML=response.message;this._showWindow();jQuery(this.blockForm).trigger('processStop');return false;}}\nif(Object.isFunction(this.onLoadIFrameCallback[this.current.listType])){this.onLoadIFrameCallback[this.current.listType](response);}\ndocument.fire(this.current.listType+':afterIFrameLoaded');}\njQuery(this.blockForm).trigger('processStop');this.clean('current');this.initialize();},_getIFrameContent:function(){var content=this.blockIFrame.contentWindow||this.blockIFrame.contentDocument;if(content.document){content=content.document;}\nreturn content;},getCurrentConfirmedQtyElement:function(){var elms=$(this.confirmedCurrentId).getElementsByTagName('input');for(var i=0;i<elms.length;i++){if(elms[i].name=='qty'){return elms[i];}}},getCurrentConfirmedSelectElement:function(){return $(this.confirmedCurrentId).getElementsByTagName('select');},getCurrentFormQtyElement:function(){var elms=this.blockFormFields.getElementsByTagName('input');for(var i=0;i<elms.length;i++){if(elms[i].name=='qty'){return elms[i];}}},_showWindow:function(){this.dialog.modal('openModal');if(Object.isFunction(this.showWindowCallback[this.current.listType])){this.showWindowCallback[this.current.listType]();}},_closeWindow:function(){this.dialog.modal('closeModal');},setConfirmCallback:function(listType,confirmCallback){this.confirmCallback[listType]=confirmCallback;return this;},setCancelCallback:function(listType,cancelCallback){this.cancelCallback[listType]=cancelCallback;return this;},setOnLoadIFrameCallback:function(listType,onLoadIFrameCallback){this.onLoadIFrameCallback[listType]=onLoadIFrameCallback;return this;},setShowWindowCallback:function(listType,showWindowCallback){this.showWindowCallback[listType]=showWindowCallback;return this;},setBeforeSubmitCallback:function(listType,beforeSubmitCallback){this.beforeSubmitCallback[listType]=beforeSubmitCallback;return this;},clean:function(method){var listInfo=null;var listTypes=null;var removeConfirmed=function(listTypes){this.blockConfirmed.childElements().each(function(elm){for(var i=0,len=listTypes.length;i<len;i++){var pattern=this.blockConfirmed.id+'['+listTypes[i]+']';if(elm.id.indexOf(pattern)==0){elm.remove();break;}}}.bind(this));}.bind(this);switch(method){case'current':listInfo=this.listTypes[this.current.listType];listTypes=[this.current.listType];if(listInfo&&listInfo.complexTypes){listTypes=listTypes.concat(listInfo.complexTypes);}\nremoveConfirmed(listTypes);break;case'window':this.blockFormFields.update();this.blockMsg.hide();this.blockMsgError.update();if(this.blockCancelBtn){this.blockCancelBtn.show();}\nbreak;default:if(this.listTypes[method]){listInfo=this.listTypes[method];listTypes=[method];if(listInfo.complexTypes){listTypes=listTypes.concat(listInfo.complexTypes);}\nremoveConfirmed(listTypes);}else if(!method){this.current=$H({});this.blockConfirmed.update();this.blockFormFields.update();this.blockMsg.hide();this.blockMsgError.update();if(this.blockCancelBtn){this.blockCancelBtn.show();}}\nbreak;}\nthis._getIFrameContent().body.innerHTML='';this.blockIFrame.contentWindow[this.iFrameJSVarname]={};this.blockFormAdd.update();this.blockFormConfirmed.update();this.blockForm.action='';return this;},_processFieldsData:function(method){var self=this;var _renameFields=function(method,blockItem,listType){var pattern=null;var patternFlat=null;var patternPrefix=RegExp('\\\\s','g');var replacement=null;var replacementFlat=null;var replacementPrefix='_';var scopeArr=blockItem.id.match(/.*\\[\\w+\\]\\[([^\\]]+)\\]$/);var itemId=scopeArr[1];if(method=='current_confirmed_to_form'){pattern=RegExp('(\\\\w+)(\\\\[?)');patternFlat=RegExp('(\\\\w+)');replacement='item['+itemId+'][$1]$2';replacementFlat='item_'+itemId+'_$1';if(listType){replacement='list['+listType+'][item]['+itemId+'][$1]$2';replacementFlat='list_'+listType+'_'+replacementFlat;}}else if(method=='form_confirmed_to_confirmed'){var stPattern='item\\\\['+itemId+'\\\\]\\\\[(\\\\w+)\\\\](.*)';var stPatternFlat='item_'+itemId+'_(\\\\w+)';if(listType){stPattern='list\\\\['+listType+'\\\\]\\\\[item\\\\]\\\\['+itemId+'\\\\]\\\\[(\\\\w+)\\\\](.*)';stPatternFlat='list_'+listType+'_'+stPatternFlat;}\npattern=new RegExp(stPattern);patternFlat=new RegExp(stPatternFlat);replacement='$1$2';replacementFlat='$1';}else{return false;}\nvar rename=function(elms){for(var i=0;i<elms.length;i++){if(elms[i].name&&elms[i].type=='file'){var prefixName='options[files_prefix]',prefixValue='item_'+itemId+'_';self.blockFormFields.insert(new Element('input',{type:'hidden',name:prefixName.replace(pattern,replacement),value:prefixValue.replace(patternPrefix,replacementPrefix)}));elms[i].name=elms[i].name.replace(patternFlat,replacementFlat);}else if(elms[i].name){elms[i].name=elms[i].name.replace(pattern,replacement);}}};rename(blockItem.getElementsByTagName('input'));rename(blockItem.getElementsByTagName('select'));rename(blockItem.getElementsByTagName('textarea'));};switch(method){case'item_confirm':if(!$(this.confirmedCurrentId)){this.blockConfirmed.insert(new Element('div',{id:this.confirmedCurrentId}));}else{$(this.confirmedCurrentId).update();}\nthis.blockFormFields.childElements().each(function(elm){$(this.confirmedCurrentId).insert(elm);}.bind(this));break;case'item_restore':this.blockFormFields.update();var mageData=null;$(this.confirmedCurrentId).childElements().each(function(elm){var cloned=elm.cloneNode(true);if(elm.mageData){cloned.mageData=elm.mageData;mageData=elm.mageData;}\nthis.blockFormFields.insert(cloned);}.bind(this));var fieldsValue={};var getConfirmedValues=function(elms){for(var i=0;i<elms.length;i++){if(elms[i].name){if('undefined'==typeof fieldsValue[elms[i].name]){fieldsValue[elms[i].name]={};}\nif(elms[i].type=='checkbox'){fieldsValue[elms[i].name][elms[i].value]=elms[i].checked;}else if(elms[i].type=='radio'){if(elms[i].checked){fieldsValue[elms[i].name]=elms[i].value;}}else{fieldsValue[elms[i].name]=Form.Element.getValue(elms[i]);}}}};getConfirmedValues($(this.confirmedCurrentId).getElementsByTagName('input'));getConfirmedValues($(this.confirmedCurrentId).getElementsByTagName('select'));getConfirmedValues($(this.confirmedCurrentId).getElementsByTagName('textarea'));var restoreConfirmedValues=function(elms){for(var i=0;i<elms.length;i++){if('undefined'!=typeof fieldsValue[elms[i].name]){if(elms[i].type!='file'){if(elms[i].type=='checkbox'){elms[i].checked=fieldsValue[elms[i].name][elms[i].value];}else if(elms[i].type=='radio'){if(elms[i].value==fieldsValue[elms[i].name]){elms[i].checked=true;}}else{elms[i].setValue(fieldsValue[elms[i].name]);}}}}};restoreConfirmedValues(this.blockFormFields.getElementsByTagName('input'));restoreConfirmedValues(this.blockFormFields.getElementsByTagName('select'));restoreConfirmedValues(this.blockFormFields.getElementsByTagName('textarea'));if(mageData&&mageData.scripts){this.restorePhase=true;try{mageData.scripts.map(function(script){return eval(script);});}catch(e){}\nthis.restorePhase=false;}\nbreak;case'current_confirmed_to_form':var allowedListTypes={};allowedListTypes[this.current.listType]=true;var listInfo=this.listTypes[this.current.listType];if(listInfo.complexTypes){for(var i=0,len=listInfo.complexTypes.length;i<len;i++){allowedListTypes[listInfo.complexTypes[i]]=true;}}\nthis.blockFormConfirmed.update();this.blockConfirmed.childElements().each(function(blockItem){var scopeArr=blockItem.id.match(/.*\\[(\\w+)\\]\\[([^\\]]+)\\]$/);var listType=scopeArr[1];var itemId=scopeArr[2];if(allowedListTypes[listType]&&(!this.itemsFilter[listType]||this.itemsFilter[listType].indexOf(itemId)!=-1)){_renameFields(method,blockItem,listInfo.complexTypes?listType:null);this.blockFormConfirmed.insert(blockItem);}}.bind(this));break;case'form_confirmed_to_confirmed':var listInfo=this.listTypes[this.current.listType];this.blockFormConfirmed.childElements().each(function(blockItem){var scopeArr=blockItem.id.match(/.*\\[(\\w+)\\]\\[([^\\]]+)\\]$/);var listType=scopeArr[1];_renameFields(method,blockItem,listInfo.complexTypes?listType:null);this.blockConfirmed.insert(blockItem);}.bind(this));break;}},changeOptionQty:function(element,event){var checkQty=true;if('undefined'!=typeof event){if(event.keyCode==8||event.keyCode==46){checkQty=false;}}\nif(checkQty&&(Number(element.value)<=0||isNaN(Number(element.value)))){element.value=1;}}};productConfigure=new ProductConfigure();jQuery(document).trigger('productConfigure:inited');jQuery(document).data('productConfigureInited',true);});","Magento_Catalog/catalog/product/edit/attribute.min.js":"define(['jquery','mage/mage','validation'],function($){'use strict';return function(config,element){$(element).mage('form').validation({validationUrl:config.validationUrl});};});","Magento_Catalog/component/file-type-field.min.js":"define(['Magento_Ui/js/form/element/abstract'],function(Abstract){'use strict';return Abstract.extend({isRelevant:function(value){if(value==='file'){this.disabled(false);this.visible(true);return true;}\nthis.reset();this.disabled(true);this.visible(false);return false;}});});","Magento_Catalog/component/image-size-field.min.js":"define(['jquery','Magento_Ui/js/lib/validation/utils','Magento_Ui/js/form/element/abstract','Magento_Ui/js/lib/validation/validator','mage/translate'],function($,utils,Abstract,validator){'use strict';validator.addRule('validate-image-size-range',function(value){var dataAttrRange=/^(\\d+)x(\\d+)$/,m;if(utils.isEmptyNoTrim(value)){return true;}\nm=dataAttrRange.exec(value);return!!(m&&m[1]>0&&m[2]>0);},$.mage.__('This value does not follow the specified format (for example, 200X300).'));return Abstract.extend({isRangeCorrect:function(){return validator('validate-image-size-range',this.value()).passed;}});});","Magento_Catalog/component/select-type-grid.min.js":"define(['jquery','Magento_Ui/js/dynamic-rows/dynamic-rows'],function($,Abstract){'use strict';return Abstract.extend({isRelevant:function(value){if($.inArray(value,['drop_down','radio','checkbox','multiple'])!==-1){this.disabled(false);this.visible(true);return true;}\nthis.reset();this.disabled(true);this.visible(false);return false;}});});","Magento_Catalog/component/static-type-container.min.js":"define(['jquery','Magento_Ui/js/form/components/group'],function($,Group){'use strict';return Group.extend({isRelevant:function(value){if($.inArray(value,['field','area','file','date','date_time','time'])!==-1){this.visible(true);return true;}\nthis.visible(false);return false;}});});","Magento_Catalog/component/static-type-input.min.js":"define(['uiRegistry','Magento_Ui/js/form/element/abstract'],function(registry,Abstract){'use strict';return Abstract.extend({defaults:{parentOption:null},initialize:function(){return this._super().initLinkToParent();},initLinkToParent:function(){var pathToParent=this.parentName.replace(/(\\.[^.]*){2}$/,'');this.parentOption=registry.async(pathToParent);this.value()&&this.parentOption('label',this.value());return this;},onUpdate:function(value){this.parentOption(function(component){component.set('label',value?value:component.get('headerLabel'));});return this._super();}});});","Magento_Catalog/component/static-type-select.min.js":"define(['jquery','Magento_Ui/js/form/element/select'],function($,Abstract){'use strict';return Abstract.extend({isRelevant:function(value){if(!value||$.inArray(value,['drop_down','radio','checkbox','multiple'])!==-1){this.reset();this.disabled(true);return false;}\nthis.disabled(false);return true;}});});","Magento_Catalog/component/text-type-field.min.js":"define(['jquery','Magento_Ui/js/form/element/abstract'],function($,Abstract){'use strict';return Abstract.extend({isRelevant:function(value){if($.inArray(value,['field','area'])!==-1){this.disabled(false);this.visible(true);return true;}\nthis.reset();this.disabled(true);this.visible(false);return false;}});});","Magento_Checkout/js/model/default-post-code-resolver.min.js":"define([],function(){'use strict';var useDefaultPostCode;return{resolve:function(){return useDefaultPostCode?window.checkoutConfig.defaultPostcode:null;},setUseDefaultPostCode:function(shouldUseDefaultPostCode){useDefaultPostCode=shouldUseDefaultPostCode;return this;}};});","Magento_Bundle/js/price-bundle.min.js":"define(['jquery','underscore','mage/template','priceUtils','priceBox'],function($,_,mageTemplate,utils){'use strict';var globalOptions={optionConfig:null,productBundleSelector:'input.bundle.option, select.bundle.option, textarea.bundle.option',qtyFieldSelector:'input.qty',priceBoxSelector:'.price-box',optionHandlers:{},optionTemplate:'<%- data.label %>'+'<% if (data.finalPrice.value) { %>'+' +<%- data.finalPrice.formatted %>'+'<% } %>',controlContainer:'dd',priceFormat:{},isFixedPrice:false,optionTierPricesBlocksSelector:'#option-tier-prices-{1} [data-role=\"selection-tier-prices\"]',isOptionsInitialized:false};$.widget('mage.priceBundle',{options:globalOptions,_init:function initPriceBundle(){var form=this.element,options=$(this.options.productBundleSelector,form);options.trigger('change');},_create:function createPriceBundle(){var form=this.element,options=$(this.options.productBundleSelector,form),priceBox=$(this.options.priceBoxSelector,form),qty=$(this.options.qtyFieldSelector,form);this._updatePriceBox();priceBox.on('price-box-initialized',this._updatePriceBox.bind(this));options.on('change',this._onBundleOptionChanged.bind(this));qty.on('change',this._onQtyFieldChanged.bind(this));},_updatePriceBox:function(){var form=this.element,options=$(this.options.productBundleSelector,form),priceBox=$(this.options.priceBoxSelector,form);if(!this.options.isOptionsInitialized){if(priceBox.data('magePriceBox')&&priceBox.priceBox('option')&&priceBox.priceBox('option').priceConfig){if(priceBox.priceBox('option').priceConfig.optionTemplate){this._setOption('optionTemplate',priceBox.priceBox('option').priceConfig.optionTemplate);}\nthis._setOption('priceFormat',priceBox.priceBox('option').priceConfig.priceFormat);priceBox.priceBox('setDefault',this.options.optionConfig.prices);this.options.isOptionsInitialized=true;}\nthis._applyOptionNodeFix(options);}\nreturn this;},_onBundleOptionChanged:function onBundleOptionChanged(event){var changes,bundleOption=$(event.target),priceBox=$(this.options.priceBoxSelector,this.element),handler=this.options.optionHandlers[bundleOption.data('role')];bundleOption.data('optionContainer',bundleOption.closest(this.options.controlContainer));bundleOption.data('qtyField',bundleOption.data('optionContainer').find(this.options.qtyFieldSelector));if(handler&&handler instanceof Function){changes=handler(bundleOption,this.options.optionConfig,this);}else{changes=defaultGetOptionValue(bundleOption,this.options.optionConfig);}\nif(isValidQty(bundleOption)){if(changes){priceBox.trigger('updatePrice',changes);}\nthis._displayTierPriceBlock(bundleOption);this.updateProductSummary();}},_onQtyFieldChanged:function onQtyFieldChanged(event){var field=$(event.target),optionInstance,optionConfig;if(field.data('optionId')&&field.data('optionValueId')){optionInstance=field.data('option');optionConfig=this.options.optionConfig.options[field.data('optionId')].selections[field.data('optionValueId')];optionConfig.qty=field.val();if(isValidQty(optionInstance)){optionInstance.trigger('change');}}},_applyQtyFix:function applyQtyFix(){var config=this.options.optionConfig;if(config.isFixedPrice){_.each(config.options,function(option){_.each(option.selections,function(item){if(item.qty&&item.qty!==1){_.each(item.prices,function(price){price.amount /=item.qty;});}});});}},_applyOptionNodeFix:function applyOptionNodeFix(options){var config=this.options,format=config.priceFormat,template=config.optionTemplate;template=mageTemplate(template);options.filter('select').each(function(index,element){var $element=$(element),optionId=utils.findOptionId($element),optionConfig=config.optionConfig&&config.optionConfig.options[optionId].selections,value;$element.find('option').each(function(idx,option){var $option,optionValue,toTemplate,prices;$option=$(option);optionValue=$option.val();if(!optionValue&&optionValue!==0){return;}\ntoTemplate={data:{label:optionConfig[optionValue]&&optionConfig[optionValue].name}};prices=optionConfig[optionValue].prices;_.each(prices,function(price,type){value=+price.amount;value+=_.reduce(price.adjustments,function(sum,x){return sum+x;},0);toTemplate.data[type]={value:value,formatted:utils.formatPriceLocale(value,format)};});$option.html(template(toTemplate));});});},_setOptions:function setOptions(options){$.extend(true,this.options,options);this._super(options);return this;},_displayTierPriceBlock:function(optionElement){var optionType=optionElement.prop('type'),optionId,optionValue,optionTierPricesElements;if(optionType==='select-one'){optionId=utils.findOptionId(optionElement[0]);optionValue=optionElement.val()||null;optionTierPricesElements=$(this.options.optionTierPricesBlocksSelector.replace('{1}',optionId));_.each(optionTierPricesElements,function(tierPriceElement){var selectionId=$(tierPriceElement).data('selection-id')+'';if(selectionId===optionValue){$(tierPriceElement).show();}else{$(tierPriceElement).hide();}});}},updateProductSummary:function updateProductSummary(){this.element.trigger('updateProductSummary',{config:this.options.optionConfig});}});return $.mage.priceBundle;function defaultGetOptionValue(element,config){var changes={},optionHash,tempChanges,qtyField,optionId=utils.findOptionId(element[0]),optionValue=element.val()||null,optionName=element.prop('name'),optionType=element.prop('type'),optionConfig=config.options[optionId].selections,optionQty=0,canQtyCustomize=false,selectedIds=config.selected;switch(optionType){case'radio':case'select-one':if(optionType==='radio'&&!element.is(':checked')){return null;}\nqtyField=element.data('qtyField');qtyField.data('option',element);if(optionValue){optionQty=optionConfig[optionValue].qty||0;canQtyCustomize=optionConfig[optionValue].customQty==='1';toggleQtyField(qtyField,optionQty,optionId,optionValue,canQtyCustomize);tempChanges=utils.deepClone(optionConfig[optionValue].prices);tempChanges=applyTierPrice(tempChanges,optionQty,optionConfig[optionValue]);tempChanges=applyQty(tempChanges,optionQty);}else{tempChanges={};toggleQtyField(qtyField,'0',optionId,optionValue,false);}\noptionHash='bundle-option-'+optionName;changes[optionHash]=tempChanges;selectedIds[optionId]=[optionValue];break;case'select-multiple':optionValue=_.compact(optionValue);_.each(optionConfig,function(row,optionValueCode){optionHash='bundle-option-'+optionName+'##'+optionValueCode;optionQty=row.qty||0;tempChanges=utils.deepClone(row.prices);tempChanges=applyTierPrice(tempChanges,optionQty,optionConfig);tempChanges=applyQty(tempChanges,optionQty);changes[optionHash]=_.contains(optionValue,optionValueCode)?tempChanges:{};});selectedIds[optionId]=optionValue||[];break;case'checkbox':optionHash='bundle-option-'+optionName+'##'+optionValue;optionQty=optionConfig[optionValue].qty||0;tempChanges=utils.deepClone(optionConfig[optionValue].prices);tempChanges=applyTierPrice(tempChanges,optionQty,optionConfig);tempChanges=applyQty(tempChanges,optionQty);changes[optionHash]=element.is(':checked')?tempChanges:{};selectedIds[optionId]=selectedIds[optionId]||[];if(!_.contains(selectedIds[optionId],optionValue)&&element.is(':checked')){selectedIds[optionId].push(optionValue);}else if(!element.is(':checked')){selectedIds[optionId]=_.without(selectedIds[optionId],optionValue);}\nbreak;case'hidden':optionHash='bundle-option-'+optionName+'##'+optionValue;optionQty=optionConfig[optionValue].qty||0;canQtyCustomize=optionConfig[optionValue].customQty==='1';qtyField=element.data('qtyField');qtyField.data('option',element);toggleQtyField(qtyField,optionQty,optionId,optionValue,canQtyCustomize);tempChanges=utils.deepClone(optionConfig[optionValue].prices);tempChanges=applyTierPrice(tempChanges,optionQty,optionConfig);tempChanges=applyQty(tempChanges,optionQty);optionHash='bundle-option-'+optionName;changes[optionHash]=tempChanges;selectedIds[optionId]=[optionValue];break;}\nreturn changes;}\nfunction isValidQty(bundleOption){var isValid=true,qtyElem=bundleOption.data('qtyField'),bundleOptionType=bundleOption.prop('type');if(['radio','select-one'].includes(bundleOptionType)&&qtyElem.val()<0){isValid=false;}\nreturn isValid;}\nfunction toggleQtyField(element,value,optionId,optionValueId,canEdit){element.val(value).data('optionId',optionId).data('optionValueId',optionValueId).attr('disabled',!canEdit);if(canEdit){element.removeClass('qty-disabled');}else{element.addClass('qty-disabled');}}\nfunction applyQty(prices,qty){_.each(prices,function(everyPrice){everyPrice.amount*=qty;_.each(everyPrice.adjustments,function(el,index){everyPrice.adjustments[index]*=qty;});});return prices;}\nfunction applyTierPrice(oneItemPrice,qty,optionConfig){var tiers=optionConfig.tierPrice,magicKey=_.keys(oneItemPrice)[0],tiersFirstKey=_.keys(optionConfig)[0],lowest=false;if(!tiers){tiers=optionConfig[tiersFirstKey].tierPrice;}\ntiers.sort(function(a,b){return a['price_qty']-b['price_qty'];});_.each(tiers,function(tier,index){if(tier['price_qty']>qty){return;}\nif(tier.prices[magicKey].amount<oneItemPrice[magicKey].amount){lowest=index;}});if(lowest!==false){oneItemPrice=utils.deepClone(tiers[lowest].prices);}\nreturn oneItemPrice;}});","Magento_Bundle/js/bundle-product.min.js":"define(['jquery','Magento_Catalog/js/product/weight-handler','Magento_Ui/js/modal/modal','jquery/ui','mage/translate','Magento_Theme/js/sortable','prototype'],function($,weightHandler){'use strict';$.widget('mage.bundleProduct',{_create:function(){this._initOptionBoxes()._initSortableSelections()._bindCheckboxHandlers()._initCheckboxState()._bindAddSelectionDialog()._hideProductTypeSwitcher();},_initOptionBoxes:function(){var syncOptionTitle;this.element.sortable({axis:'y',handle:'[data-role=draggable-handle]',items:'.option-box',update:this._updateOptionBoxPositions,tolerance:'pointer'});syncOptionTitle=function(event){var originalValue=$(event.target).attr('data-original-value'),currentValue=$(event.target).val(),optionBoxTitle=$('.title > span',$(event.target).closest('.option-box')),newOptionTitle=$.mage.__('New Option');optionBoxTitle.text(currentValue===''&&!originalValue.length?newOptionTitle:currentValue);};this._on({'change .field-option-title input[name$=\"[title]\"]':syncOptionTitle,'keyup .field-option-title input[name$=\"[title]\"]':syncOptionTitle,'paste .field-option-title input[name$=\"[title]\"]':syncOptionTitle});return this;},_initSortableSelections:function(){this.element.find('.option-box .form-list tbody').sortable({axis:'y',handle:'[data-role=draggable-handle]',helper:function(event,ui){ui.children().each(function(){$(this).width($(this).width());});return ui;},update:this._updateSelectionsPositions,tolerance:'pointer'});return this;},_initCheckboxState:function(){this.element.find('.is-required').each(function(){$(this).prop('checked',$(this).closest('.option-box').find('[name$=\"[required]\"]').val()>0);});this.element.find('.is-user-defined-qty').each(function(){$(this).prop('checked',$(this).closest('.qty-box').find('.select').val()>0);});return this;},_bindAddSelectionDialog:function(){var widget=this;this._on({'click .add-selection':function(event){var $optionBox=$(event.target).closest('.option-box'),$selectionGrid=$optionBox.find('.selection-search').clone(),optionIndex=$optionBox.attr('id').replace('bundle_option_',''),productIds=[],productSkus=[],selectedProductList={};$optionBox.find('[name$=\"[product_id]\"]').each(function(){if(!$(this).closest('tr').find('[name$=\"[delete]\"]').val()){productIds.push($(this).val());productSkus.push($(this).closest('tr').find('.col-sku').text());}});bSelection.gridSelection.set(optionIndex,$H({}));bSelection.gridRemoval=$H({});bSelection.gridSelectedProductSkus=productSkus;$selectionGrid.on('contentUpdated',bSelection.gridUpdateCallback);$selectionGrid.on('change','.col-id input',function(){var tr=$(this).closest('tr');if($(this).is(':checked')){selectedProductList[$(this).val()]={name:tr.find('.col-name').html().trim(),sku:tr.find('.col-sku').html().trim(),'product_id':$(this).val(),'option_id':$('bundle_selection_id_'+optionIndex).val(),'selection_price_value':0,'selection_qty':1};}else{delete selectedProductList[$(this).val()];}});$selectionGrid.modal({title:$optionBox.find('input[name$=\"[title]\"]').val()===''?$.mage.__('Add Products to New Option'):$.mage.__('Add Products to Option \"%1\"').replace('%1',$('<div>').text($optionBox.find('input[name$=\"[title]\"]').val()).html()),modalClass:'bundle',type:'slide',closed:function(e,modalWindow){modalWindow.modal.remove();},buttons:[{text:$.mage.__('Add Selected Products'),'class':'action-primary action-add',click:function(){$.each(selectedProductList,function(){window.bSelection.addRow(optionIndex,this);});bSelection.gridRemoval.each(function(pair){$optionBox.find('.col-sku').filter(function(){let text=$(this).text();return text.trim()===pair.key;}).closest('tr').find('button.delete').trigger('click');});widget.refreshSortableElements();widget._updateSelectionsPositions.apply(widget.element);$selectionGrid.modal('closeModal');}}]});$.ajax({url:bSelection.selectionSearchUrl,dataType:'html',data:{index:optionIndex,products:productIds,'selected_products':productIds,'form_key':FORM_KEY},success:function(data){$selectionGrid.html(data).modal('openModal');},context:$('body'),showLoader:true});}});return this;},_hideProductTypeSwitcher:function(){weightHandler.hideWeightSwitcher();},_bindCheckboxHandlers:function(){this._on({'change .is-required':function(event){var $this=$(event.target);$this.closest('.option-box').find('[name$=\"[required]\"]').val($this.is(':checked')?1:0);},'change .is-user-defined-qty':function(event){var $this=$(event.target);$this.closest('.qty-box').find('.select').val($this.is(':checked')?1:0);}});return this;},_updateOptionBoxPositions:function(){$(this).find('[name^=bundle_options][name$=\"[position]\"]').each(function(index){$(this).val(index);});return this;},_updateSelectionsPositions:function(){$(this).find('[name^=bundle_selections][name$=\"[position]\"]').each(function(index){$(this).val(index);});return this;},refreshSortableElements:function(){this.element.sortable('refresh');this._updateOptionBoxPositions.apply(this.element);this._initSortableSelections();this._initCheckboxState();return this;}});});","Magento_Bundle/js/bundle-type-handler.min.js":"define(['jquery','Magento_Catalog/catalog/type-events','Magento_Catalog/js/product/weight-handler'],function($,productType,weight){'use strict';return{'Magento_Bundle/js/bundle-type-handler':function(){this.bindAll();this._initType();},bindAll:function(){$(document).on('changeTypeProduct',this._initType.bind(this));},_initType:function(){if(productType.type.init==='bundle'&&productType.type.current!=='bundle'&&!weight.isLocked()){weight.switchWeight();}}};});","Magento_Bundle/js/components/bundle-checkbox.min.js":"define(['Magento_Ui/js/form/element/single-checkbox','uiRegistry'],function(Checkbox,registry){'use strict';return Checkbox.extend({defaults:{clearing:false,parentContainer:'',parentSelections:'',changer:'',exports:{value:'${$.parentName}:isDefaultValue'}},initObservable:function(){this._super().observe('elementTmpl');return this;},initConfig:function(){this._super();this.imports.changeType=this.retrieveParentName(this.parentContainer)+'.'+this.changer+':value';return this;},onUpdate:function(){if(this.prefer==='radio'&&this.checked()&&!this.clearing){this.clearValues();}\nthis._super();},changeType:function(type){var typeMap=registry.get(this.retrieveParentName(this.parentContainer)+'.'+this.changer).typeMap;this.prefer=typeMap[type];this.elementTmpl(this.templates[typeMap[type]]);},clearValues:function(){var records=registry.get(this.retrieveParentName(this.parentSelections)),index=this.index,uid=this.uid;records.elems.each(function(record){record.elems.filter(function(comp){return comp.index===index&&comp.uid!==uid;}).each(function(comp){comp.clearing=true;comp.clear();comp.clearing=false;});});},retrieveParentName:function(parent){return this.name.replace(new RegExp('^(.+?\\\\.)?'+parent+'\\\\..+'),'$1'+parent);}});});","Magento_Bundle/js/components/bundle-dynamic-rows-grid.min.js":"define(['underscore','Magento_Ui/js/dynamic-rows/dynamic-rows-grid','uiLayout','rjsResolver'],function(_,dynamicRowsGrid,layout,resolver){'use strict';return dynamicRowsGrid.extend({defaults:{label:'',columnsHeader:false,columnsHeaderAfterRender:true,addButton:false,isDefaultFieldScope:'is_default',defaultRecords:{use:[],moreThanOne:false,state:{}},listens:{inputType:'onInputTypeChange',isDefaultValue:'onIsDefaultValue',pageSize:'onPageSizeChange'},sizesConfig:{component:'Magento_Ui/js/grid/paging/sizes',name:'${ $.name }_sizes',options:{'20':{value:20,label:20},'30':{value:30,label:30},'50':{value:50,label:50},'100':{value:100,label:100},'200':{value:200,label:200}},storageConfig:{provider:'${ $.storageConfig.provider }',namespace:'${ $.storageConfig.namespace }'},enabled:false},links:{options:'${ $.sizesConfig.name }:options',pageSize:'${ $.sizesConfig.name }:value'},modules:{sizes:'${ $.sizesConfig.name }'}},initialize:function(){this._super().initSizes();return this;},initSizes:function(){if(this.sizesConfig.enabled){layout([this.sizesConfig]);}\nreturn this;},onInputTypeChange:function(inputType){if(this.defaultRecords.moreThanOne&&(inputType==='radio'||inputType==='select')){_.each(this.defaultRecords.use,function(index,counter){this.source.set(this.dataScope+'.bundle_selections.'+index+'.'+this.isDefaultFieldScope,counter?'0':'1');}.bind(this));}},onIsDefaultValue:function(data){var cb,use=0;this.defaultRecords.use=[];cb=function(elem,key){if(~~elem){this.defaultRecords.use.push(key);use++;}\nthis.defaultRecords.moreThanOne=use>1;}.bind(this);_.each(data,cb);},initElements:function(data){var newData=this.getNewData(data),recordIndex;this.parsePagesData(data);if(newData.length){if(this.insertData().length){recordIndex=data.length-newData.length-1;_.each(newData,function(newRecord){this.processingAddChild(newRecord,++recordIndex,newRecord[this.identificationProperty]);},this);}}\nreturn this;},mappingValue:function(data){if(_.isEmpty(data)){return;}\nthis._super();},onPageSizeChange:function(){resolver(function(){if(this.elems().length){this.reload();}},this);}});});","Magento_Bundle/js/components/bundle-dynamic-rows.min.js":"define(['underscore','mageUtils','uiRegistry','Magento_Ui/js/dynamic-rows/dynamic-rows'],function(_,utils,registry,dynamicRows){'use strict';return dynamicRows.extend({defaults:{label:'',collapsibleHeader:true,columnsHeader:false,deleteProperty:false,addButton:false},_updateData:function(data){var elems=_.clone(this.elems()),path,dataArr,optionBaseData;dataArr=this.recordData.splice(this.startIndex,this.recordData().length-this.startIndex);dataArr.splice(0,this.pageSize);elems=_.sortBy(this.elems(),function(elem){return~~elem.index;});data.concat(dataArr).forEach(function(rec,idx){if(elems[idx]){elems[idx].recordId=rec[this.identificationProperty];}\nif(!rec.position){rec.position=this.maxPosition;this.setMaxPosition();}\npath=this.dataScope+'.'+this.index+'.'+(this.startIndex+idx);optionBaseData=_.pick(rec,function(value){return!_.isObject(value);});this.source.set(path,optionBaseData);this.source.set(path+'.bundle_button_proxy',[]);this.source.set(path+'.bundle_selections',[]);this.removeBundleItemsFromOption(idx);_.each(rec['bundle_selections'],function(obj,index){this.source.set(path+'.bundle_button_proxy'+'.'+index,rec['bundle_button_proxy'][index]);this.source.set(path+'.bundle_selections'+'.'+index,obj);},this);},this);this.elems(elems);},removeBundleItemsFromOption:function(index){var bundleSelections=registry.get(this.name+'.'+index+'.'+this.bundleSelectionsName),bundleSelectionsLength=(bundleSelections.elems()||[]).length,i;if(bundleSelectionsLength){for(i=0;i<bundleSelectionsLength;i++){bundleSelections.elems()[0].destroy();}}},processingAddChild:function(ctx,index,prop){var recordIds=_.map(this.recordData(),function(rec){return parseInt(rec['record_id'],10);}),maxRecordId=_.max(recordIds);prop=maxRecordId>-1?maxRecordId+1:prop;this._super(ctx,index,prop);}});});","Magento_Bundle/js/components/bundle-input-type.min.js":"define(['Magento_Ui/js/form/element/select','uiRegistry'],function(Select,registry){'use strict';return Select.extend({defaults:{previousType:'',parentContainer:'',selections:'',targetIndex:'',typeMap:{}},onUpdate:function(){var type=this.typeMap[this.value()];if(type!==this.previousType){this.previousType=type;this.processSelections(type==='radio');}\nthis._super();},processSelections:function(isRadio){var records=registry.get(this.retrieveParentName(this.parentContainer)+'.'+this.selections),checkedFound=false;records.elems.each(function(record){record.elems.filter(function(comp){return comp.index===this.userDefinedIndex;},this).each(function(comp){comp.visible(isRadio);});if(isRadio){record.elems.filter(function(comp){return comp.index===this.isDefaultIndex;},this).each(function(comp){if(comp.checked()){if(checkedFound){comp.clearing=true;comp.clear();comp.clearing=false;}\ncheckedFound=true;}});}},this);},retrieveParentName:function(parent){return this.name.replace(new RegExp('^(.+?\\\\.)?'+parent+'\\\\..+'),'$1'+parent);}});});","Magento_Bundle/js/components/bundle-option-qty.min.js":"define(['Magento_Ui/js/form/element/abstract'],function(Abstract){'use strict';return Abstract.extend({defaults:{valueUpdate:'input',isInteger:true,validation:{'validate-number':true}},setInitialValue:function(){this.initialValue=this.getInitialValue();if(this.initialValue===undefined||this.initialValue===''){this.initialValue=1;}\nif(this.value.peek()!==this.initialValue){this.value(this.initialValue);}\nthis.on('value',this.onUpdate.bind(this));this.isUseDefault(this.disabled());return this;},onUpdate:function(){this.validation['validate-digits']=this.isInteger;this._super();},hasChanged:function(){var notEqual=this.value()!==this.initialValue.toString();return!this.visible()?false:notEqual;}});});","Magento_Bundle/js/components/bundle-record.min.js":"define(['Magento_Ui/js/dynamic-rows/record','uiRegistry'],function(Record,registry){'use strict';return Record.extend({onTypeChanged:function(val){var columnVisibility=!(val==='multi'||val==='checkbox');registry.async(this.name+'.'+'selection_can_change_qty')(function(elem){elem.visible(columnVisibility);});}});});","Magento_Bundle/js/components/bundle-user-defined-checkbox.min.js":"define(['Magento_Ui/js/form/element/single-checkbox'],function(Checkbox){'use strict';return Checkbox.extend({defaults:{listens:{inputType:'onInputTypeChange'}},onInputTypeChange:function(data){data==='checkbox'||data==='multi'?this.clear().visible(false):this.visible(true);}});});","Magento_Ui/js/block-loader.min.js":"define(['ko','jquery','Magento_Ui/js/lib/knockout/template/loader','mage/template'],function(ko,$,templateLoader,template){'use strict';var blockLoaderTemplatePath='ui/block-loader',blockContentLoadingClass='_block-content-loading',blockLoader,blockLoaderClass,blockLoaderElement=$.Deferred(),loaderImageHref=$.Deferred();templateLoader.loadTemplate(blockLoaderTemplatePath).done(function(blockLoaderTemplate){loaderImageHref.done(function(loaderHref){blockLoader=template(blockLoaderTemplate.trim(),{loaderImageHref:loaderHref});blockLoader=$(blockLoader);blockLoaderClass='.'+blockLoader.attr('class');blockLoaderElement.resolve();});});function isLoadingClassRequired(element){var position=element.css('position');if(position==='absolute'||position==='fixed'){return false;}\nreturn true;}\nfunction addBlockLoader(element){element.find(':focus').trigger('blur');element.find('input:disabled, select:disabled').addClass('_disabled');element.find('input, select').prop('disabled',true);if(isLoadingClassRequired(element)){element.addClass(blockContentLoadingClass);}\nelement.append(blockLoader.clone());}\nfunction removeBlockLoader(element){if(!element.has(blockLoaderClass).length){return;}\nelement.find(blockLoaderClass).remove();element.find('input:not(\"._disabled\"), select:not(\"._disabled\")').prop('disabled',false);element.find('input:disabled, select:disabled').removeClass('_disabled');element.removeClass(blockContentLoadingClass);}\nreturn function(loaderHref){loaderImageHref.resolve(loaderHref);ko.bindingHandlers.blockLoader={update:function(element,displayBlockLoader){element=$(element);if(ko.unwrap(displayBlockLoader())){blockLoaderElement.done(addBlockLoader(element));}else{blockLoaderElement.done(removeBlockLoader(element));}}};};});","Magento_Ui/js/core/app.min.js":"define(['./renderer/types','./renderer/layout','../lib/knockout/bootstrap'],function(types,layout){'use strict';return function(data,merge){types.set(data.types);layout(data.components,undefined,true,merge);};});","Magento_Ui/js/core/renderer/layout.min.js":"define(['underscore','jquery','mageUtils','uiRegistry','./types','../../lib/logger/console-logger'],function(_,$,utils,registry,types,consoleLogger){'use strict';var templates=registry.create(),layout={},cachedConfig={};function getNodeName(parent,node,name){var parentName=parent&&parent.name;if(typeof name!=='string'){name=node.name||name;}\nreturn utils.fullPath(parentName,name);}\nfunction getNodeType(parent,node){return node.type||parent&&parent.childType;}\nfunction getDataScope(parent,node){var dataScope=node.dataScope,parentScope=parent&&parent.dataScope;return!utils.isEmpty(parentScope)?!utils.isEmpty(dataScope)?parentScope+'.'+dataScope:parentScope:dataScope||'';}\nfunction loadDeps(node){var loaded=$.Deferred(),loggerUtils=consoleLogger.utils;if(node.deps){consoleLogger.utils.asyncLog(loaded,{data:{component:node.name,deps:node.deps},messages:loggerUtils.createMessages('depsStartRequesting','depsFinishRequesting','depsLoadingFail')});}\nregistry.get(node.deps,function(deps){node.provider=node.extendProvider?deps&&deps.name:node.provider;loaded.resolve(node);});return loaded.promise();}\nfunction loadSource(node){var loaded=$.Deferred(),source=node.component;consoleLogger.info('componentStartLoading',{component:node.component});require([source],function(constr){consoleLogger.info('componentFinishLoading',{component:node.component});loaded.resolve(node,constr);},function(){consoleLogger.error('componentLoadingFail',{component:node.component});});return loaded.promise();}\nfunction initComponent(node,Constr){var component=new Constr(_.omit(node,'children'));consoleLogger.info('componentStartInitialization',{component:node.component,componentName:node.name});registry.set(node.name,component);}\nfunction run(nodes,parent,cached,merge){if(_.isBoolean(merge)&&merge){layout.merge(nodes);return false;}\nif(cached){cachedConfig[_.keys(nodes)[0]]=JSON.parse(JSON.stringify(nodes));}\n_.each(nodes||[],layout.iterator.bind(layout,parent));}\n_.extend(layout,{iterator:function(parent,node){var action=_.isString(node)?this.addChild:this.process;action.apply(this,arguments);},process:function(parent,node,name){if(!parent&&node.parent){return this.waitParent(node,name);}\nif(node.nodeTemplate){return this.waitTemplate.apply(this,arguments);}\nnode=this.build.apply(this,arguments);if(!registry.has(node.name)){this.addChild(parent,node).manipulate(node).initComponent(node);}\nif(node){run(node.children,node);}\nreturn this;},build:function(parent,node,name){var defaults=parent&&parent.childDefaults||{},children=this.filterDisabledChildren(node.children),type=getNodeType(parent,node),dataScope=getDataScope(parent,node),component,extendDeps=true,nodeName;node.children=false;node.extendProvider=true;if(node.config&&node.config.provider||node.provider){node.extendProvider=false;}\nif(node.config&&node.config.deps||node.deps){extendDeps=false;}\nnode=utils.extend({},types.get(type),defaults,node);nodeName=getNodeName(parent,node,name);if(registry.has(nodeName)){component=registry.get(nodeName);component.children=children;return component;}\nif(extendDeps&&parent&&parent.deps&&type){node.deps=parent.deps;}\n_.extend(node,node.config||{},{index:node.name||name,name:nodeName,dataScope:dataScope,parentName:utils.getPart(nodeName,-2),parentScope:utils.getPart(dataScope,-2)});node.children=children;node.componentType=node.type;delete node.type;delete node.config;if(children){node.initChildCount=_.size(children);}\nif(node.isTemplate){node.isTemplate=false;templates.set(node.name,node);registry.get(node.parentName,function(parentComp){parentComp.childTemplate=node;});return false;}\nif(node.componentDisabled===true){return false;}\nreturn node;},filterDisabledChildren:function(children){var cIds;if(children&&typeof children==='object'){cIds=Object.keys(children);if(cIds){_.each(cIds,function(cId){if(typeof children[cId]==='object'&&children[cId].hasOwnProperty('config')&&typeof children[cId].config==='object'&&children[cId].config.hasOwnProperty('componentDisabled')&&children[cId].config.componentDisabled===true){delete children[cId];}});}}\nreturn children;},initComponent:function(node){if(!node.component){return this;}\nloadDeps(node).then(loadSource).done(initComponent);return this;}});_.extend(layout,{waitTemplate:function(parent,node){var args=_.toArray(arguments);templates.get(node.nodeTemplate,function(){this.applyTemplate.apply(this,args);}.bind(this));return this;},waitParent:function(node,name){var process=this.process.bind(this);registry.get(node.parent,function(parent){process(parent,node,name);});return this;},applyTemplate:function(parent,node,name){var template=templates.get(node.nodeTemplate);node=utils.extend({},template,node);delete node.nodeTemplate;this.process(parent,node,name);}});_.extend(layout,{manipulate:function(node){var name=node.name;if(node.appendTo){this.insert(name,node.appendTo,-1);}\nif(node.prependTo){this.insert(name,node.prependTo,0);}\nif(node.insertTo){this.insertTo(name,node.insertTo);}\nreturn this;},insert:function(item,target,position){registry.get(target,function(container){container.insertChild(item,position);});return this;},insertTo:function(item,targets){_.each(targets,function(info,target){this.insert(item,target,info.position);},this);return this;},addChild:function(parent,child){var name;if(parent&&parent.component){name=child.name||child;this.insert(name,parent.name,child.sortOrder);}\nreturn this;},merge:function(components){var cachedKey=_.keys(components)[0],compared=utils.compare(cachedConfig[cachedKey],components),remove=this.filterComponents(this.getByProperty(compared.changes,'type','remove'),true),update=this.getByProperty(compared.changes,'type','update'),dataSources=this.getDataSources(components),names,index,name,component;_.each(dataSources,function(val,key){name=key.replace(/\\.children|\\.config/g,'');component=registry.get(name);component.cacheData();component.updateConfig(true,this.getFullConfig(key,components),this.getFullConfig(key,cachedConfig[cachedKey]));},this);_.each(remove,function(val){component=registry.get(val.path);if(component){component.destroy();}});update=_.compact(_.filter(update,function(val){return!_.isEqual(val.oldValue,val.value);}));_.each(update,function(val){names=val.path.split('.');index=Math.max(_.lastIndexOf(names,'config'),_.lastIndexOf(names,'children')+2);name=_.without(names.splice(0,index),'children','config').join('.');component=registry.get(name);if(val.name==='sortOrder'&&component){registry.get(component.parentName).insertChild(component,val.value);}else if(component){component.updateConfig(val.oldValue,val.value,val.path);}},this);run(components,undefined,true);},getDataSources:function(config,parentPath){var dataSources={},key,obj;for(key in config){if(config.hasOwnProperty(key)){if(key==='type'&&config[key]==='dataSource'&&config.hasOwnProperty('config')){dataSources[parentPath+'.config']=config.config;}else if(_.isObject(config[key])){obj=this.getDataSources(config[key],utils.fullPath(parentPath,key));_.each(obj,function(value,path){dataSources[path]=value;});}}}\nreturn dataSources;},getFullConfig:function(path,config){var index;path=path.split('.');index=_.lastIndexOf(path,'config');if(!~index){return false;}\npath=path.splice(0,index);_.each(path,function(val){config=config[val];});return config.config;},getByProperty:function(data,prop,propValue){return _.filter(data,function(value){return value[prop]===propValue;});},filterComponents:function(data,splitPath,index,separator,keyName){var result=[],names,length;index=-2;separator='.'||separator;keyName='children'||keyName;_.each(data,function(val){names=val.path.split(separator);length=names.length;if(names[length+index]===keyName){val.path=splitPath?_.without(names,keyName).join(separator):val.path;result.push(val);}});return result;}});return run;});","Magento_Ui/js/core/renderer/types.min.js":"define(['underscore','mageUtils'],function(_,utils){'use strict';var store={};function flatten(data){var extender=data.extends||[],result={};extender=utils.stringToArray(extender);extender.push(data);extender.forEach(function(item){if(_.isString(item)){item=store[item]||{};}\nutils.extend(result,item);});delete result.extends;return result;}\nreturn{set:function(types){types=types||{};utils.extend(store,types);_.each(types,function(data,type){store[type]=flatten(data);});},get:function(type){return store[type]||{};}};});","Magento_Ui/js/dynamic-rows/action-delete.min.js":"define(['Magento_Ui/js/form/element/abstract'],function(Abstract){'use strict';return Abstract.extend({defaults:{links:{value:false}},deleteRecord:function(index,id){this.bubble('deleteRecord',index,id);}});});","Magento_Ui/js/dynamic-rows/dnd.min.js":"define(['ko','jquery','underscore','uiElement','Magento_Ui/js/lib/view/utils/async'],function(ko,$,_,Element){'use strict';var transformProp;function getContext(elem){return ko.contextFor(elem);}\ntransformProp=(function(){var style=document.createElement('div').style,base='Transform',vendors=['webkit','moz','ms','o'],vi=vendors.length,property;if(typeof style.transform!=='undefined'){return'transform';}\nwhile(vi--){property=vendors[vi]+base;if(typeof style[property]!=='undefined'){return property;}}})();return Element.extend({defaults:{separatorsClass:{top:'_dragover-top',bottom:'_dragover-bottom'},step:'auto',tableClass:'table.admin__dynamic-rows',recordsCache:[],draggableElement:{},draggableElementClass:'_dragged',elemPositions:[],listens:{'${ $.recordsProvider }:elems':'setCacheRecords'},modules:{parentComponent:'${ $.recordsProvider }'}},initialize:function(){_.bindAll(this,'mousemoveHandler','mouseupHandler');this._super().body=$('body');return this;},initObservable:function(){this._super().observe(['recordsCache']);return this;},initListeners:function(elem,data){$(elem).on('mousedown touchstart',this.mousedownHandler.bind(this,data,elem));},mousedownHandler:function(data,elem,event){var recordNode=this.getRecordNode(elem),originRecord=$(elem).parents('tr').eq(0),drEl=this.draggableElement,$table=$(elem).parents('table').eq(0),$tableWrapper=$table.parent(),outerHight=$table.children('thead').outerHeight()===undefined?0:$table.children('thead').outerHeight();this.disableScroll();$(recordNode).addClass(this.draggableElementClass);$(originRecord).addClass(this.draggableElementClass);this.step=this.step==='auto'?originRecord.height()/ 2:this.step;drEl.originRow=originRecord;drEl.instance=recordNode=this.processingStyles(recordNode,elem);drEl.instanceCtx=this.getRecord(originRecord[0]);drEl.eventMousedownY=this.getPageY(event);drEl.minYpos=$table.offset().top-originRecord.offset().top+outerHight;drEl.maxYpos=drEl.minYpos+$table.children('tbody').outerHeight()-originRecord.outerHeight();$tableWrapper.append(recordNode);this.body.on('mousemove touchmove',this.mousemoveHandler);this.body.on('mouseup touchend',this.mouseupHandler);},mousemoveHandler:function(event){var depEl=this.draggableElement,pageY=this.getPageY(event),positionY=pageY-depEl.eventMousedownY,processingPositionY=positionY+'px',processingMaxYpos=depEl.maxYpos+'px',processingMinYpos=depEl.minYpos+'px',depElement=this.getDepElement(depEl.instance,positionY,depEl.originRow);if(depElement){depEl.depElement?depEl.depElement.elem.removeClass(depEl.depElement.className):false;depEl.depElement=depElement;depEl.depElement.insert!=='none'?depEl.depElement.elem.addClass(depElement.className):false;}else if(depEl.depElement&&depEl.depElement.insert!=='none'){depEl.depElement.elem.removeClass(depEl.depElement.className);depEl.depElement.insert='none';}\nif(positionY>depEl.minYpos&&positionY<depEl.maxYpos){$(depEl.instance)[0].style[transformProp]='translateY('+processingPositionY+')';}else if(positionY<depEl.minYpos){$(depEl.instance)[0].style[transformProp]='translateY('+processingMinYpos+')';}else if(positionY>=depEl.maxYpos){$(depEl.instance)[0].style[transformProp]='translateY('+processingMaxYpos+')';}},mouseupHandler:function(event){var depElementCtx,drEl=this.draggableElement,pageY=this.getPageY(event),positionY=pageY-drEl.eventMousedownY;this.enableScroll();drEl.depElement=this.getDepElement(drEl.instance,positionY,this.draggableElement.originRow);drEl.instance.remove();if(drEl.depElement){depElementCtx=this.getRecord(drEl.depElement.elem[0]);drEl.depElement.elem.removeClass(drEl.depElement.className);if(drEl.depElement.insert!=='none'){this.setPosition(drEl.depElement.elem,depElementCtx,drEl);}}\ndrEl.originRow.removeClass(this.draggableElementClass);this.body.off('mousemove touchmove',this.mousemoveHandler);this.body.off('mouseup touchend',this.mouseupHandler);this.draggableElement={};},setPosition:function(depElem,depElementCtx,dragData){var depElemPosition=~~depElementCtx.position;if(dragData.depElement.insert==='after'){dragData.instanceCtx.position=depElemPosition+1;}else if(dragData.depElement.insert==='before'){dragData.instanceCtx.position=depElemPosition;}},getDepElement:function(curInstance,position,row){var tableSelector=this.tableClass+' tr',$table=$(row).parents('table').eq(0),$curInstance=$(curInstance),recordsCollection=$table.find('table').length?$table.find('tbody > tr').filter(function(index,elem){return!$(elem).parents(tableSelector).length;}):$table.find('tbody > tr'),curInstancePositionTop=$curInstance.position().top,curInstancePositionBottom=curInstancePositionTop+$curInstance.height();if(position<0){return this._getDepElement(recordsCollection,'before',curInstancePositionTop);}else if(position>0){return this._getDepElement(recordsCollection,'after',curInstancePositionBottom);}},_getDepElement:function(collection,position,dragPosition){var rec,rangeEnd,rangeStart,result,className,i=0,length=collection.length;for(i;i<length;i++){rec=collection.eq(i);if(position==='before'){rangeStart=collection.eq(i).position().top-this.step;rangeEnd=rangeStart+this.step*2;className=this.separatorsClass.top;}else if(position==='after'){rangeEnd=rec.position().top+rec.height()+this.step;rangeStart=rangeEnd-this.step*2;className=this.separatorsClass.bottom;}\nif(dragPosition>rangeStart&&dragPosition<rangeEnd){result={elem:rec,insert:rec[0]===this.draggableElement.originRow[0]?'none':position,className:className};}}\nreturn result;},_setDefaultPosition:function(elem,data){var originRecord=$(elem).parents('tr').eq(0),position=originRecord.position();++position.top;$(data).css(position);},setCacheRecords:function(records){this.recordsCache(records);},processingStyles:function(data,elem){var table=$(elem).parents('table').eq(0),columns=table.find('th'),recordColumns=$(data).find('td');this._setDefaultPosition(elem,$(data));this._setColumnsWidth(columns,recordColumns);this._setTableWidth(table,$(data));return data;},_setTableWidth:function(originalTable,recordTable){recordTable.outerWidth(originalTable.outerWidth());},_setColumnsWidth:function(originColumns,recordColumns){var i=0,length=originColumns.length;for(i;i<length;i++){recordColumns.eq(i).outerWidth(originColumns.eq(i).outerWidth());}},getRecordNode:function(record){var $record=$(record),table=$record.parents('table')[0].cloneNode(true),$table=$(table);$table.find('tr').remove();$table.append($record.parents('tr')[0].cloneNode(true));return table;},getRecord:function(elem){var ctx=getContext(elem),index=_.isFunction(ctx.$index)?ctx.$index():ctx.$index;return this.recordsCache()[index];},getPageY:function(event){var pageY;if(event.type.indexOf('touch')>=0){if(event.originalEvent.touches[0]){pageY=event.originalEvent.touches[0].pageY;}else{pageY=event.originalEvent.changedTouches[0].pageY;}}else{pageY=event.pageY;}\nreturn pageY;},disableScroll:function(){document.body.addEventListener('touchmove',this.preventDefault,{passive:false});},enableScroll:function(){document.body.removeEventListener('touchmove',this.preventDefault,{passive:false});},preventDefault:function(event){event.preventDefault();}});});","Magento_Ui/js/dynamic-rows/dynamic-rows-grid.min.js":"define(['underscore','./dynamic-rows'],function(_,dynamicRows){'use strict';return dynamicRows.extend({defaults:{dataProvider:'',insertData:[],map:null,cacheGridData:[],deleteProperty:false,positionProvider:'position',dataLength:0,identificationProperty:'id',identificationDRProperty:'id',listens:{'insertData':'processingInsertData','recordData':'initElements setToInsertData'},mappingSettings:{enabled:true,distinct:true}},initialize:function(){this.setToInsertData=_.debounce(this.setToInsertData,200);return this._super();},initObservable:function(){this._super().observe(['insertData']);return this;},setToInsertData:function(){var insertData=[],obj;if(this.recordData().length&&!this.update){_.each(this.recordData(),function(recordData){obj={};obj[this.map[this.identificationProperty]]=recordData[this.identificationProperty];insertData.push(obj);},this);if(insertData.length){this.source.set(this.dataProvider,insertData);}}},initChildren:function(){this.getChildItems().forEach(function(data,index){this.processingAddChild(data,this.startIndex+index,data[this.identificationDRProperty]);},this);return this;},initElements:function(data){var newData=this.getNewData(data);this.parsePagesData(data);if(newData.length){if(this.insertData().length){this.processingAddChild(newData[0],data.length-1,newData[0][this.identificationProperty]);}}\nreturn this;},deleteRecord:function(index,recordId){this.updateInsertData(recordId);this._super();},updateInsertData:function(recordId){var data=this.getElementData(this.insertData(),recordId),prop=this.map[this.identificationDRProperty];this.insertData(_.reject(this.source.get(this.dataProvider),function(recordData){return recordData[prop].toString()===data[prop].toString();},this));},getElementData:function(array,index,property){var obj={},result;property?obj[property]=index:obj[this.map[this.identificationDRProperty]]=index;result=_.findWhere(array,obj);if(!result){property?obj[property]=index.toString():obj[this.map[this.identificationDRProperty]]=index.toString();}\nresult=_.findWhere(array,obj);return result;},processingAddChild:function(ctx,index,prop){if(this._elems.length>this.pageSize){return false;}\nthis.showSpinner(true);this.addChild(ctx,index,prop);},getNewData:function(data){var changes=[],tmpObj={};if(data.length!==this.relatedData.length){_.each(data,function(obj){tmpObj[this.identificationDRProperty]=obj[this.identificationDRProperty];if(!_.findWhere(this.relatedData,tmpObj)){changes.push(obj);}},this);}\nreturn changes;},processingInsertData:function(data){var changes,obj={};changes=this._checkGridData(data);this.cacheGridData=data;if(changes.length){obj[this.identificationDRProperty]=changes[0][this.map[this.identificationProperty]];if(_.findWhere(this.recordData(),obj)){return false;}\nchanges.forEach(function(changedObject){this.mappingValue(changedObject);},this);}},mappingValue:function(data){var obj={},tmpObj={};if(this.mappingSettings.enabled){_.each(this.map,function(prop,index){obj[index]=!_.isUndefined(data[prop])?data[prop]:'';},this);}else{obj=data;}\nif(this.mappingSettings.distinct){tmpObj[this.identificationDRProperty]=obj[this.identificationDRProperty];if(_.findWhere(this.recordData(),tmpObj)){return false;}}\nif(!obj.hasOwnProperty(this.positionProvider)){this.setMaxPosition();obj[this.positionProvider]=this.maxPosition;}\nthis.source.set(this.dataScope+'.'+this.index+'.'+this.recordData().length,obj);},_checkGridData:function(data){var cacheLength=this.cacheGridData.length,curData=data.length,max=cacheLength>curData?this.cacheGridData:data,changes=[],obj={};max.forEach(function(record,index){obj[this.map[this.identificationDRProperty]]=record[this.map[this.identificationDRProperty]];if(!_.where(this.cacheGridData,obj).length){changes.push(data[index]);}},this);return changes;}});});","Magento_Ui/js/dynamic-rows/dynamic-rows.min.js":"define(['ko','mageUtils','underscore','uiLayout','uiCollection','uiRegistry','mage/translate','jquery'],function(ko,utils,_,layout,uiCollection,registry,$t,$){'use strict';function castValue(value){if(_.isUndefined(value)||value===''||_.isNull(value)){return false;}\nreturn value;}\nfunction compareArrays(base,current){var index=0,length=base.length;if(base.length!==current.length){return false;}\nfor(index;index<length;index++){if(_.isArray(base[index])&&_.isArray(current[index])){if(!compareArrays(base[index],current[index])){return false;}}else if(typeof base[index]==='object'&&typeof current[index]==='object'){if(!compareObjects(base[index],current[index])){return false;}}else if(castValue(base[index])!=castValue(current[index])){return false;}}\nreturn true;}\nfunction compareObjects(base,current){var prop;for(prop in base){if(_.isArray(base[prop])&&_.isArray(current[prop])){if(!compareArrays(base[prop],current[prop])){return false;}}else if(typeof base[prop]==='object'&&typeof current[prop]==='object'){if(!compareObjects(base[prop],current[prop])){return false;}}else if(castValue(base[prop])!=castValue(current[prop])){return false;}}\nreturn true;}\nreturn uiCollection.extend({defaults:{defaultRecord:false,columnsHeader:true,columnsHeaderAfterRender:false,columnsHeaderClasses:'',labels:[],recordTemplate:'record',collapsibleHeader:false,additionalClasses:{},visible:true,disabled:false,fit:false,addButton:true,addButtonLabel:$t('Add'),recordData:[],maxPosition:0,deleteProperty:'delete',identificationProperty:'record_id',deleteValue:true,showSpinner:true,isDifferedFromDefault:false,defaultState:[],defaultPagesState:{},pagesChanged:{},hasInitialPagesState:{},changed:false,fallbackResetTpl:'ui/form/element/helper/fallback-reset-link',dndConfig:{name:'${ $.name }_dnd',component:'Magento_Ui/js/dynamic-rows/dnd',template:'ui/dynamic-rows/cells/dnd',recordsProvider:'${ $.name }',enabled:true},templates:{record:{parent:'${ $.$data.collection.name }',name:'${ $.$data.index }',dataScope:'${ $.$data.collection.index }.${ $.name }',nodeTemplate:'${ $.parent }.${ $.$data.collection.recordTemplate }'}},links:{recordData:'${ $.provider }:${ $.dataScope }.${ $.index }'},listens:{visible:'setVisible',disabled:'setDisabled',childTemplate:'initHeader',recordTemplate:'onUpdateRecordTemplate',recordData:'setDifferedFromDefault parsePagesData setRecordDataToCache',currentPage:'changePage',elems:'checkSpinner',changed:'updateTrigger'},modules:{dnd:'${ $.dndConfig.name }'},pages:1,pageSize:20,relatedData:[],currentPage:1,recordDataCache:[],startIndex:0},setRecordDataToCache:function(data){this.recordDataCache=data;},initialize:function(){_.bindAll(this,'processingDeleteRecord','onChildrenUpdate','checkDefaultState','renderColumnsHeader','deleteHandler','setDefaultState');this._super().initChildren().initDnd().initDefaultRecord().setInitialProperty().setColumnsHeaderListener().checkSpinner();this.on('recordData',this.checkDefaultState);return this;},bubble:function(event){if(event==='deleteRecord'||event==='update'){return false;}\nreturn this._super();},initDnd:function(){if(this.dndConfig.enabled){layout([this.dndConfig]);}\nreturn this;},destroy:function(){if(this.dnd()){this.dnd().destroy();}\nthis._super();},initObservable:function(){this._super().track('childTemplate').observe(['pages','currentPage','recordData','columnsHeader','visible','disabled','labels','showSpinner','isDifferedFromDefault','changed']);return this;},initElement:function(elem){this._super();elem.on({'deleteRecord':this.deleteHandler,'update':this.onChildrenUpdate,'addChild':this.setDefaultState});return this;},deleteHandler:function(index,id){var defaultState;this.setDefaultState();defaultState=this.defaultPagesState[this.currentPage()];this.processingDeleteRecord(index,id);this.pagesChanged[this.currentPage()]=!compareArrays(defaultState,this.arrayFilter(this.getChildItems()));this.changed(_.some(this.pagesChanged));},setInitialProperty:function(){if(_.isArray(this.recordData())){this.recordData.each(function(data,index){this.source.set(this.dataScope+'.'+this.index+'.'+index+'.initialize',true);},this);}\nreturn this;},onChildrenUpdate:function(state){var changed,dataScope,changedElemDataScope;if(state&&!this.hasInitialPagesState[this.currentPage()]){this.setDefaultState();changed=this.getChangedElems(this.elems());dataScope=this.elems()[0].dataScope.split('.');dataScope.splice(dataScope.length-1,1);changed.forEach(function(elem){changedElemDataScope=elem.dataScope.split('.');changedElemDataScope.splice(0,dataScope.length);changedElemDataScope[0]=(parseInt(changedElemDataScope[0],10)-this.pageSize*(this.currentPage()-1)).toString();this.setValueByPath(this.defaultPagesState[this.currentPage()],changedElemDataScope,elem.initialValue);},this);}\nif(this.defaultPagesState[this.currentPage()]){this.setChangedForCurrentPage();}},setDefaultState:function(data){var componentData,childItems;if(!this.hasInitialPagesState[this.currentPage()]){childItems=this.getChildItems();componentData=childItems.length?utils.copy(childItems):utils.copy(this.getChildItems(this.recordDataCache));componentData.forEach(function(dataObj){if(dataObj.hasOwnProperty('initialize')){delete dataObj.initialize;}});this.hasInitialPagesState[this.currentPage()]=true;this.defaultPagesState[this.currentPage()]=data?data:this.arrayFilter(componentData);}},setValueByPath:function(obj,path,value){var prop;if(_.isString(path)){path=path.split('.');}\nif(path.length-1){prop=obj[path[0]];path.splice(0,1);this.setValueByPath(prop,path,value);}else if(path.length&&obj){obj[path[0]]=value;}},getChangedElems:function(array,changed){changed=changed||[];array.forEach(function(elem){if(_.isFunction(elem.elems)){this.getChangedElems(elem.elems(),changed);}else if(_.isFunction(elem.hasChanged)&&elem.hasChanged()){changed.push(elem);}},this);return changed;},setColumnsHeaderListener:function(){if(this.columnsHeaderAfterRender){this.on('recordData',this.renderColumnsHeader);if(_.isArray(this.recordData())&&this.recordData().length){this.renderColumnsHeader();}}\nreturn this;},checkDefaultState:function(){var isRecordDataArray=_.isArray(this.recordData()),initialize,hasNotDefaultRecords=isRecordDataArray?!!this.recordData().filter(function(data){return!data.initialize;}).length:false;if(!this.hasInitialPagesState[this.currentPage()]&&isRecordDataArray&&hasNotDefaultRecords){this.hasInitialPagesState[this.currentPage()]=true;this.defaultPagesState[this.currentPage()]=utils.copy(this.getChildItems().filter(function(data){initialize=data.initialize;delete data.initialize;return initialize;}));this.setChangedForCurrentPage();}else if(this.hasInitialPagesState[this.currentPage()]){this.setChangedForCurrentPage();}},arrayFilter:function(data){var prop;data.forEach(function(elem){for(prop in elem){if(_.isArray(elem[prop])){elem[prop]=_.filter(elem[prop],function(elemProp){return elemProp[this.deleteProperty]!==this.deleteValue;},this);elem[prop].forEach(function(elemProp){if(_.isArray(elemProp)){elem[prop]=this.arrayFilter(elemProp);}},this);}}},this);return data;},updateTrigger:function(val){this.trigger('update',val);},hasChanged:function(){return this.changed();},renderColumnsHeader:function(){this.recordData().length?this.columnsHeader(true):this.columnsHeader(false);},initDefaultRecord:function(){if(this.defaultRecord&&!this.recordData().length){this.addChild();}\nreturn this;},createHeaderTemplate:function(prop){var visible=prop.visible!==false,disabled=_.isUndefined(prop.disabled)?this.disabled():prop.disabled;return{visible:ko.observable(visible),disabled:ko.observable(disabled)};},initHeader:function(){var labels=[],data;if(!this.labels().length){_.each(this.childTemplate.children,function(cell){data=this.createHeaderTemplate(cell.config);cell.config.labelVisible=false;_.extend(data,{defaultLabelVisible:data.visible(),label:cell.config.label,name:cell.name,required:!!cell.config.validation,columnsHeaderClasses:cell.config.columnsHeaderClasses,sortOrder:cell.config.sortOrder});labels.push(data);},this);this.labels(_.sortBy(labels,'sortOrder'));}},setMaxPosition:function(position,elem){if(position||position===0){this.checkMaxPosition(position);this.sort(position,elem);}else{this.maxPosition+=1;}},sort:function(position,elem){var that=this,sorted,updatedCollection;if(this.elems().filter(function(el){return el.position||el.position===0;}).length!==this.getChildItems().length){return false;}\nif(!elem.containers.length){registry.get(elem.name,function(){that.sort(position,elem);});return false;}\nsorted=this.elems().sort(function(propOne,propTwo){return~~propOne.position-~~propTwo.position;});updatedCollection=this.updatePosition(sorted,position,elem.name);this.elems(updatedCollection);},checkSpinner:function(elems){this.showSpinner(!(!this.recordData().length||elems&&elems.length===this.getChildItems().length));},parsePagesData:function(data){this.relatedData=this.deleteProperty?_.filter(data,function(elem){return elem&&elem[this.deleteProperty]!==this.deleteValue;},this):data;this._updatePagesQuantity();},reinitRecordData:function(){this.recordData(_.filter(this.recordData(),function(elem){return elem&&elem[this.deleteProperty]!==this.deleteValue;},this));},getChildItems:function(data,page){var dataRecord=data||this.relatedData,startIndex;this.startIndex=(~~this.currentPage()-1)*this.pageSize;startIndex=page||this.startIndex;return dataRecord.slice(startIndex,this.startIndex+parseInt(this.pageSize,10));},getRecordCount:function(){return _.filter(this.recordData(),function(record){return record&&record[this.deleteProperty]!==this.deleteValue;},this).length;},getColumnsCount:function(){return this.labels().length+(this.dndConfig.enabled?1:0);},processingAddChild:function(ctx,index,prop){this.bubble('addChild',false);if(this.relatedData.length&&this.relatedData.length%this.pageSize===0){this.pages(this.pages()+1);this.nextPage();}else if(~~this.currentPage()!==this.pages()){this.currentPage(this.pages());}\nthis.addChild(ctx,index,prop);},processingDeleteRecord:function(index,recordId){this.deleteRecord(index,recordId);},changePage:function(page){this.clear();if(page===1&&!this.recordData().length){return false;}\nif(~~page>this.pages()){this.currentPage(this.pages());return false;}else if(~~page<1){this.currentPage(1);return false;}\nthis.initChildren();return true;},isFirst:function(){return this.currentPage()===1;},isLast:function(){return this.currentPage()===this.pages();},nextPage:function(){this.currentPage(this.currentPage()+1);},previousPage:function(){this.currentPage(this.currentPage()-1);},updatePosition:function(collection,position,elemName){var curPos,parsePosition=~~position,result=_.filter(collection,function(record){return~~record.position===parsePosition;});if(result[1]){curPos=parsePosition+1;result[0].name===elemName?result[1].position=curPos:result[0].position=curPos;this.updatePosition(collection,curPos);}\nreturn collection;},checkMaxPosition:function(position){var max=0,pos;this.recordData.each(function(record){pos=~~record.position;pos>max?max=pos:false;});max<position?max=position:false;this.maxPosition=max;},removeMaxPosition:function(){this.maxPosition=0;this.elems.each(function(record){this.maxPosition<record.position?this.maxPosition=~~record.position:false;},this);},onUpdateRecordTemplate:function(recordName){if(recordName){this.recordTemplate=recordName;this.reload();}},deleteRecord:function(index,recordId){var recordInstance,lastRecord,recordsData,lastRecordIndex;if(this.deleteProperty){recordsData=this.recordData();recordInstance=_.find(this.elems(),function(elem){return elem.index===index;});recordInstance.destroy();this.elems([]);this._updateCollection();this.removeMaxPosition();recordsData[recordInstance.index][this.deleteProperty]=this.deleteValue;this.recordData(recordsData);this.reinitRecordData();this.reload();}else{this.update=true;if(~~this.currentPage()===this.pages()){lastRecordIndex=this.startIndex+this.getChildItems().length-1;lastRecord=_.findWhere(this.elems(),{index:lastRecordIndex})||_.findWhere(this.elems(),{index:lastRecordIndex.toString()});lastRecord.destroy();}\nthis.removeMaxPosition();recordsData=this._getDataByProp(recordId);this._updateData(recordsData);this.update=false;}\nthis._reducePages();this._sort();},_updatePagesQuantity:function(){var pages=Math.ceil(this.relatedData.length / this.pageSize)||1;this.pages(pages);},_reducePages:function(){if(this.pages()<~~this.currentPage()){this.currentPage(this.pages());}},_getDataByProp:function(id,prop){prop=prop||this.identificationProperty;return _.reject(this.getChildItems(),function(recordData){return recordData[prop].toString()===id.toString();},this);},_sort:function(){this.elems(this.elems().sort(function(propOne,propTwo){return~~propOne.position-~~propTwo.position;}));},_updateData:function(data){var elems=_.clone(this.elems()),path,dataArr;dataArr=this.recordData.splice(this.startIndex,this.recordData().length-this.startIndex);dataArr.splice(0,this.pageSize);elems=_.sortBy(this.elems(),function(elem){return~~elem.index;});data.concat(dataArr).forEach(function(rec,idx){if(elems[idx]){elems[idx].recordId=rec[this.identificationProperty];}\nif(!rec.position){rec.position=this.maxPosition;this.setMaxPosition();}\npath=this.dataScope+'.'+this.index+'.'+(this.startIndex+idx);this.source.set(path,rec);},this);this.elems(elems);},reload:function(){this.clear();this.initChildren(false,true);this._updatePagesQuantity();this._reducePages();},updatePageSize:function(component,event){this.pageSize=$(event.target).val();this.reload();},clear:function(){this.destroyChildren();return this;},reset:function(){var elems=this.elems();_.each(elems,function(elem){if(_.isFunction(elem.reset)){elem.reset();}});},setClasses:function(data){var additional;if(_.isString(data.additionalClasses)){additional=data.additionalClasses.split(' ');data.additionalClasses={};additional.forEach(function(name){data.additionalClasses[name]=true;});}\nif(!data.additionalClasses){data.additionalClasses={};}\n_.extend(data.additionalClasses,{'_fit':data.fit,'_required':data.required,'_error':data.error,'_empty':!this.elems().length,'_no-header':this.columnsHeaderAfterRender||this.collapsibleHeader});return data.additionalClasses;},initChildren:function(){this.showSpinner(true);this.getChildItems().forEach(function(data,index){this.addChild(data,this.startIndex+index);},this);return this;},setVisible:function(state){this.elems.each(function(record){record.setVisible(state);},this);},setDisabled:function(state){this.elems.each(function(record){record.setDisabled(state);},this);},setVisibilityColumn:function(index,state){this.elems.each(function(record){record.setVisibilityColumn(index,state);},this);},setDisabledColumn:function(index,state){this.elems.each(function(record){record.setDisabledColumn(index,state);},this);},addChild:function(data,index,prop){var template=this.templates.record,child;index=index||_.isNumber(index)?index:this.recordData().length;prop=prop||_.isNumber(prop)?prop:index;_.extend(this.templates.record,{recordId:prop});child=utils.template(template,{collection:this,index:index});layout([child]);return this;},restoreToDefault:function(){this.recordData(utils.copy(this.default));this.reload();},setDifferedFromDefault:function(){var recordData;if(this.default){recordData=utils.copy(this.recordData());Array.isArray(recordData)&&recordData.forEach(function(item){delete item['record_id'];});this.isDifferedFromDefault(!_.isEqual(recordData,this.default));}},setChangedForCurrentPage:function(){this.pagesChanged[this.currentPage()]=!compareArrays(this.defaultPagesState[this.currentPage()],this.arrayFilter(this.getChildItems()));this.changed(_.some(this.pagesChanged));}});});","Magento_Ui/js/dynamic-rows/record.min.js":"define(['underscore','uiCollection','uiRegistry'],function(_,uiCollection,registry){'use strict';return uiCollection.extend({defaults:{visible:true,disabled:true,headerLabel:'',label:'',positionProvider:'position',imports:{data:'${ $.provider }:${ $.dataScope }'},listens:{position:'initPosition',elems:'setColumnVisibleListener'},links:{position:'${ $.name }.${ $.positionProvider }:value'},exports:{recordId:'${ $.provider }:${ $.dataScope }.record_id'},modules:{parentComponent:'${ $.parentName }'}},initialize:function(){var self=this;this._super();registry.async(this.name+'.'+this.positionProvider)(function(component){component.hasChanged=function(){return this.value().toString()!=this.initialValue.toString();};if(!component.initialValue){component.initialValue=self.parentComponent().maxPosition;component.bubble('update',component.hasChanged());}});return this;},initConfig:function(){this._super();this.label=this.label||this.headerLabel;return this;},initObservable:function(){this._super().track('position').observe(['visible','disabled','data','label']);return this;},initPosition:function(position){var pos=parseInt(position,10);this.parentComponent().setMaxPosition(pos,this);if(!pos&&pos!==0){this.position=this.parentComponent().maxPosition;}},setColumnVisibleListener:function(){var elem=_.find(this.elems(),function(curElem){return!curElem.hasOwnProperty('visibleListener');});if(!elem){return;}\nthis.childVisibleListener(elem);if(!elem.visibleListener){elem.on('visible',this.childVisibleListener.bind(this,elem));}\nelem.visibleListener=true;},childVisibleListener:function(data){this.setVisibilityColumn(data.index,data.visible());},reset:function(){var elems=this.elems(),nameIsEqual,dataScopeIsEqual;_.each(elems,function(elem){nameIsEqual=this.name+'.'+this.positionProvider===elem.name;dataScopeIsEqual=this.dataScope===elem.dataScope;if(!(nameIsEqual||dataScopeIsEqual)&&_.isFunction(elem.reset)){elem.reset();}},this);return this;},clear:function(){var elems=this.elems(),nameIsEqual,dataScopeIsEqual;_.each(elems,function(elem){nameIsEqual=this.name+'.'+this.positionProvider===elem.name;dataScopeIsEqual=this.dataScope===elem.dataScope;if(!(nameIsEqual||dataScopeIsEqual)&&_.isFunction(elem.reset)){elem.clear();}},this);return this;},getLabel:function(label){if(_.isString(label)){this.label(label);}else if(label&&this.label()){return this.label();}else{this.label(this.headerLabel);}\nreturn this.label();},setVisible:function(state){this.elems.each(function(cell){cell.visible(state);});},setVisibilityColumn:function(index,state){var elems=this.elems(),curElem=parseInt(index,10),label;if(!this.parentComponent()){return false;}\nif(_.isNaN(curElem)){_.findWhere(elems,{index:index}).visible(state);label=_.findWhere(this.parentComponent().labels(),{name:index});label.defaultLabelVisible&&label.visible(state);}else{elems[curElem].visible(state);}},setDisabled:function(state){this.elems.each(function(cell){cell.disabled(state);});},setDisabledColumn:function(index,state){index=~~index;this.elems()[index].disabled(state);}});});","Magento_Ui/js/form/adapter.min.js":"define(['jquery','underscore','Magento_Ui/js/form/adapter/buttons'],function($,_,buttons){'use strict';var selectorPrefix='',eventPrefix;function initListener(callback,action){var selector=selectorPrefix?selectorPrefix+' '+buttons[action]:buttons[action],elem=$(selector)[0];if(!elem){return;}\nif(elem.onclick){elem.onclick=null;}\n$(elem).on('click'+eventPrefix,callback);}\nfunction destroyListener(action){var selector=selectorPrefix?selectorPrefix+' '+buttons[action]:buttons[action],elem=$(selector)[0];if(!elem){return;}\nif(elem.onclick){elem.onclick=null;}\n$(elem).off('click'+eventPrefix);}\nreturn{on:function(handlers,selectorPref,eventPref){selectorPrefix=selectorPrefix||selectorPref;eventPrefix=eventPref;_.each(handlers,initListener);selectorPrefix='';},off:function(handlers,eventPref){eventPrefix=eventPref;_.each(handlers,destroyListener);}};});","Magento_Ui/js/form/button-adapter.min.js":"define(['uiClass','jquery','underscore','uiRegistry'],function(Class,$,_,registry){'use strict';return Class.extend({initialize:function(config,elem){return this._super().initActions().initAdapter(elem);},initActions:function(){var callbacks=[];_.each(this.actions,function(action){callbacks.push({action:registry.async(action.targetName),args:_.union([action.actionName],action.params)});});this.callback=function(){_.each(callbacks,function(callback){callback.action.apply(callback.action,callback.args);});};return this;},initAdapter:function(elem){$(elem).on('click',this.callback);return this;}});});","Magento_Ui/js/form/client.min.js":"define(['jquery','underscore','mageUtils','uiClass'],function($,_,utils,Class){'use strict';function beforeSave(data,url,selectorPrefix,messagesClass){var save=$.Deferred();data=utils.serialize(utils.filterFormData(data));data['form_key']=window.FORM_KEY;if(!url||url==='undefined'){return save.resolve();}\n$('body').trigger('processStart');$.ajax({url:url,data:data,success:function(resp){if(!resp.error){save.resolve();return true;}\n$('body').notification('clear');$.each(resp.messages||[resp.message]||[],function(key,message){$('body').notification('add',{error:resp.error,message:message,insertMethod:function(msg){var $wrapper=$('<div></div>').addClass(messagesClass).html(msg);$('.page-main-actions',selectorPrefix).after($wrapper);$('html, body').animate({scrollTop:$('.page-main-actions',selectorPrefix).offset().top});}});});},complete:function(){$('body').trigger('processStop');}});return save.promise();}\nreturn Class.extend({save:function(data,options){var url=this.urls.beforeSave,save=this._save.bind(this,data,options);beforeSave(data,url,this.selectorPrefix,this.messagesClass).then(save);return this;},_save:function(data,options){var url=this.urls.save;$('body').trigger('processStart');options=options||{};if(!options.redirect){url+='back/edit';}\nif(options.ajaxSave){utils.ajaxSubmit({url:url,data:data},options);$('body').trigger('processStop');return this;}\nutils.submit({url:url,data:data},options.attributes);return this;}});});","Magento_Ui/js/form/form.min.js":"define(['underscore','Magento_Ui/js/lib/spinner','rjsResolver','./adapter','uiCollection','mageUtils','jquery','Magento_Ui/js/core/app','mage/validation'],function(_,loader,resolver,adapter,Collection,utils,$,app){'use strict';function prepareParams(params){var result='?';_.each(params,function(value,key){result+=key+'='+value+'&';});return result.slice(0,-1);}\nfunction collectData(items){var result={},name;items=Array.prototype.slice.call(items);items.forEach(function(item){switch(item.type){case'checkbox':result[item.name]=+!!item.checked;break;case'radio':if(item.checked){result[item.name]=item.value;}\nbreak;case'select-multiple':name=item.name.substring(0,item.name.length-2);result[name]=_.pluck(item.selectedOptions,'value');break;default:result[item.name]=item.value;}});return result;}\nfunction makeRequest(params,data,url){var save=$.Deferred();data=utils.serialize(data);data['form_key']=window.FORM_KEY;if(!url){save.resolve();}\n$('body').trigger('processStart');$.ajax({url:url+prepareParams(params),data:data,dataType:'json',success:function(resp){if(resp.ajaxExpired){window.location.href=resp.ajaxRedirect;}\nif(!resp.error){save.resolve(resp);return true;}\n$('body').notification('clear');$.each(resp.messages,function(key,message){$('body').notification('add',{error:resp.error,message:message,insertMethod:function(msg){$('.page-main-actions').after(msg);}});});},complete:function(){$('body').trigger('processStop');}});return save.promise();}\nfunction isValidFields(items){var result=true;_.each(items,function(item){if(!$.validator.validateSingleElement(item)){result=false;}});return result;}\nreturn Collection.extend({defaults:{additionalFields:[],additionalInvalid:false,selectorPrefix:'.page-content',messagesClass:'messages',errorClass:'.admin__field._error',eventPrefix:'.${ $.index }',ajaxSave:false,ajaxSaveType:'default',imports:{reloadUrl:'${ $.provider}:reloadUrl'},listens:{selectorPrefix:'destroyAdapter initAdapter','${ $.name }.${ $.reloadItem }':'params.set reload'},exports:{selectorPrefix:'${ $.provider }:client.selectorPrefix',messagesClass:'${ $.provider }:client.messagesClass'}},initialize:function(){this._super().initAdapter();resolver(this.hideLoader,this);return this;},initObservable:function(){return this._super().observe(['responseData','responseStatus']);},initConfig:function(){this._super();this.selector='[data-form-part='+this.namespace+']';return this;},initAdapter:function(){adapter.on({'reset':this.reset.bind(this),'save':this.save.bind(this,true,{}),'saveAndContinue':this.save.bind(this,false,{})},this.selectorPrefix,this.eventPrefix);return this;},destroyAdapter:function(){adapter.off(['reset','save','saveAndContinue'],this.eventPrefix);return this;},hideLoader:function(){loader.get(this.name).hide();return this;},save:function(redirect,data){this.validate();if(!this.additionalInvalid&&!this.source.get('params.invalid')){this.setAdditionalData(data).submit(redirect);}else{this.focusInvalid();}},focusInvalid:function(){var invalidField=_.find(this.delegate('checkInvalid'));if(!_.isUndefined(invalidField)&&_.isFunction(invalidField.focused)){invalidField.focused(true);}\nreturn this;},setAdditionalData:function(data){_.each(data,function(value,name){this.source.set('data.'+name,value);},this);return this;},submit:function(redirect){var additional=collectData(this.additionalFields),source=this.source;_.each(additional,function(value,name){source.set('data.'+name,value);});source.save({redirect:redirect,ajaxSave:this.ajaxSave,ajaxSaveType:this.ajaxSaveType,response:{data:this.responseData,status:this.responseStatus},attributes:{id:this.namespace}});},validate:function(){this.additionalFields=document.querySelectorAll(this.selector);this.source.set('params.invalid',false);this.source.trigger('data.validate');this.set('additionalInvalid',!isValidFields(this.additionalFields));},reset:function(){this.source.trigger('data.reset');$('[data-bind*=datepicker]').val('');},overload:function(){this.source.trigger('data.overload');},reload:function(){makeRequest(this.params,this.data,this.reloadUrl).then(function(data){app(data,true);});}});});","Magento_Ui/js/form/provider.min.js":"define(['underscore','uiElement','./client','mageUtils'],function(_,Element,Client,utils){'use strict';return Element.extend({defaults:{clientConfig:{urls:{save:'${ $.submit_url }',beforeSave:'${ $.validate_url }'}},ignoreTmpls:{data:true}},initialize:function(){this._super().initClient();return this;},initClient:function(){this.client=new Client(this.clientConfig);return this;},save:function(options){var data=this.get('data');this.client.save(data,options);return this;},updateConfig:function(isProvider,newData,oldData){if(isProvider===true){this.setData(oldData,newData,this);}\nreturn this;},setData:function(oldData,newData,current,parentPath){_.each(newData,function(val,key){if(_.isObject(val)||_.isArray(val)){this.setData(oldData[key],val,current[key],utils.fullPath(parentPath,key));}else if(val!=oldData[key]&&oldData[key]==current[key]){this.set(utils.fullPath(parentPath,key),val);}},this);}});});","Magento_Ui/js/form/switcher.min.js":"define(['underscore','uiRegistry','uiClass'],function(_,registry,Class){'use strict';return Class.extend({defaults:{rules:[]},initialize:function(){this._super().initRules();return this;},initRules:function(){this.rules.forEach(this.initRule,this);return this;},initRule:function(rule){var handler=this.onValueChange.bind(this,rule);if(!rule.target){rule.target=this.target;}\nif(!rule.property){rule.property=this.property;}\nregistry.get(rule.target,function(target){this.applyRule(rule,target.get(rule.property));target.on(rule.property,handler);}.bind(this));return this;},addRule:function(rule){this.rules.push(rule);this.initRule(rule);return this;},applyRule:function(rule,value){var actions=rule.actions;if(rule.value!=value){return;}else if(rule.strict){return;}\nactions.forEach(this.applyAction,this);},applyAction:function(action){registry.get(action.target,function(target){var callback=target[action.callback];callback.apply(target,action.params||[]);});},onValueChange:function(rule,value){this.applyRule(rule,value);}});});","Magento_Ui/js/form/adapter/buttons.min.js":"define(function(){'use strict';return{'reset':'#reset','save':'#save','saveAndContinue':'#save_and_continue'};});","Magento_Ui/js/form/components/area.min.js":"define(['underscore','./tab'],function(_,Tab){'use strict';return Tab.extend({defaults:{uniqueNs:'params.activeArea',template:'ui/area',changed:false,loading:false},initialize:function(){_.bindAll(this,'onChildrenUpdate','onContentLoading');return this._super();},initObservable:function(){this._super().observe('changed loading');return this;},initElement:function(elem){this._super();elem.on({'update':this.onChildrenUpdate,'loading':this.onContentLoading});return this;},onChildrenUpdate:function(hasChanged){if(!hasChanged){hasChanged=_.some(this.delegate('hasChanged'));}\nthis.changed(hasChanged);},onContentLoading:function(isLoading){this.loading(isLoading);}});});","Magento_Ui/js/form/components/button.min.js":"define(['uiElement','uiRegistry','uiLayout','mageUtils','underscore'],function(Element,registry,layout,utils,_){'use strict';return Element.extend({defaults:{buttonClasses:{},additionalClasses:{},displayArea:'outsideGroup',displayAsLink:false,elementTmpl:'ui/form/element/button',template:'ui/form/components/button/simple',visible:true,disabled:false,title:'',buttonTextId:'',ariLabelledby:''},initialize:function(){return this._super()._setClasses()._setButtonClasses();},initObservable:function(){return this._super().observe(['visible','disabled','title','childError']);},action:function(){this.actions.forEach(this.applyAction,this);},applyAction:function(action){var targetName=action.targetName,params=utils.copy(action.params)||[],actionName=action.actionName,target;if(!registry.has(targetName)){this.getFromTemplate(targetName);}\ntarget=registry.async(targetName);if(target&&typeof target==='function'&&actionName){params.unshift(actionName);target.apply(target,params);}},getFromTemplate:function(targetName){var parentName=targetName.split('.'),index=parentName.pop(),child;parentName=parentName.join('.');child=utils.template({parent:parentName,name:index,nodeTemplate:targetName});layout([child]);},_setClasses:function(){if(typeof this.additionalClasses==='string'){if(this.additionalClasses===''){this.additionalClasses={};return this;}\nthis.additionalClasses=this.additionalClasses.trim().split(' ').reduce(function(classes,name){classes[name]=true;return classes;},{});}\nreturn this;},_setButtonClasses:function(){var additional=this.buttonClasses;if(_.isString(additional)){this.buttonClasses={};if(additional.trim().length){additional=additional.trim().split(' ');additional.forEach(function(name){if(name.length){this.buttonClasses[name]=true;}},this);}}\n_.extend(this.buttonClasses,{'action-basic':!this.displayAsLink,'action-additional':this.displayAsLink});return this;}});});","Magento_Ui/js/form/components/collection.min.js":"define(['underscore','mageUtils','uiRegistry','uiComponent','uiLayout','Magento_Ui/js/modal/confirm'],function(_,utils,registry,Component,layout,confirm){'use strict';var childTemplate={parent:'${ $.$data.name }',name:'${ $.$data.childIndex }',dataScope:'${ $.name }',nodeTemplate:'${ $.$data.name }.${ $.$data.itemTemplate }'};return Component.extend({defaults:{lastIndex:0,template:'ui/form/components/collection'},initialize:function(){this._super().initChildren();return this;},initElement:function(elem){this._super();elem.activate();this.bubble('update');return this;},initChildren:function(){var children=this.source.get(this.dataScope),initial=this.initialItems=[];_.each(children,function(item,index){initial.push(index);this.addChild(index);},this);return this;},addChild:function(index){this.childIndex=!_.isString(index)?'new_'+this.lastIndex++:index;layout([utils.template(childTemplate,this)]);return this;},hasChanged:function(){var initial=this.initialItems,current=this.elems.pluck('index'),changed=!utils.equalArrays(initial,current);return changed||this.elems.some(function(elem){return _.some(elem.delegate('hasChanged'));});},validate:function(){var elems;this.allValid=true;elems=this.elems.sortBy(function(elem){return!elem.active();});elems=elems.map(this._validate,this);return _.flatten(elems);},_validate:function(elem){var result=elem.delegate('validate'),invalid;invalid=_.some(result,function(item){return!item.valid;});if(this.allValid&&invalid){this.allValid=false;elem.activate();}\nreturn result;},removeAddress:function(elem){var self=this;confirm({content:this.removeMessage,actions:{confirm:function(){self._removeAddress(elem);}}});},_removeAddress:function(elem){var isActive=elem.active(),first;elem.destroy();first=this.elems.first();if(first&&isActive){first.activate();}\nthis.bubble('update');}});});","Magento_Ui/js/form/components/fieldset.min.js":"define(['Magento_Ui/js/lib/collapsible','underscore'],function(Collapsible,_){'use strict';return Collapsible.extend({defaults:{template:'ui/form/fieldset',collapsible:false,changed:false,loading:false,error:false,opened:false,level:0,visible:true,initializeFieldsetDataByDefault:false,disabled:false,listens:{'opened':'onVisibilityChange'},additionalClasses:{}},initialize:function(){_.bindAll(this,'onChildrenUpdate','onChildrenError','onContentLoading');return this._super()._setClasses();},initConfig:function(){this._super();this._wasOpened=this.opened||!this.collapsible;return this;},initObservable:function(){this._super().observe('changed loading error visible');return this;},initElement:function(elem){elem.initContainer(this);elem.on({'update':this.onChildrenUpdate,'loading':this.onContentLoading,'error':this.onChildrenError});if(this.disabled){try{elem.disabled(true);}\ncatch(e){}}\nreturn this;},onChildrenUpdate:function(hasChanged){if(!hasChanged){hasChanged=_.some(this.delegate('hasChanged'));}\nthis.bubble('update',hasChanged);this.changed(hasChanged);},_setClasses:function(){var additional=this.additionalClasses,classes;if(_.isString(additional)){additional=this.additionalClasses.split(' ');classes=this.additionalClasses={};additional.forEach(function(name){classes[name]=true;},this);}\n_.extend(this.additionalClasses,{'admin__collapsible-block-wrapper':this.collapsible,_show:this.opened,_hide:!this.opened,_disabled:this.disabled});return this;},onVisibilityChange:function(isOpened){if(!this._wasOpened){this._wasOpened=isOpened;}},onChildrenError:function(message){var hasErrors=false;if(!message){hasErrors=this._isChildrenHasErrors(hasErrors,this);}\nthis.error(hasErrors||message);if(hasErrors||message){this.open();}},_isChildrenHasErrors:function(hasErrors,container){var self=this;if(hasErrors===false&&container.hasOwnProperty('elems')){hasErrors=container.elems.some('error');if(hasErrors===false&&container.hasOwnProperty('_elems')){container._elems.forEach(function(child){if(hasErrors===false){hasErrors=self._isChildrenHasErrors(hasErrors,child);}});}}\nreturn hasErrors;},onContentLoading:function(isLoading){this.loading(isLoading);}});});","Magento_Ui/js/form/components/group.min.js":"define(['underscore','uiCollection'],function(_,Collection){'use strict';return Collection.extend({defaults:{visible:true,label:'',showLabel:true,required:false,template:'ui/group/group',fieldTemplate:'ui/form/field',breakLine:true,validateWholeGroup:false,additionalClasses:{}},initialize:function(){this._super()._setClasses();return this;},initObservable:function(){this._super().observe('visible').observe({required:!!+this.required});return this;},_setClasses:function(){var additional=this.additionalClasses,classes;if(_.isString(additional)){additional=this.additionalClasses.split(' ');classes=this.additionalClasses={};additional.forEach(function(name){classes[name]=true;},this);}\n_.extend(this.additionalClasses,{'admin__control-grouped':!this.breakLine,'admin__control-fields':this.breakLine,required:this.required,_error:this.error,_disabled:this.disabled});return this;},isSingle:function(){return this.elems.getLength()===1;},isMultiple:function(){return this.elems.getLength()>1;},getPreview:function(){return this.elems.map('getPreview');}});});","Magento_Ui/js/form/components/html.min.js":"define(['jquery','underscore','uiComponent'],function($,_,Component){'use strict';return Component.extend({defaults:{content:'',showSpinner:false,loading:false,visible:true,template:'ui/content/content',additionalClasses:{},ignoreTmpls:{content:true}},initialize:function(){_.bindAll(this,'onContainerToggle','onDataLoaded');this._super()._setClasses().initAjaxConfig();return this;},initObservable:function(){this._super().observe('content loading visible');return this;},_setClasses:function(){var additional=this.additionalClasses,classes;if(_.isString(additional)){additional=this.additionalClasses.split(' ');classes=this.additionalClasses={};additional.forEach(function(name){classes[name]=true;},this);}\n_.extend(this.additionalClasses,{'admin__scope-old':!!additional});return this;},initContainer:function(parent){this._super();parent.on('active',this.onContainerToggle);return this;},initAjaxConfig:function(){this.ajaxConfig={url:this.url,data:{FORM_KEY:window.FORM_KEY},success:this.onDataLoaded};return this;},onContainerToggle:function(active){if(active&&this.shouldLoad()){this.loadData();}},hasData:function(){return!!this.content();},shouldLoad:function(){return this.url&&!this.hasData()&&!this.loading();},loadData:function(){this.loading(true);$.ajax(this.ajaxConfig);return this;},onDataLoaded:function(data){this.updateContent(data).loading(false);},updateContent:function(content){this.content(content);return this;},getContentUnsanitizedHtml:function(){return this.content();}});});","Magento_Ui/js/form/components/insert-form.min.js":"define(['./insert','mageUtils','jquery'],function(Insert,utils,$){'use strict';function getPageActions(elem,actionsClass){var el=document.createElement('div');el.innerHTML=elem;return el.getElementsByClassName(actionsClass)[0];}\nfunction removePageActions(elem,actionsClass){var el=document.createElement('div'),actions;el.innerHTML=elem;actions=el.getElementsByClassName(actionsClass)[0];if(actions){el.removeChild(actions);}\nreturn el.innerHTML;}\nreturn Insert.extend({defaults:{externalFormName:'${ $.ns }.${ $.ns }',pageActionsClass:'page-actions',actionsContainerClass:'page-main-actions',exports:{prefix:'${ $.externalFormName }:selectorPrefix'},imports:{toolbarSection:'${ $.toolbarContainer }:toolbarSection',prefix:'${ $.toolbarContainer }:rootSelector',messagesClass:'${ $.externalFormName }:messagesClass'},settings:{ajax:{ajaxSave:true,exports:{ajaxSave:'${ $.externalFormName }:ajaxSave'},imports:{responseStatus:'${ $.externalFormName }:responseStatus',responseData:'${ $.externalFormName }:responseData'}}},modules:{externalForm:'${ $.externalFormName }'}},initObservable:function(){return this._super().observe('responseStatus');},initConfig:function(config){var defaults=this.constructor.defaults;utils.extend(defaults,defaults.settings[config.formSubmitType]||{});return this._super();},destroyInserted:function(){if(this.isRendered&&this.externalForm()){this.externalForm().delegate('destroy');this.removeActions();this.responseStatus(undefined);this.responseData={};}\nreturn this._super();},onRender:function(data){var actions=getPageActions(data,this.pageActionsClass);if(!data.length){return this;}\ndata=removePageActions(data,this.pageActionsClass);this.renderActions(actions);this._super(data);},renderActions:function(actions){var $container=$('<div></div>');$container.addClass(this.actionsContainerClass).append(actions);this.formHeader=$container;$(this.toolbarSection).append(this.formHeader);},removeActions:function(){$(this.formHeader).siblings('.'+this.messagesClass).remove();$(this.formHeader).remove();this.formHeader=$();},resetForm:function(){if(this.externalSource()){this.externalSource().trigger('data.reset');this.responseStatus(undefined);}}});});","Magento_Ui/js/form/components/insert-listing.min.js":"define(['jquery','./insert','mageUtils','underscore'],function($,Insert,utils,_){'use strict';return Insert.extend({defaults:{externalListingName:'${ $.ns }.${ $.ns }',behaviourType:'simple',externalFilterMode:false,requestConfig:{method:'POST'},externalCondition:'nin',settings:{edit:{imports:{'onChangeRecord':'${ $.editorProvider }:changed'}},filter:{exports:{'requestConfig':'${ $.externalProvider }:requestConfig'}}},imports:{onSelectedChange:'${ $.selectionsProvider }:selected','update_url':'${ $.externalProvider }:update_url','indexField':'${ $.selectionsProvider }:indexField'},exports:{externalFiltersModifier:'${ $.externalProvider }:params.filters_modifier'},listens:{externalValue:'updateExternalFiltersModifier updateSelections',indexField:'initialUpdateListing'},modules:{selections:'${ $.selectionsProvider }',externalListing:'${ $.externalListingName }'}},initialize:function(){this._super();_.bindAll(this,'updateValue','updateExternalValueByEditableData');return this;},initConfig:function(config){var defaults=this.constructor.defaults;if(config.behaviourType==='edit'){defaults.editableData={};_.map(defaults.settings.edit.imports,function(value,key){this.imports[key]=value;},defaults);}\nif(config.externalFilterMode===true){_.map(defaults.settings.filter.exports,function(value,key){this.exports[key]=value;},defaults);}\nreturn this._super();},initObservable:function(){return this._super().observe(['externalValue']);},destroyInserted:function(){if(this.isRendered&&this.externalListing()){this.externalListing().source.storage().clearRequests();this.externalListing().delegate('destroy');}\nreturn this._super();},onChangeRecord:function(record){this.updateEditableData(record);if(!this.dataLinks.imports){return;}\nthis.updateExternalValueByEditableData();},onSelectedChange:function(){if(!this.dataLinks.imports||this.suppressDataLinks||_.isBoolean(this.initialExportDone)&&!this.initialExportDone){this.suppressDataLinks=false;return;}\nthis.suppressDataLinks=true;this.updateExternalValue();},updateEditableData:function(record){var id=_.keys(record[0])[0];this.editableData[id]=record[0][id];},updateExternalValueByEditableData:function(){var updatedExtValue;if(!(this.behaviourType==='edit')||_.isEmpty(this.editableData)||_.isEmpty(this.externalValue())){return;}\nupdatedExtValue=this.externalValue();updatedExtValue.map(function(item){_.extend(item,this.editableData[item[this.indexField]]);},this);this.setExternalValue(updatedExtValue);},updateExternalValue:function(){var result=$.Deferred(),provider=this.selections(),selections,totalSelected,itemsType,rows;if(!provider){return result;}\nselections=provider&&provider.getSelections();totalSelected=provider.totalSelected();itemsType=selections&&selections.excludeMode?'excluded':'selected';rows=provider&&provider.rows();if(this.canUpdateFromClientData(totalSelected,selections.selected,rows)){this.updateFromClientData(selections.selected,rows);this.updateExternalValueByEditableData();result.resolve();}else{this.updateFromServerData(selections,itemsType).done(function(){this.updateExternalValueByEditableData();result.resolve();}.bind(this));}\nreturn result;},canUpdateFromClientData:function(totalSelected,selected,rows){var alreadySavedSelectionsIds=_.pluck(this.externalValue(),this.indexField),rowsOnCurrentPageIds=_.pluck(rows,this.indexField);return totalSelected===selected.length&&_.intersection(_.union(alreadySavedSelectionsIds,rowsOnCurrentPageIds),selected).length===selected.length;},updateFromClientData:function(selected,rows){var value,rowIds,valueIds;if(!selected||!selected.length){this.setExternalValue([]);return;}\nvalue=this.externalValue();rowIds=_.pluck(rows,this.indexField);valueIds=_.pluck(value,this.indexField);value=_.map(selected,function(item){if(_.contains(rowIds,item)){return _.find(rows,function(row){return row[this.indexField]===item;},this);}else if(_.contains(valueIds,item)){return _.find(value,function(row){return row[this.indexField]===item;},this);}},this);this.setExternalValue(value);},updateFromServerData:function(selections,itemsType){var filterType=selections&&selections.excludeMode?'nin':'in',selectionsData={},request;_.extend(selectionsData,this.params||{},selections.params);if(selections[itemsType]&&selections[itemsType].length){selectionsData.filters={};selectionsData['filters_modifier']={};selectionsData['filters_modifier'][this.indexField]={'condition_type':filterType,value:selections[itemsType]};}\nselectionsData.paging={notLimits:1};request=this.requestData(selectionsData,{method:this.requestConfig.method});request.done(function(data){this.setExternalValue(data.items||data);this.loading(false);}.bind(this)).fail(this.onError);return request;},setExternalValue:function(newValue){var keys=this.externalData,value=this.externalValue(),selectedIds=_.pluck(newValue,this.indexField);if(_.isArray(keys)&&!_.isEmpty(keys)){newValue=_.map(newValue,function(item){return _.pick(item,keys);},this);}else if(keys&&_.isString(keys)&&!_.isEmpty(newValue)){newValue=newValue[0][keys];}\nif(this.externalFilterMode){newValue=_.union(newValue,_.filter(value,function(item){return!_.contains(selectedIds,item[this.indexField]);},this));}\nthis.set('externalValue',newValue);},updateExternalFiltersModifier:function(items){var provider,filter={};if(!this.externalFilterMode){return;}\nprovider=this.selections();if(!provider){this.needInitialListingUpdate=true;return;}\nfilter[this.indexField]={'condition_type':this.externalCondition,value:_.pluck(items,this.indexField)};this.set('externalFiltersModifier',filter);},updateSelections:function(items){var provider,ids;if(!this.dataLinks.exports||this.suppressDataLinks){this.suppressDataLinks=false;this.initialExportDone=true;return;}\nprovider=this.selections();if(!provider){this.needInitialListingUpdate=true;return;}\nthis.suppressDataLinks=true;provider.deselectAll();if(_.isString(items)){provider.selected([items]||[]);}else{ids=_.pluck(items||[],this.indexField).map(function(item){return item.toString();});provider.selected(ids||[]);}\nthis.initialExportDone=true;},initialUpdateListing:function(){var items=this.externalValue();if(this.needInitialListingUpdate&&items){this.updateExternalFiltersModifier(items);this.updateSelections(items);this.needInitialListingUpdate=false;}},reload:function(){this.externalSource().set('params.t',new Date().getTime());},updateValue:function(){this.set('value',this.externalValue());},save:function(){this.updateExternalValue().done(function(){if(!this.realTimeLink){this.updateValue();}}.bind(this));}});});","Magento_Ui/js/form/components/insert.min.js":"define(['uiElement','jquery','mage/translate','mageUtils','underscore','Magento_Ui/js/modal/alert','Magento_Ui/js/lib/view/utils/bindings','Magento_Ui/js/lib/view/utils/async'],function(Element,$,$t,utils,_,alert){'use strict';return Element.extend({defaults:{content:'',template:'ui/form/insert',showSpinner:true,loading:false,autoRender:true,visible:true,contentSelector:'${$.name}',externalData:[],params:{namespace:'${ $.ns }'},renderSettings:{url:'${ $.render_url }',dataType:'html'},updateSettings:{url:'${ $.update_url }',dataType:'json'},imports:{},exports:{},listens:{},links:{value:'${ $.provider }:${ $.dataScope}'},modules:{externalSource:'${ $.externalProvider }'}},initialize:function(){this._super();_.bindAll(this,'onRender','onUpdate');if(this.autoRender){this.render();}\nreturn this;},initObservable:function(){return this._super().observe(['visible','content','value','loading']);},initConfig:function(config){this.initDataLink(config)._super();this.contentSelector=this.contentSelector.replace(/\\./g,'_');return this;},initDataLink:function(config){var key,value;if(config.dataLinks){_.each(config.externalData,function(val){value=val;key='externalValue.'+val.replace('data.','');if(config.dataLinks.imports){this.imports[key]='${ $.externalProvider }:'+value;}\nif(config.dataLinks.exports){this.exports[key]='${ $.externalProvider }:'+value;}\nthis.links[key]='${ $.externalProvider }:'+value;},this.constructor.defaults);}\nif(config.realTimeLink){this.constructor.defaults.links.externalValue='value';}\nreturn this;},render:function(params){var self=this,request;if(this.isRendered){return this;}\nself.previousParams=params||{};$.async({component:this.name,ctx:'.'+this.contentSelector},function(el){self.contentEl=$(el);self.startRender=true;params=_.extend({},self.params,params||{});request=self.requestData(params,self.renderSettings);request.done(self.onRender).fail(self.onError);});return this;},destroy:function(){this.destroyInserted()._super();},destroyInserted:function(){if(this.isRendered){this.isRendered=false;this.content('');if(this.externalSource()){this.externalSource().destroy();}\nthis.initExternalLinks();}\nreturn this;},initExternalLinks:function(){var imports=this.filterExternalLinks(this.imports,this.ns),exports=this.filterExternalLinks(this.exports,this.ns),links=this.filterExternalLinks(this.links,this.ns);this.setLinks(links,'imports').setLinks(links,'exports');_.each({exports:exports,imports:imports},this.setLinks,this);return this;},filterExternalLinks:function(data,ns){var links={};_.each(data,function(value,key){if(typeof value==='string'&&value.split('.')[0]===ns){links[key]=value;}});return links;},requestData:function(params,ajaxSettings){var query=utils.copy(params);ajaxSettings=_.extend({url:this['update_url'],method:'GET',data:query,dataType:'json'},ajaxSettings);this.loading(true);return $.ajax(ajaxSettings);},onRender:function(data){var resp;this.loading(false);try{resp=JSON.parse(data);if(resp.ajaxExpired){window.location.href=resp.ajaxRedirect;}}catch(e){this.set('content',data);this.isRendered=true;this.startRender=false;}},onError:function(xhr){if(xhr.statusText==='abort'){return;}\nalert({content:$t('Something went wrong.')});},getExternalData:function(){var data={};_.each(this.externalData,function(path){utils.nested(data,path.replace('data.',''),this.externalSource().get(path));},this);return data;},updateData:function(params){var request;params=_.extend(params||{},this.params);if(!this.startRender&&!this.isRendered){return this.render(params);}\nrequest=this.requestData(params,this.updateSettings);request.done(this.onUpdate).fail(this.onError);return request;},onUpdate:function(data){this.externalSource().set('data',data);this.externalSource().trigger('data.overload');this.loading(false);}});});","Magento_Ui/js/form/components/multiline.min.js":"define(['./group'],function(Group){'use strict';return Group.extend({defaults:{links:{value:'${ $.provider }:${ $.dataScope }'}},initialize:function(){return this._super()._prepareValue();},initObservable:function(){this._super().observe('value');return this;},_prepareValue:function(){var value=this.value();if(typeof value==='string'){this.value(value.split('\\n'));}\nreturn this;}});});","Magento_Ui/js/form/components/tab.min.js":"define(['uiCollection'],function(Collection){'use strict';return Collection.extend({defaults:{uniqueProp:'active',active:false,wasActivated:false},initialize:function(){this._super().setUnique();},initObservable:function(){this._super().observe('active wasActivated');return this;},activate:function(){this.active(true);this.wasActivated(true);this.setUnique();return true;}});});","Magento_Ui/js/form/components/tab_group.min.js":"define(['underscore','Magento_Ui/js/lib/collapsible'],function(_,Collapsible){'use strict';return Collapsible.extend({defaults:{listens:{'${ $.provider }:data.validate':'onValidate'},collapsible:false,opened:true},initElement:function(elem){this._super().initActivation(elem);return this;},initActivation:function(elem){var elems=this.elems(),isFirst=!elems.indexOf(elem);if(isFirst||elem.active()){elem.activate();}\nreturn this;},validate:function(elem){var result=elem.delegate('validate'),invalid;invalid=_.find(result,function(item){return typeof item!=='undefined'&&!item.valid;});if(invalid){elem.activate();invalid.target.focused(true);}\nreturn invalid;},onValidate:function(){this.elems.sortBy(function(elem){return!elem.active();}).some(this.validate,this);}});});","Magento_Ui/js/form/components/collection/item.min.js":"define(['underscore','mageUtils','../tab'],function(_,utils,Tab){'use strict';var previewConfig={separator:' ',prefix:''};function parsePreview(data){if(typeof data=='string'){data={items:data};}\ndata.items=utils.stringToArray(data.items);return _.defaults(data,previewConfig);}\nreturn Tab.extend({defaults:{label:'',uniqueNs:'activeCollectionItem',previewTpl:'ui/form/components/collection/preview'},initialize:function(){_.bindAll(this,'buildPreview','hasPreview');return this._super();},initConfig:function(){this._super();this.displayed=[];return this;},initObservable:function(){this._super().observe({noPreview:true,indexed:{}});return this;},initElement:function(elem){this._super().insertToIndexed(elem);return this;},insertToIndexed:function(elem){var indexed=this.indexed();indexed[elem.index]=elem;this.indexed(indexed);return this;},destroy:function(){this._super();this._clearData();},_clearData:function(){this.source.remove(this.dataScope);return this;},formatPreviews:function(previews){return previews.map(parsePreview);},buildPreview:function(data){var preview=this.getPreview(data.items),prefix=data.prefix;return prefix+preview.join(data.separator);},hasPreview:function(data){return!!this.getPreview(data.items).length;},getPreview:function(items){var elems=this.indexed(),displayed=this.displayed,preview;items=items.map(function(index){var elem=elems[index];preview=elem&&elem.visible()?elem.getPreview():'';preview=Array.isArray(preview)?_.compact(preview).join(', '):preview;utils.toggle(displayed,index,!!preview);return preview;});this.noPreview(!displayed.length);return _.compact(items);}});});","Magento_Ui/js/form/element/abstract.min.js":"define(['underscore','mageUtils','uiLayout','uiElement','Magento_Ui/js/lib/validation/validator'],function(_,utils,layout,Element,validator){'use strict';return Element.extend({defaults:{visible:true,preview:'',focused:false,required:false,disabled:false,valueChangedByUser:false,elementTmpl:'ui/form/element/input',tooltipTpl:'ui/form/element/helper/tooltip',fallbackResetTpl:'ui/form/element/helper/fallback-reset','input_type':'input',placeholder:false,description:'',labelVisible:true,label:'',error:'',warn:'',notice:'',customScope:'',default:'',isDifferedFromDefault:false,showFallbackReset:false,additionalClasses:{},isUseDefault:'',serviceDisabled:false,valueUpdate:false,switcherConfig:{component:'Magento_Ui/js/form/switcher',name:'${ $.name }_switcher',target:'${ $.name }',property:'value'},listens:{visible:'setPreview',value:'setDifferedFromDefault','${ $.provider }:data.reset':'reset','${ $.provider }:data.overload':'overload','${ $.provider }:${ $.customScope ? $.customScope + \".\" : \"\"}data.validate':'validate','isUseDefault':'toggleUseDefault'},ignoreTmpls:{value:true},links:{value:'${ $.provider }:${ $.dataScope }'}},initialize:function(){_.bindAll(this,'reset');this._super().setInitialValue()._setClasses().initSwitcher();return this;},checkInvalid:function(){return this.error()&&this.error().length?this:null;},initObservable:function(){var rules=this.validation=this.validation||{};this._super();this.observe('error disabled focused preview visible value warn notice isDifferedFromDefault').observe('isUseDefault serviceDisabled').observe({'required':!!rules['required-entry']});return this;},initConfig:function(){var uid=utils.uniqueid(),name,valueUpdate,scope;this._super();scope=this.dataScope.split('.');name=scope.length>1?scope.slice(1):scope;valueUpdate=this.showFallbackReset?'afterkeydown':this.valueUpdate;_.extend(this,{uid:uid,noticeId:'notice-'+uid,errorId:'error-'+uid,tooltipId:'tooltip-'+uid,inputName:utils.serializeName(name.join('.')),valueUpdate:valueUpdate});return this;},initSwitcher:function(){if(this.switcherConfig.enabled){layout([this.switcherConfig]);}\nreturn this;},setInitialValue:function(){this.initialValue=this.getInitialValue();if(this.value.peek()!==this.initialValue){this.value(this.initialValue);}\nthis.on('value',this.onUpdate.bind(this));this.isUseDefault(this.disabled());return this;},_setClasses:function(){var additional=this.additionalClasses;if(_.isString(additional)){this.additionalClasses={};if(additional.trim().length){additional=additional.trim().split(' ');additional.forEach(function(name){if(name.length){this.additionalClasses[name]=true;}},this);}}\n_.extend(this.additionalClasses,{_required:this.required,_error:this.error,_warn:this.warn,_disabled:this.disabled});return this;},getInitialValue:function(){var values=[this.value(),this.default],value;values.some(function(v){if(v!==null&&v!==undefined){value=v;return true;}\nreturn false;});return this.normalizeData(value);},setVisible:function(isVisible){this.visible(isVisible);return this;},show:function(){this.visible(true);return this;},hide:function(){this.visible(false);return this;},disable:function(){this.disabled(true);return this;},enable:function(){this.disabled(false);return this;},setValidation:function(rule,options){var rules=utils.copy(this.validation),changed;if(_.isObject(rule)){_.extend(this.validation,rule);}else{this.validation[rule]=options;}\nchanged=!utils.compare(rules,this.validation).equal;if(changed){this.required(!!rules['required-entry']);this.validate();}\nreturn this;},getPreview:function(){return this.value();},hasAddons:function(){return this.addbefore||this.addafter;},hasService:function(){return this.service&&this.service.template;},hasChanged:function(){var notEqual=this.value()!==this.initialValue;return!this.visible()?false:notEqual;},hasData:function(){return!utils.isEmpty(this.value());},reset:function(){this.value(this.initialValue);this.error(false);return this;},overload:function(){this.setInitialValue();this.bubble('update',this.hasChanged());},clear:function(){this.value('');return this;},normalizeData:function(value){return utils.isEmpty(value)?'':value;},validate:function(){var value=this.value(),result=validator(this.validation,value,this.validationParams),message=!this.disabled()&&this.visible()?result.message:'',isValid=this.disabled()||!this.visible()||result.passed;this.error(message);this.error.valueHasMutated();this.bubble('error',message);if(this.source&&!isValid){this.source.set('params.invalid',true);}\nreturn{valid:isValid,target:this};},onUpdate:function(){this.bubble('update',this.hasChanged());this.validate();},restoreToDefault:function(){this.value(this.default);this.focused(true);},setDifferedFromDefault:function(){var value=typeof this.value()!='undefined'&&this.value()!==null?this.value():'',defaultValue=typeof this.default!='undefined'&&this.default!==null?this.default:'';this.isDifferedFromDefault(value!==defaultValue);},toggleUseDefault:function(state){this.disabled(state);if(this.source&&this.hasService()){this.source.set('data.use_default.'+this.index,Number(state));}},userChanges:function(){this.valueChangedByUser=true;},getDescriptionId:function(){var id=false;if(this.error()){id=this.errorId;}else if(this.notice()){id=this.noticeId;}\nreturn id;}});});","Magento_Ui/js/form/element/boolean.min.js":"define(['./abstract'],function(Abstract){'use strict';return Abstract.extend({defaults:{checked:false,links:{checked:'value'}},initObservable:function(){return this._super().observe('checked');},normalizeData:function(){return!!+this._super();},onUpdate:function(){if(this.hasUnique){this.setUnique();}\nreturn this._super();}});});","Magento_Ui/js/form/element/checkbox-set.min.js":"define(['underscore','mageUtils','./abstract'],function(_,utils,Abstract){'use strict';return Abstract.extend({defaults:{template:'ui/form/element/checkbox-set',multiple:false,multipleScopeValue:null},initConfig:function(){this._super();this.value=this.normalizeData(this.value);return this;},initLinks:function(){var scope=this.source.get(this.dataScope);this.multipleScopeValue=this.multiple&&_.isArray(scope)?utils.copy(scope):undefined;return this._super();},reset:function(){this.value(utils.copy(this.initialValue));this.error(false);return this;},clear:function(){var value=this.multiple?[]:'';this.value(value);this.error(false);return this;},normalizeData:function(value){if(!this.multiple){return this._super();}\nreturn _.isArray(value)?utils.copy(value):[];},setInitialValue:function(){this._super();this.initialValue=utils.copy(this.initialValue);return this;},getInitialValue:function(){var values=[this.multipleScopeValue,this.default,this.value.peek(),[]],value;if(!this.multiple){return this._super();}\nvalues.some(function(v){return _.isArray(v)&&(value=utils.copy(v));});return value;},getPreview:function(){var option;if(!this.multiple){option=this.getOption(this.value());return option?option.label:'';}\nreturn this.value.map(function(value){return this.getOption(value).label;},this);},getOption:function(value){return _.findWhere(this.options,{value:value});},hasChanged:function(){var value=this.value(),initial=this.initialValue;return this.multiple?!utils.equalArrays(value,initial):this._super();}});});","Magento_Ui/js/form/element/color-picker-palette.min.js":"define([],function(){'use strict';return[['rgb(0,0,0)','rgb(52,52,52)','rgb(83,83,83)','rgb(135,135,135)','rgb(193,193,193)','rgb(234,234,234)','rgb(240,240,240)','rgb(255,255,255)'],['rgb(252,0,9)','rgb(253,135,10)','rgb(255,255,13)','rgb(35,255,9)','rgb(33,255,255)','rgb(0,0,254)','rgb(132,0,254)','rgb(251,0,255)'],['rgb(240,192,194)','rgb(251,223,194)','rgb(255,241,193)','rgb(210,230,201)','rgb(199,217,220)','rgb(197,219,240)','rgb(208,200,227)','rgb(229,199,212)'],['rgb(228,133,135)','rgb(246,193,139)','rgb(254,225,136)','rgb(168,208,152)','rgb(146,184,190)','rgb(143,184,227)','rgb(165,148,204)','rgb(202,147,175)'],['rgb(214,78,83)','rgb(243,163,88)','rgb(254,211,83)','rgb(130,187,106)','rgb(99,149,159)','rgb(93,150,211)','rgb(123,100,182)','rgb(180,100,142)'],['rgb(190,0,5)','rgb(222,126,44)','rgb(236,183,39)','rgb(89,155,61)','rgb(55,110,123)','rgb(49,112,185)','rgb(83,55,150)','rgb(147,55,101)'],['rgb(133,0,3)','rgb(163,74,10)','rgb(177,127,7)','rgb(45,101,23)','rgb(18,62,74)','rgb(14,62,129)','rgb(40,15,97)','rgb(95,16,55)'],['rgb(81,0,1)','rgb(100,48,7)','rgb(107,78,3)','rgb(31,63,16)','rgb(13,39,46)','rgb(10,40,79)','rgb(24,12,59)','rgb(59,10,36)']];});","Magento_Ui/js/form/element/color-picker.min.js":"define(['mage/translate','Magento_Ui/js/form/element/abstract','Magento_Ui/js/form/element/color-picker-palette'],function($t,Abstract,palette){'use strict';return Abstract.extend({defaults:{colorPickerConfig:{chooseText:$t('Apply'),cancelText:$t('Cancel'),maxSelectionSize:8,clickoutFiresChange:true,allowEmpty:true,localStorageKey:'magento.spectrum',palette:palette}},initialize:function(){this._super();this.colorPickerConfig.value=this.value;return this;}});});","Magento_Ui/js/form/element/country.min.js":"define(['underscore','uiRegistry','./select'],function(_,registry,Select){'use strict';return Select.extend({defaults:{imports:{update:'${ $.parentName }.website_id:value'}},filter:function(value,field){var result,defaultCountry,defaultValue;if(!field){field=this.filterBy.field;}\nthis._super(value,field);result=_.filter(this.initialOptions,function(item){if(item[field]){return~item[field].indexOf(value);}\nreturn false;});this.setOptions(result);this.reset();if(!this.value()){defaultCountry=_.filter(result,function(item){return item['is_default']&&_.contains(item['is_default'],value);});if(defaultCountry.length){defaultValue=defaultCountry.shift();this.value(defaultValue.value);}}}});});","Magento_Ui/js/form/element/date.min.js":"define(['moment','mageUtils','./abstract','moment-timezone-with-data'],function(moment,utils,Abstract){'use strict';return Abstract.extend({defaults:{options:{},storeTimeZone:'UTC',validationParams:{dateFormat:'${ $.outputDateFormat }'},inputDateFormat:'y-MM-dd',outputDateFormat:'MM/dd/y',pickerDateTimeFormat:'',pickerDefaultDateFormat:'MM/dd/y',pickerDefaultTimeFormat:'h:mm a',elementTmpl:'ui/form/element/date',timezoneFormat:'YYYY-MM-DD HH:mm',listens:{'value':'onValueChange','shiftedValue':'onShiftedValueChange'},shiftedValue:''},initConfig:function(){this._super();if(!this.options.dateFormat){this.options.dateFormat=this.pickerDefaultDateFormat;}\nif(!this.options.timeFormat){this.options.timeFormat=this.pickerDefaultTimeFormat;}\nthis.prepareDateTimeFormats();return this;},initObservable:function(){return this._super().observe(['shiftedValue']);},getPreview:function(){return this.shiftedValue();},onValueChange:function(value){var shiftedValue;if(value){if(this.options.showsTime&&!this.options.timeOnly){shiftedValue=moment.tz(value,'UTC').tz(this.storeTimeZone);}else{shiftedValue=moment(value,this.outputDateFormat,true);}\nif(!shiftedValue.isValid()){shiftedValue=moment(value,this.inputDateFormat);}\nshiftedValue=shiftedValue.format(this.pickerDateTimeFormat);}else{shiftedValue='';}\nif(shiftedValue!==this.shiftedValue()){this.shiftedValue(shiftedValue);}},onShiftedValueChange:function(shiftedValue){var value,formattedValue,momentValue;if(shiftedValue){momentValue=moment(shiftedValue,this.pickerDateTimeFormat);if(this.options.showsTime&&!this.options.timeOnly){formattedValue=moment(momentValue).format(this.timezoneFormat);value=moment.tz(formattedValue,this.storeTimeZone).tz('UTC').toISOString();}else{value=momentValue.format(this.outputDateFormat);}}else{value='';}\nif(value!==this.value()){this.value(value);}},prepareDateTimeFormats:function(){if(this.options.timeOnly){this.pickerDateTimeFormat=this.options.timeFormat;}else{this.pickerDateTimeFormat=this.options.dateFormat;if(this.options.showsTime){this.pickerDateTimeFormat+=' '+this.options.timeFormat;}}\nthis.pickerDateTimeFormat=utils.convertToMomentFormat(this.pickerDateTimeFormat);if(this.options.dateFormat){this.outputDateFormat=this.options.dateFormat;}\nthis.inputDateFormat=this.options.timeOnly?utils.convertToMomentFormat(this.pickerDefaultTimeFormat):utils.convertToMomentFormat(this.inputDateFormat);this.outputDateFormat=this.options.timeOnly?utils.convertToMomentFormat(this.options.timeFormat):utils.convertToMomentFormat(this.outputDateFormat);this.validationParams.dateFormat=this.outputDateFormat;}});});","Magento_Ui/js/form/element/file-uploader.min.js":"define(['jquery','underscore','mageUtils','Magento_Ui/js/modal/alert','Magento_Ui/js/lib/validation/validator','Magento_Ui/js/form/element/abstract','mage/backend/notification','mage/translate','jquery/file-uploader','mage/adminhtml/tools'],function($,_,utils,uiAlert,validator,Element,notification,$t){'use strict';return Element.extend({defaults:{value:[],aggregatedErrors:[],maxFileSize:false,isMultipleFiles:false,placeholderType:'document',allowedExtensions:false,previewTmpl:'ui/form/element/uploader/preview',dropZone:'[data-role=drop-zone]',isLoading:false,uploaderConfig:{dataType:'json',sequentialUploads:true,formData:{'form_key':window.FORM_KEY}},tracks:{isLoading:true}},initUploader:function(fileInput){this.$fileInput=fileInput;_.extend(this.uploaderConfig,{dropZone:$(fileInput).closest(this.dropZone),change:this.onFilesChoosed.bind(this),drop:this.onFilesChoosed.bind(this),add:this.onBeforeFileUpload.bind(this),fail:this.onFail.bind(this),done:this.onFileUploaded.bind(this),start:this.onLoadingStart.bind(this),stop:this.onLoadingStop.bind(this)});$(fileInput).fileupload(this.uploaderConfig);return this;},setInitialValue:function(){var value=this.getInitialValue();value=value.map(this.processFile,this);this.initialValue=value.slice();this.value(value);this.on('value',this.onUpdate.bind(this));this.isUseDefault(this.disabled());return this;},clear:function(){this.value.removeAll();return this;},hasData:function(){return!!this.value().length;},reset:function(){var value=this.initialValue.slice();this.value(value);return this;},addFile:function(file){file=this.processFile(file);this.isMultipleFiles?this.value.push(file):this.value([file]);return this;},getFile:function(fn){return _.find(this.value(),fn);},removeFile:function(file){this.value.remove(file);return this;},processFile:function(file){file.previewType=this.getFilePreviewType(file);if(!file.id&&file.name){file.id=Base64.mageEncode(file.name);}\nthis.observe.call(file,true,['previewWidth','previewHeight']);return file;},formatSize:function(bytes){var sizes=['Bytes','KB','MB','GB','TB'],i;if(bytes===0){return'0 Byte';}\ni=window.parseInt(Math.floor(Math.log(bytes)/ Math.log(1024)));return Math.round(bytes / Math.pow(1024,i),2)+' '+sizes[i];},getFilePreview:function(file){return file.url;},getPreviewTmpl:function(){return this.previewTmpl;},isFileAllowed:function(file){var result;_.every([this.isExtensionAllowed(file),this.isSizeExceeded(file)],function(value){result=value;return value.passed;});return result;},isExtensionAllowed:function(file){return validator('validate-file-type',file.name,this.allowedExtensions);},getFilePreviewType:function(file){var type;if(!file.type){return'document';}\ntype=file.type.split('/')[0];return type!=='image'&&type!=='video'?'document':type;},isSizeExceeded:function(file){return validator('validate-max-size',file.size,this.maxFileSize);},notifyError:function(msg){var data={content:msg};if(this.isMultipleFiles){data.modalClass='_image-box';}\nuiAlert(data);return this;},normalizeData:function(value){return utils.isEmpty(value)?[]:value;},hasChanged:function(){var value=this.value(),initial=this.initialValue;return!utils.equalArrays(value,initial);},onFilesChoosed:function(event,data){if(!this.isMultipleFiles){data.files.splice(1);}},onBeforeFileUpload:function(event,data){var file=data.files[0],allowed=this.isFileAllowed(file),target=$(event.target);if(this.disabled()){this.notifyError($t('The file upload field is disabled.'));return;}\nif(allowed.passed){target.on('fileuploadsend',function(eventBound,postData){postData.data.append('param_name',this.paramName);}.bind(data));target.fileupload('process',data).done(function(){data.submit();});}else{this.aggregateError(file.name,allowed.message);if(this.aggregatedErrors.length===data.originalFiles.length){this.uploaderConfig.stop();}}},aggregateError:function(filename,message){this.aggregatedErrors.push({filename:filename,message:message});},onFail:function(event,data){console.error(data.jqXHR.responseText);console.error(data.jqXHR.status);},onFileUploaded:function(event,data){var uploadedFilename=data.files[0].name,file=data.result,error=file.error;error?this.aggregateError(uploadedFilename,error):this.addFile(file);},onLoadingStart:function(){this.isLoading=true;},onLoadingStop:function(){var aggregatedErrorMessages=[];this.isLoading=false;if(!this.aggregatedErrors.length){return;}\nif(!this.isMultipleFiles){aggregatedErrorMessages.push(this.aggregatedErrors[0].message);}else{_.each(this.aggregatedErrors,function(error){notification().add({error:true,message:'%s'+error.message,insertMethod:function(constructedMessage){var escapedFileName=$('<div>').text(error.filename).html(),errorMsgBodyHtml='<strong>%s</strong> %s.<br>'.replace('%s',escapedFileName).replace('%s',$t('was not uploaded'));constructedMessage=constructedMessage.replace('%s',errorMsgBodyHtml);aggregatedErrorMessages.push(constructedMessage);}});});}\nthis.notifyError(aggregatedErrorMessages.join(''));this.aggregatedErrors=[];},onElementRender:function(fileInput){this.initUploader(fileInput);},onPreviewLoad:function(file,event){var img=event.currentTarget;file.previewWidth=img.naturalWidth;file.previewHeight=img.naturalHeight;},restoreToDefault:function(){var defaultValue=utils.copy(this.default);defaultValue.map(this.processFile,this);this.value(defaultValue);},setDifferedFromDefault:function(){var value=utils.copy(this.value());this.isDifferedFromDefault(!_.isEqual(value,this.default));}});});","Magento_Ui/js/form/element/image-uploader.min.js":"define(['jquery','underscore','mageUtils','Magento_Ui/js/modal/alert','Magento_Ui/js/lib/validation/validator','Magento_Ui/js/form/element/file-uploader','mage/adminhtml/browser'],function($,_,utils,uiAlert,validator,Element,browser){'use strict';return Element.extend({initialize:function(){this._super();$(window).on('fileDeleted.mediabrowser',this.onDeleteFile.bind(this));},initConfig:function(){var mediaGalleryUid=utils.uniqueid();this._super();_.extend(this,{mediaGalleryUid:mediaGalleryUid});return this;},addFileFromMediaGallery:function(imageUploader,e){var $buttonEl=$(e.target),fileSize=$buttonEl.data('size'),fileMimeType=$buttonEl.data('mime-type'),filePathname=$buttonEl.val(),fileBasename=filePathname.split('/').pop();this.addFile({type:fileMimeType,name:fileBasename,size:fileSize,url:filePathname});},openMediaBrowserDialog:function(imageUploader,e){var $buttonEl=$(e.target),openDialogUrl=this.mediaGallery.openDialogUrl+'target_element_id/'+$buttonEl.attr('id')+'/store/'+this.mediaGallery.storeId+'/type/image/?isAjax=true';if(this.mediaGallery.initialOpenSubpath){openDialogUrl+='&current_tree_path='+Base64.idEncode(this.mediaGallery.initialOpenSubpath);}\nbrowser.openDialog(openDialogUrl,null,null,this.mediaGallery.openDialogTitle,{targetElementId:$buttonEl.attr('id')});},onDeleteFile:function(e,data){var fileId=this.getFileId(),deletedFileIds=data.ids;if(fileId&&$.inArray(fileId,deletedFileIds)>-1){this.clear();}\nreturn this;},clear:function(){this.value([]);return this;},getFileId:function(){return this.hasData()?this.value()[0].id:null;},triggerImageUpload:function(imageUploader,e){$(e.target).closest('.file-uploader').find('input[type=\"file\"]').trigger('click');},getAllowedFileExtensionsInCommaDelimitedFormat:function(){var allowedExtensions=this.allowedExtensions.toUpperCase().split(' ');if(allowedExtensions.indexOf('JPG')!==-1&&allowedExtensions.indexOf('JPEG')!==-1){allowedExtensions.splice(allowedExtensions.indexOf('JPEG'),1);}\nreturn allowedExtensions.join(', ');}});});","Magento_Ui/js/form/element/media.min.js":"define(['mageUtils','./abstract'],function(utils,Abstract){'use strict';return Abstract.extend({defaults:{links:{value:''}},initialize:function(){this._super().initFormId();return this;},initFormId:function(){var namespace;if(this.formId){return this;}\nnamespace=this.name.split('.');this.formId=namespace[0];return this;}});});","Magento_Ui/js/form/element/multiselect.min.js":"define(['underscore','mageUtils','./select'],function(_,utils,Select){'use strict';return Select.extend({defaults:{size:5,elementTmpl:'ui/form/element/multiselect',listens:{value:'setDifferedFromDefault setPrepareToSendData'}},setInitialValue:function(){this._super();this.initialValue=utils.copy(this.initialValue);return this;},normalizeData:function(value){if(utils.isEmpty(value)){value=[];}\nreturn _.isString(value)?value.split(','):value;},setPrepareToSendData:function(data){if(_.isUndefined(data)||!data.length){data='';}\nthis.source.set(this.dataScope+'-prepared-for-send',data);},getInitialValue:function(){var values=[this.normalizeData(this.source.get(this.dataScope)),this.normalizeData(this.default)],value;values.some(function(v){return _.isArray(v)&&(value=utils.copy(v))&&!_.isEmpty(v);});return value;},hasChanged:function(){var value=this.value(),initial=this.initialValue;return!utils.equalArrays(value,initial);},reset:function(){this.value(utils.copy(this.initialValue));this.error(false);return this;},clear:function(){this.value([]);this.error(false);return this;}});});","Magento_Ui/js/form/element/post-code.min.js":"define(['underscore','./abstract'],function(_,Abstract){'use strict';return Abstract.extend({defaults:{imports:{countryOptions:'${ $.parentName }.country_id:indexedOptions',update:'${ $.parentName }.country_id:value'}},initObservable:function(){this._super();this.value.equalityComparer=function(oldValue,newValue){return!oldValue&&!newValue||oldValue===newValue;};return this;},update:function(value){var isZipCodeOptional,option;if(!value){return;}\noption=_.isObject(this.countryOptions)&&this.countryOptions[value];if(!option){return;}\nisZipCodeOptional=!!option['is_zipcode_optional'];if(isZipCodeOptional){this.error(false);}\nthis.validation['required-entry']=!isZipCodeOptional;this.required(!isZipCodeOptional);}});});","Magento_Ui/js/form/element/region.min.js":"define(['underscore','uiRegistry','./select','Magento_Checkout/js/model/default-post-code-resolver'],function(_,registry,Select,defaultPostCodeResolver){'use strict';return Select.extend({defaults:{skipValidation:false,imports:{countryOptions:'${ $.parentName }.country_id:indexedOptions',update:'${ $.parentName }.country_id:value'}},initialize:function(){var option;this._super();option=_.find(this.countryOptions,function(row){return row['is_default']===true;});this.hideRegion(option);return this;},update:function(value){var isRegionRequired,option;if(!value){return;}\noption=_.isObject(this.countryOptions)&&this.countryOptions[value];if(!option){return;}\nthis.hideRegion(option);defaultPostCodeResolver.setUseDefaultPostCode(!option['is_zipcode_optional']);isRegionRequired=!this.skipValidation&&!!option['is_region_required'];if(!isRegionRequired){this.error(false);}\nthis.required(isRegionRequired);this.validation['required-entry']=isRegionRequired;registry.get(this.customName,function(input){input.required(isRegionRequired);input.validation['required-entry']=isRegionRequired;input.validation['validate-not-number-first']=!this.options().length;}.bind(this));},hideRegion:function(option){if(!option||option['is_region_visible']!==false){return;}\nthis.setVisible(false);if(this.customEntry){this.toggleInput(false);}}});});","Magento_Ui/js/form/element/select.min.js":"define(['underscore','mageUtils','uiRegistry','./abstract','uiLayout'],function(_,utils,registry,Abstract,layout){'use strict';var inputNode={parent:'${ $.$data.parentName }',component:'Magento_Ui/js/form/element/abstract',template:'${ $.$data.template }',provider:'${ $.$data.provider }',name:'${ $.$data.index }_input',dataScope:'${ $.$data.customEntry }',customScope:'${ $.$data.customScope }',sortOrder:{after:'${ $.$data.name }'},displayArea:'body',label:'${ $.$data.label }'};function parseOptions(nodes,captionValue){var caption,value;nodes=_.map(nodes,function(node){value=node.value;if(value===null||value===captionValue){if(_.isUndefined(caption)){caption=node.label;}}else{return node;}});return{options:_.compact(nodes),caption:_.isString(caption)?caption:false};}\nfunction findFirst(data){var value;data.some(function(node){value=node.value;if(Array.isArray(value)){value=findFirst(value);}\nreturn!_.isUndefined(value);});return value;}\nfunction indexOptions(data,result){var value;result=result||{};data.forEach(function(item){value=item.value;if(Array.isArray(value)){indexOptions(value,result);}else{result[value]=item;}});return result;}\nreturn Abstract.extend({defaults:{customName:'${ $.parentName }.${ $.index }_input',elementTmpl:'ui/form/element/select',caption:'',options:[]},initialize:function(){this._super();if(this.customEntry){registry.get(this.name,this.initInput.bind(this));}\nif(this.filterBy){this.initFilter();}\nreturn this;},initObservable:function(){this._super();this.initialOptions=this.options;this.observe('options caption').setOptions(this.options());return this;},initFilter:function(){var filter=this.filterBy;this.filter(this.default,filter.field);this.setLinks({filter:filter.target},'imports');return this;},initInput:function(){layout([utils.template(inputNode,this)]);return this;},normalizeData:function(){var value=this._super(),option;if(value!==''){option=this.getOption(value);return option&&option.value;}\nif(!this.caption()){return findFirst(this.options);}},filter:function(value,field){var source=this.initialOptions,result;field=field||this.filterBy.field;result=_.filter(source,function(item){return item[field]===value||item.value==='';});this.setOptions(result);},toggleInput:function(isVisible){registry.get(this.customName,function(input){input.setVisible(isVisible);});},setOptions:function(data){var captionValue=this.captionValue||'',result=parseOptions(data,captionValue),isVisible;this.indexedOptions=indexOptions(result.options);this.options(result.options);if(!this.caption()){this.caption(result.caption);}\nif(this.customEntry){isVisible=!!result.options.length;this.setVisible(isVisible);this.toggleInput(!isVisible);}\nreturn this;},getPreview:function(){var value=this.value(),option=this.indexedOptions[value],preview=option?option.label:'';this.preview(preview);return preview;},getOption:function(value){return this.indexedOptions[value];},clear:function(){var value=this.caption()?'':findFirst(this.options);this.value(value);return this;},setInitialValue:function(){if(_.isUndefined(this.value())&&!this.default){this.clear();}\nreturn this._super();}});});","Magento_Ui/js/form/element/single-checkbox-toggle-notice.min.js":"define(['Magento_Ui/js/form/element/single-checkbox'],function(SingleCheckbox){'use strict';return SingleCheckbox.extend({defaults:{notices:[],tracks:{notice:true}},initialize:function(){this._super().chooseNotice();return this;},chooseNotice:function(){var checkedNoticeNumber=Number(this.checked());this.notice=this.notices[checkedNoticeNumber];},onUpdate:function(){this._super();this.chooseNotice();}});});","Magento_Ui/js/form/element/single-checkbox-use-config.min.js":"define(['Magento_Ui/js/form/element/single-checkbox'],function(Component){'use strict';return Component.extend({defaults:{isUseDefault:false,isUseConfig:false,listens:{'isUseConfig':'toggleElement','isUseDefault':'toggleElement'}},initObservable:function(){return this._super().observe('isUseConfig');},toggleElement:function(){this.disabled(this.isUseDefault()||this.isUseConfig());if(this.source){this.source.set('data.use_default.'+this.index,Number(this.isUseDefault()));}}});});","Magento_Ui/js/form/element/single-checkbox.min.js":"define(['Magento_Ui/js/form/element/abstract','underscore','mage/translate'],function(AbstractField,_,$t){'use strict';return AbstractField.extend({defaults:{template:'ui/form/components/single/field',checked:false,initialChecked:false,multiple:false,prefer:'checkbox',valueMap:{},templates:{radio:'ui/form/components/single/radio',checkbox:'ui/form/components/single/checkbox',toggle:'ui/form/components/single/switcher'},listens:{'checked':'onCheckedChanged','value':'onExtendedValueChanged'}},initConfig:function(config){this._super();if(!config.elementTmpl){if(!this.prefer&&!this.multiple){this.elementTmpl=this.templates.radio;}else if(this.prefer==='radio'){this.elementTmpl=this.templates.radio;}else if(this.prefer==='checkbox'){this.elementTmpl=this.templates.checkbox;}else if(this.prefer==='toggle'){this.elementTmpl=this.templates.toggle;}else{this.elementTmpl=this.templates.checkbox;}}\nif(this.prefer==='toggle'&&_.isEmpty(this.toggleLabels)){this.toggleLabels={'on':$t('Yes'),'off':$t('No')};}\nif(typeof this.default==='undefined'||this.default===null){this.default='';}\nif(typeof this.value==='undefined'||this.value===null){this.value=_.isEmpty(this.valueMap)||this.default!==''?this.default:this.valueMap.false;this.initialValue=this.value;}else{this.initialValue=this.value;}\nif(this.multiple&&!_.isArray(this.value)){this.value=[];}\nthis.initialChecked=this.checked;return this;},initObservable:function(){return this._super().observe('checked');},getReverseValueMap:function getReverseValueMap(value){var bool=false;_.some(this.valueMap,function(iValue,iBool){if(iValue===value){bool=iBool==='true';return true;}});return bool;},setInitialValue:function(){if(_.isEmpty(this.valueMap)){this.on('value',this.onUpdate.bind(this));}else{this._super();this.checked(this.getReverseValueMap(this.value()));}\nreturn this;},onExtendedValueChanged:function(newExportedValue){var isMappedUsed=!_.isEmpty(this.valueMap),oldChecked=this.checked.peek(),oldValue=this.initialValue,newChecked;if(this.multiple){newChecked=newExportedValue.indexOf(oldValue)!==-1;}else if(isMappedUsed){newChecked=this.getReverseValueMap(newExportedValue);}else if(typeof newExportedValue==='boolean'){newChecked=newExportedValue;}else{newChecked=newExportedValue===oldValue;}\nif(newChecked!==oldChecked){this.checked(newChecked);}},onCheckedChanged:function(newChecked){var isMappedUsed=!_.isEmpty(this.valueMap),oldValue=this.initialValue,newValue;if(isMappedUsed){newValue=this.valueMap[newChecked];}else{newValue=oldValue;}\nif(!this.multiple&&newChecked){this.value(newValue);}else if(!this.multiple&&!newChecked){if(typeof newValue==='boolean'){this.value(newChecked);}else if(newValue===this.value.peek()){this.value('');}\nif(isMappedUsed){this.value(newValue);}}else if(this.multiple&&newChecked&&this.value.indexOf(newValue)===-1){this.value.push(newValue);}else if(this.multiple&&!newChecked&&this.value.indexOf(newValue)!==-1){this.value.splice(this.value.indexOf(newValue),1);}},onUpdate:function(){if(this.hasUnique){this.setUnique();}\nreturn this._super();},reset:function(){if(this.multiple&&this.initialChecked){this.value.push(this.initialValue);}else if(this.multiple&&!this.initialChecked){this.value.splice(this.value.indexOf(this.initialValue),1);}else{this.value(this.initialValue);}\nthis.error(false);return this;},clear:function(){if(this.multiple){this.value([]);}else{this.value('');}\nthis.error(false);return this;}});});","Magento_Ui/js/form/element/text.min.js":"define(['uiElement','mageUtils'],function(Element,utils){'use strict';return Element.extend({defaults:{visible:true,label:'',error:'',uid:utils.uniqueid(),disabled:false,links:{value:'${ $.provider }:${ $.dataScope }'}},hasService:function(){return false;},hasAddons:function(){return false;},initObservable:function(){this._super().observe('disabled visible value');return this;}});});","Magento_Ui/js/form/element/textarea.min.js":"define(['./abstract'],function(Abstract){'use strict';return Abstract.extend({defaults:{cols:15,rows:2,elementTmpl:'ui/form/element/textarea'}});});","Magento_Ui/js/form/element/ui-select.min.js":"define(['underscore','./abstract','Magento_Ui/js/lib/key-codes','mage/translate','ko','jquery','Magento_Ui/js/lib/view/utils/async'],function(_,Abstract,keyCodes,$t,ko,$){'use strict';var isTouchDevice=typeof document.ontouchstart!=='undefined';function flattenCollection(array,separator,created){var i=0,length,childCollection;array=_.compact(array);length=array.length;created=created||[];for(i;i<length;i++){created.push(array[i]);if(array[i].hasOwnProperty(separator)){childCollection=array[i][separator];delete array[i][separator];flattenCollection.call(this,childCollection,separator,created);}}\nreturn created;}\nfunction setProperty(array,separator,level,path){var i=0,length,nextLevel,nextPath;array=_.compact(array);length=array.length;level=level||0;path=path||'';for(i;i<length;i++){if(array[i]){_.extend(array[i],{level:level,path:path});}\nif(array[i].hasOwnProperty(separator)){nextLevel=level+1;nextPath=path?path+'.'+array[i].label:array[i].label;setProperty.call(this,array[i][separator],separator,nextLevel,nextPath);}}\nreturn array;}\nfunction parseOptions(nodes){var caption,value,cacheNodes,copyNodes;nodes=setProperty(nodes,'optgroup');copyNodes=JSON.parse(JSON.stringify(nodes));cacheNodes=flattenCollection(copyNodes,'optgroup');nodes=_.map(nodes,function(node){value=node.value;if(value==null||value===''){if(_.isUndefined(caption)){caption=node.label;}}else{return node;}});return{options:_.compact(nodes),cacheOptions:{plain:_.compact(cacheNodes),tree:_.compact(nodes)}};}\nreturn Abstract.extend({defaults:{options:[],total:0,listVisible:false,value:[],filterOptions:false,chipsEnabled:true,itemsQuantity:'',filterInputValue:'',filterOptionsFocus:false,multiselectFocus:false,multiple:true,selectType:'tree',lastSelectable:false,showFilteredQuantity:true,showCheckbox:true,levelsVisibility:true,openLevelsAction:true,showOpenLevelsActionIcon:true,optgroupLabels:false,closeBtn:true,showPath:true,labelsDecoration:false,disableLabel:false,filterRateLimit:500,filterRateLimitMethod:'notifyAtFixedRate',closeBtnLabel:$t('Done'),optgroupTmpl:'ui/grid/filters/elements/ui-select-optgroup',quantityPlaceholder:$t('options'),hoverClass:'_hover',rootListSelector:'ul.admin__action-multiselect-menu-inner._root',visibleOptionSelector:'li.admin__action-multiselect-menu-inner-item:visible',actionTargetSelector:'.action-menu-item',selectedPlaceholders:{defaultPlaceholder:$t('Select...'),lotPlaceholders:$t('Selected')},separator:'optgroup',searchOptions:false,loading:false,searchUrl:false,lastSearchKey:'',lastSearchPage:1,filterPlaceholder:'',emptyOptionsHtml:'',cachedSearchResults:{},pageLimit:50,deviation:30,validationLoading:false,isRemoveSelectedIcon:false,debounce:300,missingValuePlaceholder:$t('Entity with ID: %s doesn\\'t exist'),isDisplayMissingValuePlaceholder:false,currentSearchKey:'',listens:{listVisible:'cleanHoveredElement',filterInputValue:'filterOptionsList',options:'checkOptionsList'},presets:{single:{showCheckbox:false,chipsEnabled:false,closeBtn:false},optgroup:{showCheckbox:false,lastSelectable:true,optgroupLabels:true,openLevelsAction:false,labelsDecoration:true,showOpenLevelsActionIcon:false}}},initialize:function(){this._super();$.async(this.rootListSelector,this,this.onRootListRender.bind(this));return this;},initConfig:function(config){var result=parseOptions(config.options),defaults=this.constructor.defaults,multiple=_.isBoolean(config.multiple)?config.multiple:defaults.multiple,type=config.selectType||defaults.selectType,showOpenLevelsActionIcon=_.isBoolean(config.showOpenLevelsActionIcon)?config.showOpenLevelsActionIcon:defaults.showOpenLevelsActionIcon,openLevelsAction=_.isBoolean(config.openLevelsAction)?config.openLevelsAction:defaults.openLevelsAction;multiple=!multiple?'single':false;config.showOpenLevelsActionIcon=showOpenLevelsActionIcon&&openLevelsAction;_.extend(config,result,defaults.presets[multiple],defaults.presets[type]);this._super();return this;},hasChildList:function(){return _.find(this.options(),function(option){return!!option[this.separator];},this);},isTree:function(){return this.hasChildList()&&this.selectType!=='optgroup';},addLastElement:function(data){if(!data.hasOwnProperty(this.separator)){!this.cacheOptions.lastOptions?this.cacheOptions.lastOptions=[]:false;if(!_.findWhere(this.cacheOptions.lastOptions,{value:data.value})){this.cacheOptions.lastOptions.push(data);}\nreturn true;}\nreturn false;},getEmptyOptionsUnsanitizedHtml:function(){return this.emptyOptionsHtml;},checkOptionsList:function(options){if(options.length>this.cacheOptions.plain.length){this.cacheOptions.plain=options;this.setCaption();}},isLabelDecoration:function(data){return data.hasOwnProperty(this.separator)&&this.labelsDecoration;},initObservable:function(){this._super();this.observe(['listVisible','placeholder','multiselectFocus','options','itemsQuantity','filterInputValue','filterOptionsFocus','loading','validationLoading','isDisplayMissingValuePlaceholder']);this.filterInputValue.extend({rateLimit:{timeout:this.filterRateLimit,method:this.filterRateLimitMethod}});return this;},keyDownHandlers:function(){return{enterKey:this.enterKeyHandler,escapeKey:this.escapeKeyHandler,spaceKey:this.enterKeyHandler,pageUpKey:this.pageUpKeyHandler,pageDownKey:this.pageDownKeyHandler};},showLevels:function(data){var curLevel=++data.level,isVisible;if(data.visible){isVisible=data.visible();}else{isVisible=!!data.hasOwnProperty(this.separator)&&_.isBoolean(this.levelsVisibility)&&this.levelsVisibility||data.hasOwnProperty(this.separator)&&parseInt(this.levelsVisibility,10)>=curLevel;data.visible=ko.observable(isVisible);data.isVisited=isVisible;}\nreturn isVisible;},getLevelVisibility:function(data){if(data.visible){return data.visible();}\nreturn this.showLevels(data);},setOption:function(option,options){var copyOptionsTree;options=options||this.cacheOptions.tree;_.each(options,function(opt){if(opt.value==option.parent){delete option.parent;opt[this.separator]?opt[this.separator].push(option):opt[this.separator]=[option];copyOptionsTree=JSON.parse(JSON.stringify(this.cacheOptions.tree));this.cacheOptions.plain=flattenCollection(copyOptionsTree,this.separator);this.options(this.cacheOptions.tree);}else if(opt[this.separator]){this.setOption(option,opt[this.separator]);}},this);},outerClick:function(){this.listVisible()?this.listVisible(false):false;if(isTouchDevice){this.multiselectFocus(false);}},filterOptionsKeydown:function(data,event){var key=keyCodes[event.keyCode];!this.isTabKey(event)?event.stopPropagation():false;if(key==='pageDownKey'||key==='pageUpKey'){event.preventDefault();this.filterOptionsFocus(false);this.cacheUiSelect.focus();}\nthis.keydownSwitcher(data,event);return true;},filterOptionsList:function(){var value=this.filterInputValue().trim().toLowerCase(),array=[];if(this.searchOptions){return this.loadOptions(value);}\nthis.cleanHoveredElement();if(!value){this.renderPath=false;this.options(this.cacheOptions.tree);this._setItemsQuantity(false);return false;}\nthis.showPath?this.renderPath=true:false;if(this.filterInputValue()){array=this.selectType==='optgroup'?this._getFilteredArray(this.cacheOptions.lastOptions,value):this._getFilteredArray(this.cacheOptions.plain,value);if(!value.length){this.options(this.cacheOptions.plain);this._setItemsQuantity(this.cacheOptions.plain.length);}else{this.options(array);this._setItemsQuantity(array.length);}\nreturn false;}\nthis.options(this.cacheOptions.plain);},_getFilteredArray:function(list,value){var i=0,array=[],curOption;for(i;i<list.length;i++){curOption=list[i].label.toLowerCase();if(curOption.indexOf(value)>-1){array.push(list[i]);}}\nreturn array;},getPath:function(data){var pathParts,createdPath='';if(this.renderPath){pathParts=data.path.split('.');_.each(pathParts,function(curData){createdPath=createdPath?createdPath+' / '+curData:curData;});return createdPath;}},_setItemsQuantity:function(data){if(this.showFilteredQuantity){data||parseInt(data,10)===0?this.itemsQuantity(this.getItemsPlaceholder(data)):this.itemsQuantity('');}},getItemsPlaceholder:function(data){return data+' '+this.quantityPlaceholder;},removeSelected:function(value,data,event){event?event.stopPropagation():false;this.value.remove(value);},isTabKey:function(event){return keyCodes[event.keyCode]==='tabKey';},cleanHoveredElement:function(){if(this.hoveredElement){$(this.hoveredElement).children(this.actionTargetSelector).removeClass(this.hoverClass);this.hoveredElement=null;}\nreturn this;},isSelected:function(value){return this.multiple?_.contains(this.value(),value):this.value()===value;},isSelectedValue:function(option){if(_.isUndefined(option)){return false;}\nreturn this.isSelected(option.value);},isOptgroupLabels:function(data){return data.hasOwnProperty(this.separator)&&this.optgroupLabels;},isHovered:function(data){var element=this.hoveredElement,elementData;if(!element){return false;}\nelementData=ko.dataFor(this.hoveredElement);if(_.isUndefined(elementData)){return false;}\nreturn data.value===elementData.value;},toggleListVisible:function(){this.listVisible(!this.disabled()&&!this.listVisible());return this;},getSelected:function(){var selected=this.value();return this.cacheOptions.plain.filter(function(opt){return _.isArray(selected)?_.contains(selected,opt.value):selected==opt.value;});},toggleOptionSelected:function(data){var isSelected=this.isSelected(data.value);if(this.lastSelectable&&data.hasOwnProperty(this.separator)){return this;}\nif(!this.multiple){if(!isSelected){this.value(data.value);}\nthis.listVisible(false);}else{if(!isSelected){this.value.push(data.value);}else{this.value(_.without(this.value(),data.value));}}\nreturn this;},openChildLevel:function(data){var contextElement=data,isVisible;if(this.openLevelsAction&&data.hasOwnProperty(this.separator)&&_.isBoolean(this.levelsVisibility)||this.openLevelsAction&&data.hasOwnProperty(this.separator)&&parseInt(this.levelsVisibility,10)<=data.level){isVisible=!contextElement.visible();if(isVisible&&!contextElement.isVisited){contextElement.isVisited=true;}\ncontextElement.visible(isVisible);}},hasData:function(){if(!this.value()){this.value([]);}\nreturn this.value()?!!this.value().length:false;},onDelegatedMouseMove:function(event){var target=$(event.currentTarget).closest(this.visibleOptionSelector)[0];if(this.isCursorPositionChange(event)||this.hoveredElement===target){return;}\nthis._hoverTo(target);this.setCursorPosition(event);},getOptionIndex:function(data){var index;_.each(this.cacheOptions.plain,function(opt,id){if(data.value===opt.value){index=id;}});return index;},setCursorPosition:function(event){this.cursorPosition={x:event.pageX,y:event.pageY};},isCursorPositionChange:function(event){return this.cursorPosition&&this.cursorPosition.x===event.pageX&&this.cursorPosition.y===event.pageY;},onFocusIn:function(ctx,event){!this.cacheUiSelect?this.cacheUiSelect=event.target:false;this.multiselectFocus(true);},onFocusOut:function(){this.multiselectFocus(false);},enterKeyHandler:function(){if(this.filterOptionsFocus()){return false;}\nif(this.listVisible()){if(this.hoveredElement){this.toggleOptionSelected(ko.dataFor(this.hoveredElement));}}else{this.setListVisible(true);}},escapeKeyHandler:function(){this.listVisible()?this.setListVisible(false):false;},pageDownKeyHandler:function(){this._setHoverToElement(1);},_getElemByData:function(data){var i=0,list=$(this.cacheUiSelect).find('li'),length=this.options().length,result;for(i;i<length;i++){if(this.options()[i].value===data.value){result=$(list[i]);}}\nreturn result;},_setHoverToElement:function(direction){var element;if(direction===1){element=this._getNextElement();}else if(direction===-1){element=this._getPreviousElement();}\nif(element){this._hoverTo(element);this._scrollTo(element);}},_scrollTo:function(element){var curEl=$(element).children(this.actionTargetSelector),wrapper=$(this.rootList),curElPos={},wrapperPos={};curElPos.start=curEl.offset().top;curElPos.end=curElPos.start+curEl.outerHeight();wrapperPos.start=wrapper.offset().top;wrapperPos.end=wrapperPos.start+wrapper.height();if(curElPos.start<wrapperPos.start){wrapper.scrollTop(wrapper.scrollTop()-(wrapperPos.start-curElPos.start));}else if(curElPos.end>wrapperPos.end){wrapper.scrollTop(wrapper.scrollTop()+curElPos.end-wrapperPos.end);}},pageUpKeyHandler:function(){this._setHoverToElement(-1);},keydownSwitcher:function(data,event){var keyName=keyCodes[event.keyCode];if(this.isTabKey(event)){if(!this.filterOptionsFocus()&&this.listVisible()&&this.filterOptions){this.cacheUiSelect.trigger('blur');this.filterOptionsFocus(true);this.cleanHoveredElement();return false;}\nthis.listVisible(false);return true;}\nif(this.keyDownHandlers().hasOwnProperty(keyName)){this.keyDownHandlers()[keyName].apply(this,arguments);}else{return true;}},setCaption:function(){var length,caption='';if(!_.isArray(this.value())&&this.value()){length=1;}else if(this.value()){length=this.value().length;}else{this.value([]);length=0;}\nthis.warn(caption);if(this.isDisplayMissingValuePlaceholder&&length&&!this.getSelected().length){caption=this.missingValuePlaceholder.replace('%s',this.value());this.placeholder(caption);this.warn(caption);return this.placeholder();}\nif(length>1){this.placeholder(length+' '+this.selectedPlaceholders.lotPlaceholders);}else if(length&&this.getSelected().length){this.placeholder(this.getSelected()[0].label);}else{this.placeholder(this.selectedPlaceholders.defaultPlaceholder);}\nreturn this.placeholder();},setListVisible:function(value){this.listVisible(value);},getPreview:function(){var selected=this.getSelected();return selected.map(function(option){return option.label;}).join(', ');},_getPreviousElement:function(){var currentElement=this.hoveredElement,lastElement=this._getLastIn(this.rootList),previousElement;if(!currentElement){return lastElement;}\npreviousElement=$(currentElement).prev()[0];return this._getLastIn(previousElement)||previousElement||this._getFirstParentOf(currentElement)||lastElement;},_getNextElement:function(){var currentElement=this.hoveredElement,firstElement=this._getFirstIn(this.rootList);if(!currentElement){return firstElement;}\nreturn this._getFirstIn(currentElement)||$(currentElement).next()[0]||this._getParentsOf(currentElement).next()[0]||firstElement;},_getFirstIn:function(scope){return $(scope).find(this.visibleOptionSelector)[0];},_getLastIn:function(scope){return $(scope).find(this.visibleOptionSelector).last()[0];},_getParentsOf:function(scope){return $(scope).parents(this.visibleOptionSelector);},_getFirstParentOf:function(scope){return this._getParentsOf(scope)[0];},_hoverTo:function(element){if(this.hoveredElement){$(this.hoveredElement).children(this.actionTargetSelector).removeClass(this.hoverClass);}\n$(element).children(this.actionTargetSelector).addClass(this.hoverClass);this.hoveredElement=element;},onRootListRender:function(element){var targetSelector='li > '+this.actionTargetSelector;this.rootList=element;$(this.rootList).on('mousemove',targetSelector,this.onDelegatedMouseMove.bind(this));},loadOptions:function(searchKey){var currentPage=searchKey===this.lastSearchKey?this.lastSearchPage+1:1,cachedSearchResult;this.renderPath=!!this.showPath;if(this.isSearchKeyCached(searchKey)){cachedSearchResult=this.getCachedSearchResults(searchKey);this.cacheOptions.plain=cachedSearchResult.options;this.options(cachedSearchResult.options);this.afterLoadOptions(searchKey,cachedSearchResult.lastPage,cachedSearchResult.total);return;}\nif(currentPage===1){this.options([]);}\nthis.processRequest(searchKey,currentPage);},onScrollDown:function(data,event){var clientHight=event.target.scrollTop+event.target.clientHeight,scrollHeight=event.target.scrollHeight;if(!this.searchOptions){return;}\nif(clientHight>scrollHeight-this.deviation&&!this.isSearchKeyCached(data.filterInputValue())){this.loadOptions(data.filterInputValue());}},getCachedSearchResults:function(searchKey){if(this.cachedSearchResults.hasOwnProperty(searchKey)){return this.cachedSearchResults[searchKey];}\nreturn{options:[],lastPage:1,total:0};},setCachedSearchResults:function(searchKey,optionsArray,page,total){var cachedData={};cachedData.options=optionsArray;cachedData.lastPage=page;cachedData.total=total;this.cachedSearchResults[searchKey]=cachedData;},isSearchKeyCached:function(searchKey){var totalCached=this.cachedSearchResults.hasOwnProperty(searchKey)?this.deviation*this.cachedSearchResults[searchKey].lastPage:0;return totalCached>0&&totalCached>=this.cachedSearchResults[searchKey].total;},processRequest:function(searchKey,page){this.loading(true);this.currentSearchKey=searchKey;$.ajax({url:this.searchUrl,type:'get',dataType:'json',context:this,data:{searchKey:searchKey,page:page,limit:this.pageLimit},success:$.proxy(this.success,this),error:$.proxy(this.error,this),beforeSend:$.proxy(this.beforeSend,this),complete:$.proxy(this.complete,this,searchKey,page)});},success:function(response){var existingOptions=this.options();_.each(response.options,function(opt){existingOptions.push(opt);});this.total=response.total;this.cacheOptions.plain=existingOptions;this.options(existingOptions);},beforeSend:function(){},error:function(){this.options([]);},complete:function(searchKey,page){this.setCachedSearchResults(searchKey,this.options(),page,this.total);this.afterLoadOptions(searchKey,page,this.total);},afterLoadOptions:function(searchKey,page,total){this.lastSearchKey=searchKey;this.lastSearchPage=page;this._setItemsQuantity(total);this.loading(false);}});});","Magento_Ui/js/form/element/url-input.min.js":"define(['underscore','uiLayout','mage/translate','Magento_Ui/js/form/element/abstract'],function(_,layout,$t,Abstract){'use strict';return Abstract.extend({defaults:{linkedElement:{},settingTemplate:'ui/form/element/urlInput/setting',typeSelectorTemplate:'ui/form/element/urlInput/typeSelector',options:[],linkedElementInstances:{},isDisplayAdditionalSettings:true,settingValue:false,settingLabel:$t('Open in new tab'),tracks:{linkedElement:true},baseLinkSetting:{namePrefix:'${$.name}.',dataScopePrefix:'${$.dataScope}.',provider:'${$.provider}'},urlTypes:{},listens:{settingValue:'checked',disabled:'hideLinkedElement',linkType:'createChildUrlInputComponent'},links:{linkType:'${$.provider}:${$.dataScope}.type',settingValue:'${$.provider}:${$.dataScope}.setting'}},initConfig:function(config){var processedLinkTypes={},baseLinkType=this.constructor.defaults.baseLinkSetting;_.each(config.urlTypes,function(linkSettingsArray,linkName){linkSettingsArray.name=baseLinkType.namePrefix+linkName;linkSettingsArray.dataScope=baseLinkType.dataScopePrefix+linkName;linkSettingsArray.type=linkName;linkSettingsArray.disabled=config.disabled;linkSettingsArray.visible=config.visible;processedLinkTypes[linkName]={};_.extend(processedLinkTypes[linkName],baseLinkType,linkSettingsArray);});_.extend(this.constructor.defaults.urlTypes,processedLinkTypes);this._super();},initObservable:function(){this._super().observe('componentTemplate options value linkType settingValue checked isDisplayAdditionalSettings').setOptions();return this;},setOptions:function(){var result=[];_.each(this.urlTypes,function(option,key){result.push({value:key,label:option.label,sortOrder:option.sortOrder||0});});result.sort(function(a,b){return a.sortOrder>b.sortOrder?1:-1;});this.options(result);return this;},setPreview:function(visible){this.linkedElement().visible(visible);},hideLinkedElement:function(disabled){this.linkedElement().disabled(disabled);},destroy:function(){_.each(this.linkedElementInstances,function(value){value().destroy();});this._super();},createChildUrlInputComponent:function(value){var elementConfig;if(!_.isEmpty(value)&&_.isUndefined(this.linkedElementInstances[value])){elementConfig=this.urlTypes[value];layout([elementConfig]);this.linkedElementInstances[value]=this.requestModule(elementConfig.name);}\nthis.linkedElement=this.linkedElementInstances[value];},getLinkedElementName:function(){return this.linkedElement;},checkboxClick:function(){if(!this.disabled()){this.settingValue(!this.settingValue());}}});});","Magento_Ui/js/form/element/website.min.js":"define(['underscore','uiRegistry','./select'],function(_,registry,Select){'use strict';return Select.extend({defaults:{customerId:null,isGlobalScope:0},initialize:function(){this._super();return this;}});});","Magento_Ui/js/form/element/wysiwyg.min.js":"define(['wysiwygAdapter','Magento_Ui/js/lib/view/utils/async','underscore','ko','./abstract','mage/adminhtml/events','Magento_Variable/variables'],function(wysiwyg,$,_,ko,Abstract,varienGlobalEvents){'use strict';return Abstract.extend({currentWysiwyg:undefined,defaults:{elementSelector:'textarea',suffixRegExpPattern:'${ $.wysiwygUniqueSuffix }',$wysiwygEditorButton:'',links:{value:'${ $.provider }:${ $.dataScope }'},template:'ui/form/field',elementTmpl:'ui/form/element/wysiwyg',content:'',showSpinner:false,loading:false,listens:{disabled:'setDisabled'}},initialize:function(){this._super().initNodeListener();$.async({component:this,selector:'button'},function(element){this.$wysiwygEditorButton=this.$wysiwygEditorButton?this.$wysiwygEditorButton.add($(element)):$(element);}.bind(this));varienGlobalEvents.attachEventHandler('wysiwygEditorInitialized',function(){if(!_.isUndefined(window.tinyMceEditors)){this.currentWysiwyg=window.tinyMceEditors[this.wysiwygId];}\nif(this.disabled()){this.setDisabled(true);}}.bind(this));return this;},initConfig:function(config){var pattern=config.suffixRegExpPattern||this.constructor.defaults.suffixRegExpPattern;pattern=pattern.replace(/\\$/g,'\\\\$&');config.content=config.content.replace(new RegExp(pattern,'g'),this.getUniqueSuffix(config));this._super();return this;},getUniqueSuffix:function(config){return config.name.replace(/(\\.|-)/g,'_');},destroy:function(){this._super();wysiwyg.removeEvents(this.wysiwygId);},initObservable:function(){this._super().observe(['value','content']);return this;},initNodeListener:function(){$.async({component:this,selector:this.elementSelector},this.setElementNode.bind(this));return this;},setElementNode:function(node){$(node).bindings({value:this.value});},setDisabled:function(disabled){if(this.$wysiwygEditorButton&&disabled){this.$wysiwygEditorButton.prop('disabled','disabled');}else if(this.$wysiwygEditorButton){this.$wysiwygEditorButton.prop('disabled',false);}\nif(!_.isUndefined(this.currentWysiwyg)&&this.currentWysiwyg.activeEditor()){this.currentWysiwyg.setEnabledStatus(!disabled);this.currentWysiwyg.getPluginButtons().prop('disabled',disabled);}},getContentUnsanitizedHtml:function(){return this.content();}});});","Magento_Ui/js/grid/data-storage.min.js":"define(['jquery','underscore','mageUtils','uiClass'],function($,_,utils,Class){'use strict';return Class.extend({defaults:{cacheRequests:true,cachedRequestDelay:50,indexField:'entity_id',requestConfig:{url:'${ $.updateUrl }',method:'GET',dataType:'json'},dataScope:'',data:{}},initConfig:function(){var scope;this._super();scope=this.dataScope;if(typeof scope==='string'){this.dataScope=scope?[scope]:[];}\nthis._requests=[];return this;},getByIds:function(ids){var result=[],hasData;hasData=ids.every(function(id){var item=this.data[id];return item?result.push(item):false;},this);return hasData?result:false;},getIds:function(data){data=data||this.data;return _.pluck(data,this.indexField);},getData:function(params,options){var cachedRequest;if(this.hasScopeChanged(params)){this.clearRequests();}else{cachedRequest=this.getRequest(params);}\noptions=options||{};return!options.refresh&&cachedRequest?this.getRequestData(cachedRequest):this.requestData(params);},hasScopeChanged:function(params){var lastRequest=_.last(this._requests),keys,diff;if(!lastRequest){return false;}\ndiff=utils.compare(lastRequest.params,params);keys=_.pluck(diff.changes,'path');keys=keys.concat(Object.keys(diff.containers));return _.intersection(this.dataScope,keys).length>0;},updateData:function(data){var records=_.indexBy(data||[],this.indexField);_.extend(this.data,records);return this;},requestData:function(params){var query=utils.copy(params),handler=this.onRequestComplete.bind(this,query),request;this.requestConfig.data=query;request=$.ajax(this.requestConfig).done(handler);return request;},getRequest:function(params){return _.find(this._requests,function(request){return _.isEqual(params,request.params);},this);},getRequestData:function(request){var defer=$.Deferred(),resolve=defer.resolve.bind(defer),delay=this.cachedRequestDelay,result;if(request.showTotalRecords===undefined){request.showTotalRecords=true;}\nresult={items:this.getByIds(request.ids),totalRecords:request.totalRecords,showTotalRecords:request.showTotalRecords,errorMessage:request.errorMessage};delay?_.delay(resolve,delay,result):resolve(result);return defer.promise();},cacheRequest:function(data,params){var cached=this.getRequest(params);if(cached){this.removeRequest(cached);}\nif(data.showTotalRecords===undefined){data.showTotalRecords=true;}\nthis._requests.push({ids:this.getIds(data.items),params:params,totalRecords:data.totalRecords,showTotalRecords:data.showTotalRecords,errorMessage:data.errorMessage});return this;},clearRequests:function(){this._requests.splice(0);return this;},removeRequest:function(request){var requests=this._requests,index=requests.indexOf(request);if(~index){requests.splice(index,1);}\nreturn this;},wasRequested:function(params){return!!this.getRequest(params);},onRequestComplete:function(params,data){this.updateData(data.items);if(this.cacheRequests){this.cacheRequest(data,params);}}});});","Magento_Ui/js/grid/dnd.min.js":"define(['ko','Magento_Ui/js/lib/view/utils/async','underscore','uiRegistry','uiClass'],function(ko,$,_,registry,Class){'use strict';var isTouchDevice=typeof document.ontouchstart!=='undefined',transformProp;transformProp=(function(){var style=document.body.style,base='Transform',vendors=['webkit','moz','ms','o'],vi=vendors.length,property;if(typeof style.transform!='undefined'){return'transform';}\nwhile(vi--){property=vendors[vi]+base;if(typeof style[property]!='undefined'){return property;}}})();function getTouch(e){return e.touches?e.touches[0]:e;}\nfunction locate(elem,x,y){var value='translate('+x+'px,'+y+'px)';elem.style[transformProp]=value;}\nfunction isInside(x,y,area){return(area&&x>=area.left&&x<=area.right&&y>=area.top&&y<=area.bottom);}\nfunction distance(x1,y1,x2,y2){var dx=x2-x1,dy=y2-y1;dx*=dx;dy*=dy;return Math.sqrt(dx+dy);}\nfunction getModel(elem){return ko.dataFor(elem);}\nfunction compareCols(c1,c2){return c1.cellIndex===c2.cellIndex;}\nreturn Class.extend({defaults:{rootSelector:'${ $.columnsProvider }:.admin__data-grid-wrap',tableSelector:'${ $.rootSelector } -> table.data-grid',mainTableSelector:'[data-role=\"grid\"]',columnSelector:'${ $.tableSelector } thead tr th',noSelectClass:'_no-select',hiddenClass:'_hidden',fixedX:false,fixedY:true,minDistance:2,columns:[]},initialize:function(){_.bindAll(this,'initTable','initColumn','removeColumn','onMouseMove','onMouseUp','onMouseDown');this.$body=$('body');this._super().initListeners();$.async(this.tableSelector,this.initTable);$.async(this.columnSelector,this.initColumn);return this;},initListeners:function(){if(isTouchDevice){$(document).on({touchmove:this.onMouseMove,touchend:this.onMouseUp,touchleave:this.onMouseUp});}else{$(document).on({mousemove:this.onMouseMove,mouseup:this.onMouseUp});}\nreturn this;},initTable:function(table){this.table=$(table).is(this.mainTableSelector)?table:this.table;$(table).addClass('data-grid-draggable');return this;},initColumn:function(column){var model=getModel(column),eventName;if(!model||!model.draggable){return this;}\nif(!ko.es5.isTracked(model,'dragover')){model.track('dragover');}\nthis.columns.push(column);$(column).bindings({css:{'_dragover-left':ko.computed(function(){return model.dragover==='right';}),'_dragover-right':ko.computed(function(){return model.dragover==='left';})}});eventName=isTouchDevice?'touchstart':'mousedown';$(column).on(eventName,this.onMouseDown);$.async.remove(column,this.removeColumn);return this;},removeColumn:function(column){var columns=this.columns,index=columns.indexOf(column);if(~index){columns.splice(index,1);}\nreturn this;},_getColumnIndex:function(elem){return _.toArray(elem.parentNode.cells).indexOf(elem);},_cacheCoords:function(){var container=this.table.getBoundingClientRect(),bodyRect=document.body.getBoundingClientRect(),grabbed=this.grabbed,dragElem=grabbed.elem,cells=_.toArray(dragElem.parentNode.cells),rect;this.coords=this.columns.map(function(column){var data,colIndex=_.findIndex(cells,function(cell){return compareCols(cell,column);});rect=column.getBoundingClientRect();data={index:colIndex,target:column,orig:rect,left:rect.left-bodyRect.left,right:rect.right-bodyRect.left,top:rect.top-bodyRect.top,bottom:container.bottom-bodyRect.top};if(column===dragElem){this.dragArea=data;grabbed.shiftX=rect.left-grabbed.x;grabbed.shiftY=rect.top-grabbed.y;}\nreturn data;},this);return this;},_cloneTable:function(elem){var clone=this.table.cloneNode(true),columnIndex=this._getColumnIndex(elem),headRow=clone.tHead.firstElementChild,headCells=_.toArray(headRow.cells),tableBody=clone.tBodies[0],bodyRows=_.toArray(tableBody.children),origTrs=this.table.tBodies[0].children;clone.style.width=elem.offsetWidth+'px';headCells.forEach(function(th,index){if(index!==columnIndex){headRow.removeChild(th);}});headRow.cells[0].style.height=elem.offsetHeight+'px';bodyRows.forEach(function(row,rowIndex){var cells=row.cells,cell;if(cells.length!==headCells.length){tableBody.removeChild(row);return;}\ncell=row.cells[columnIndex].cloneNode(true);while(row.firstElementChild){row.removeChild(row.firstElementChild);}\ncell.style.height=origTrs[rowIndex].cells[columnIndex].offsetHeight+'px';row.appendChild(cell);});this.dragTable=clone;$(clone).addClass('_dragging-copy').appendTo('body');return this;},_getDropArea:function(x,y){return _.find(this.coords,function(area){return isInside(x,y,area);});},_updateAreas:function(x,y){var leavedArea=this.dropArea,area=this.dropArea=this._getDropArea(x,y);if(leavedArea){this.dragleave(leavedArea);}\nif(area&&!compareCols(area.target,this.dragArea.target)){this.dragenter(area);}},grab:function(x,y,elem){this.initDrag=true;this.grabbed={x:x,y:y,elem:elem};this.$body.addClass(this.noSelectClass);},dragstart:function(elem){this.initDrag=false;this.dropArea=false;this.dragging=true;getModel(elem).dragging(true);this._cacheCoords()._cloneTable(elem);},drag:function(x,y){var grabbed=this.grabbed,dragArea=this.dragArea,posX=x+grabbed.shiftX,posY=y+grabbed.shiftY;if(this.fixedX){x=dragArea.left;posX=dragArea.orig.left;}\nif(this.fixedY){y=dragArea.top;posY=dragArea.orig.top;}\nlocate(this.dragTable,posX,posY);if(!isInside(x,y,this.dropArea)){this._updateAreas(x,y);}},dragenter:function(dropArea){var direction=this.dragArea.index<dropArea.index?'left':'right';getModel(dropArea.target).dragover=direction;},dragleave:function(dropArea){getModel(dropArea.target).dragover=false;},dragend:function(dragArea){var dropArea=this.dropArea,dragElem=dragArea.target;this.dragging=false;document.body.removeChild(this.dragTable);getModel(dragElem).dragging(false);if(dropArea&&!compareCols(dropArea.target,dragElem)){this.drop(dropArea,dragArea);}},drop:function(dropArea,dragArea){var dropModel=getModel(dropArea.target),dragModel=getModel(dragArea.target);getModel(this.table).insertChild(dragModel,dropModel);dropModel.dragover=false;},onMouseMove:function(e){var grab=this.grabbed,touch=getTouch(e),x=touch.pageX,y=touch.pageY;if(this.initDrag||this.dragging){e.preventDefault();}\nif(this.initDrag&&distance(x,y,grab.x,grab.y)>=this.minDistance){this.dragstart(grab.elem);}\nif(this.dragging){this.drag(x,y);}},onMouseUp:function(){if(this.initDrag||this.dragging){this.initDrag=false;this.$body.removeClass(this.noSelectClass);}\nif(this.dragging){this.dragend(this.dragArea);}},onMouseDown:function(e){var touch=getTouch(e);this.grab(touch.pageX,touch.pageY,e.currentTarget);}});});","Magento_Ui/js/grid/export.min.js":"define(['jquery','underscore','uiElement'],function($,_,Element){'use strict';return Element.extend({defaults:{template:'ui/grid/exportButton',selectProvider:'ns = ${ $.ns }, index = ids',checked:'',additionalParams:[],modules:{selections:'${ $.selectProvider }'}},initialize:function(){this._super().initChecked();},initConfig:function(){this._super();_.each(this.additionalParams,function(value,key){key='additionalParams.'+key;this.imports[key]=value;},this);return this;},initObservable:function(){this._super().observe('checked');return this;},initChecked:function(){if(!this.checked()){this.checked(this.options[0].value);}\nreturn this;},getParams:function(){var selections=this.selections(),data=selections?selections.getSelections():null,itemsType,result={};if(data){itemsType=data.excludeMode?'excluded':'selected';result.filters=data.params.filters;result.search=data.params.search;result.namespace=data.params.namespace;result[itemsType]=data[itemsType];_.each(this.additionalParams,function(param,key){result[key]=param;});if(!result[itemsType].length){result[itemsType]=false;}}\nreturn result;},getActiveOption:function(){return _.findWhere(this.options,{value:this.checked()});},buildOptionUrl:function(option){var params=this.getParams();if(!params){return'javascript:void(0);';}\nreturn option.url+'?'+$.param(params);},applyOption:function(){var option=this.getActiveOption(),url=this.buildOptionUrl(option);location.href=url;}});});","Magento_Ui/js/grid/listing.min.js":"define(['ko','underscore','Magento_Ui/js/lib/spinner','rjsResolver','uiLayout','uiCollection'],function(ko,_,loader,resolver,layout,Collection){'use strict';return Collection.extend({defaults:{template:'ui/grid/listing',listTemplate:'ui/list/listing',stickyTmpl:'ui/grid/sticky/listing',viewSwitcherTmpl:'ui/grid/view-switcher',positions:false,displayMode:'grid',displayModes:{grid:{value:'grid',label:'Grid',template:'${ $.template }'},list:{value:'list',label:'List',template:'${ $.listTemplate }'}},dndConfig:{name:'${ $.name }_dnd',component:'Magento_Ui/js/grid/dnd',columnsProvider:'${ $.name }',enabled:true},editorConfig:{name:'${ $.name }_editor',component:'Magento_Ui/js/grid/editing/editor',columnsProvider:'${ $.name }',dataProvider:'${ $.provider }',enabled:false},resizeConfig:{name:'${ $.name }_resize',columnsProvider:'${ $.name }',component:'Magento_Ui/js/grid/resize',enabled:false},imports:{rows:'${ $.provider }:data.items'},listens:{elems:'updatePositions updateVisible','${ $.provider }:reload':'onBeforeReload','${ $.provider }:reloaded':'onDataReloaded'},modules:{dnd:'${ $.dndConfig.name }',resize:'${ $.resizeConfig.name }'},tracks:{displayMode:true},statefull:{displayMode:true}},initialize:function(){_.bindAll(this,'updateVisible');this._super().initDnd().initEditor().initResize();return this;},initObservable:function(){this._super().track({rows:[],visibleColumns:[]});return this;},initDnd:function(){if(this.dndConfig.enabled){layout([this.dndConfig]);}\nreturn this;},initResize:function(){if(this.resizeConfig.enabled){layout([this.resizeConfig]);}\nreturn this;},initEditor:function(){if(this.editorConfig.enabled){layout([this.editorConfig]);}\nreturn this;},initElement:function(element){var currentCount=this.elems().length,totalCount=this.initChildCount;if(totalCount===currentCount){this.initPositions();}\nelement.on('visible',this.updateVisible);return this._super();},initPositions:function(){this.on('positions',this.applyPositions.bind(this));this.setStatefull('positions');return this;},updatePositions:function(){var positions={};this.elems.each(function(elem,index){positions[elem.index]=index;});this.set('positions',positions);return this;},applyPositions:function(positions){var sorting;sorting=this.elems.map(function(elem){return{elem:elem,position:positions[elem.index]};});this.insertChild(sorting);return this;},getVisible:function(){var observable=ko.getObservable(this,'visibleColumns');return observable||this.visibleColumns;},getTemplate:function(){var mode=this.displayModes[this.displayMode];return mode.template;},getDisplayModes:function(){var modes=this.displayModes;return _.values(modes);},setDisplayMode:function(index){this.displayMode=index;return this;},countVisible:function(){return this.visibleColumns.length;},updateVisible:function(){this.visibleColumns=this.elems.filter('visible');return this;},hasData:function(){return!!this.rows&&!!this.rows.length;},hideLoader:function(){loader.get(this.name).hide();},showLoader:function(){loader.get(this.name).show();},onBeforeReload:function(){this.showLoader();},onDataReloaded:function(){resolver(this.hideLoader,this);}});});","Magento_Ui/js/grid/masonry.min.js":"define(['Magento_Ui/js/grid/listing','Magento_Ui/js/lib/view/utils/raf','jquery','ko','underscore'],function(Listing,raf,$,ko,_){'use strict';return Listing.extend({defaults:{template:'ui/grid/masonry',imports:{rows:'${ $.provider }:data.items',errorMessage:'${ $.provider }:data.errorMessage'},listens:{rows:'initComponent'},containerId:null,minRatio:null,containerWidth:window.innerWidth,imageMargin:20,maxImageHeight:240,containerWidthToMinRatio:{640:3,1280:5,1920:8},defaultMinRatio:10,refreshFPS:60},initObservable:function(){this._super().observe(['rows','errorMessage']);return this;},initComponent:function(rows){if(!rows.length){return;}\nthis.imageMargin=parseInt(this.imageMargin,10);this.container=$('[data-id=\"'+this.containerId+'\"]')[0];this.setLayoutStyles();this.setEventListener();return this;},setEventListener:function(){window.addEventListener('resize',function(){this.updateStyles();}.bind(this));},updateStyles:function(){raf(function(){this.containerWidth=window.innerWidth;this.setLayoutStyles();}.bind(this),this.refreshFPS);},setLayoutStyles:function(){var containerWidth=parseInt(this.container.clientWidth,10),rowImages=[],ratio=0,rowHeight=0,calcHeight=0,isLastRow=false,rowNumber=1;this.setMinRatio();this.rows().forEach(function(image,index){ratio+=parseFloat((image.width / image.height).toFixed(2));rowImages.push(image);if(ratio<this.minRatio&&index+1!==this.rows().length){return;}\nratio=Math.max(ratio,this.minRatio);calcHeight=(containerWidth-this.imageMargin*rowImages.length)/ ratio;rowHeight=calcHeight<this.maxImageHeight?calcHeight:this.maxImageHeight;isLastRow=index+1===this.rows().length;this.assignImagesToRow(rowImages,rowNumber,rowHeight,isLastRow);rowImages=[];ratio=0;rowNumber++;}.bind(this));},assignImagesToRow:function(images,rowNumber,rowHeight,isLastRow){var imageWidth;images.forEach(function(img){imageWidth=rowHeight*(img.width / img.height).toFixed(2);this.setImageStyles(img,imageWidth,rowHeight);this.setImageClass(img,{bottom:isLastRow});img.rowNumber=rowNumber;}.bind(this));images[0].firstInRow=true;images[images.length-1].lastInRow=true;},waitForContainer:function(callback){if(typeof this.container==='undefined'){setTimeout(function(){this.waitForContainer(callback);}.bind(this),500);}else{setTimeout(callback,0);}},setLayoutStylesWhenLoaded:function(){this.waitForContainer(function(){this.setLayoutStyles();}.bind(this));},setImageStyles:function(img,width,height){if(!img.styles){img.styles=ko.observable();}\nimg.styles({width:parseInt(width,10)+'px',height:parseInt(height,10)+'px'});},setImageClass:function(image,classes){if(!image.css){image.css=ko.observable(classes);}\nimage.css(classes);},setMinRatio:function(){var minRatio=_.find(this.containerWidthToMinRatio,function(ratio,width){return this.containerWidth<=width;},this);this.minRatio=minRatio?minRatio:this.defaultMinRatio;},hasData:function(){return!!this.rows()&&!!this.rows().length;},getErrorMessageUnsanitizedHtml:function(){return this.errorMessage();}});});","Magento_Ui/js/grid/massactions.min.js":"define(['underscore','uiRegistry','mageUtils','Magento_Ui/js/lib/collapsible','Magento_Ui/js/modal/confirm','Magento_Ui/js/modal/alert','mage/translate'],function(_,registry,utils,Collapsible,confirm,alert,$t){'use strict';return Collapsible.extend({defaults:{template:'ui/grid/actions',stickyTmpl:'ui/grid/sticky/actions',selectProvider:'ns = ${ $.ns }, index = ids',actions:[],noItemsMsg:$t('You haven\\'t selected any items!'),modules:{selections:'${ $.selectProvider }'}},initObservable:function(){this._super().observe('actions');return this;},applyAction:function(actionIndex){var data=this.getSelections(),action,callback;if(!data.total){alert({content:this.noItemsMsg});return this;}\naction=this.getAction(actionIndex);callback=this._getCallback(action,data);action.confirm?this._confirm(action,callback):callback();return this;},getSelections:function(){var provider=this.selections(),selections=provider&&provider.getSelections();return selections;},getAction:function(actionIndex){return _.findWhere(this.actions(),{type:actionIndex});},addAction:function(action){var actions=this.actions(),index=_.findIndex(actions,{type:action.type});~index?actions[index]=action:actions.push(action);this.actions(actions);return this;},_getCallback:function(action,selections){var callback=action.callback,args=[action,selections];if(utils.isObject(callback)){args.unshift(callback.target);callback=registry.async(callback.provider);}else if(typeof callback!='function'){callback=this.defaultCallback.bind(this);}\nreturn function(){callback.apply(null,args);};},defaultCallback:function(action,data){var itemsType=data.excludeMode?'excluded':'selected',selections={};selections[itemsType]=data[itemsType];if(!selections[itemsType].length){selections[itemsType]=false;}\n_.extend(selections,data.params||{});utils.submit({url:action.url,data:selections});},_confirm:function(action,callback){var confirmData=action.confirm,data=this.getSelections(),total=data.total?data.total:0,confirmMessage=confirmData.message+(data.showTotalRecords||data.showTotalRecords===undefined?' ('+total+' record'+(total>1?'s':'')+')':'');confirm({title:confirmData.title,content:confirmMessage,actions:{confirm:callback}});}});});","Magento_Ui/js/grid/provider.min.js":"define(['jquery','underscore','mageUtils','rjsResolver','uiLayout','Magento_Ui/js/modal/alert','mage/translate','uiElement','uiRegistry','Magento_Ui/js/grid/data-storage'],function($,_,utils,resolver,layout,alert,$t,Element,registry){'use strict';return Element.extend({defaults:{firstLoad:true,lastError:false,storageConfig:{component:'Magento_Ui/js/grid/data-storage',provider:'${ $.storageConfig.name }',name:'${ $.name }_storage',updateUrl:'${ $.update_url }'},listens:{params:'onParamsChange',requestConfig:'updateRequestConfig'},ignoreTmpls:{data:true},triggerDataReload:false},initialize:function(){utils.limit(this,'onParamsChange',5);_.bindAll(this,'onReload');this._super().initStorage().clearData();resolver(this.reload,this);return this;},initStorage:function(){layout([this.storageConfig]);return this;},clearData:function(){this.setData({items:[],totalRecords:0,showTotalRecords:true});return this;},setData:function(data){data=this.processData(data);this.set('data',data);return this;},processData:function(data){var items=data.items;_.each(items,function(record,index){record._rowIndex=index;});return data;},reload:function(options){var request=this.storage().getData(this.params,options);this.trigger('reload');request.done(this.onReload).fail(this.onError.bind(this));return request;},onParamsChange:function(){if(!this.firstLoad){this.reload();}else{this.triggerDataReload=true;}},onError:function(xhr){if(xhr.statusText==='abort'){return;}\nthis.set('lastError',true);this.firstLoad=false;this.triggerDataReload=false;alert({content:$t('Something went wrong.')});},onReload:function(data){this.firstLoad=false;this.set('lastError',false);this.setData(data).trigger('reloaded');if(this.triggerDataReload){this.triggerDataReload=false;this.reload();}},updateRequestConfig:function(requestConfig){registry.get(this.storageConfig.provider,function(storage){_.extend(storage.requestConfig,requestConfig);});}});});","Magento_Ui/js/grid/resize.min.js":"define(['Magento_Ui/js/lib/view/utils/async','ko','underscore','mageUtils','uiRegistry','Magento_Ui/js/lib/knockout/extender/bound-nodes','uiElement'],function($,ko,_,utils,registry,boundedNodes,Element){'use strict';return Element.extend({defaults:{rootSelector:'${ $.columnsProvider }:.admin__data-grid-wrap',tableSelector:'${ $.rootSelector } -> table.data-grid',mainTableSelector:'[data-role=\"grid\"]',columnSelector:'${ $.tableSelector } thead tr th',fieldSelector:'${ $.tableSelector } tbody tr td',imports:{storageColumnsData:'${ $.storageConfig.path }.storageColumnsData'},storageColumnsData:{},columnsElements:{},tableWidth:0,sumColumnsWidth:0,showLines:4,resizableElementClass:'shadow-div',resizingColumnClass:'_resizing',fixedLayoutClass:'_layout-fixed',inResizeClass:'_in-resize',visibleClass:'_resize-visible',cellContentElement:'div.data-grid-cell-content',minColumnWidth:40,layoutFixedPolyfillIterator:0,windowResize:false,resizable:false,resizeConfig:{maxRowsHeight:[],curResizeElem:{},depResizeElem:{},previousWidth:null}},initialize:function(){_.bindAll(this,'initTable','initColumn','mousedownHandler','mousemoveHandler','mouseupHandler','refreshLastColumn','refreshMaxRowHeight','preprocessingWidth','_eventProxy','checkAfterResize');this._super();this.observe(['maxRowsHeight']);this.maxRowsHeight([]);$.async(this.tableSelector,this.initTable);$.async(this.columnSelector,this.initColumn);return this;},initTable:function(table){if($(table).is(this.mainTableSelector)){this.table=table;this.tableWidth=$(table).outerWidth();$(window).on('resize',this.checkAfterResize);}\nif(navigator.userAgent.search(/Firefox/)>-1){this._layoutFixedPolyfill();}\n$(table).addClass(this.fixedLayoutClass);return this;},checkAfterResize:function(){var tableWidth,self=this;setTimeout(function(){tableWidth=$(self.table).outerWidth();if(self.tableWidth!==tableWidth){self.tableWidth=tableWidth;}else{self.preprocessingWidth();}},300);},checkSumColumnsWidth:function(){var table=$(this.table),elems=table.find('th:not([style*=\"width: auto\"]):visible'),elemsWidthMin=table.find('th[style*=\"width: '+(this.minColumnWidth-1)+'px\"]:visible'),elemsWidthAuto=table.find('th[style*=\"width: auto\"]:visible'),model;this.sumColumnsWidth=0;_.each(elems,function(elem){model=ko.dataFor(elem);model.width&&model.width!=='auto'?this.sumColumnsWidth+=model.width:false;},this);if(this.sumColumnsWidth+elemsWidthAuto.length*this.minColumnWidth+elemsWidthMin.length*this.minColumnWidth>this.tableWidth){return true;}\nreturn false;},setWidthToColumnsWidthAuto:function(){var elemsWidthAuto=$(this.table).find('th[style*=\"width: auto\"]:visible');_.each(elemsWidthAuto,function(elem){$(elem).outerWidth(this.minColumnWidth-1);},this);},hasMinimal:function(){var table=$(this.table),elemsWidthMin=table.find('th[style*=\"width: '+(this.minColumnWidth-1)+'px\"]:visible'),elemsWidthAuto=table.find('th[style*=\"width: auto\"]:visible');if(elemsWidthAuto&&this.sumColumnsWidth+elemsWidthAuto.length*this.minColumnWidth+elemsWidthMin.length*this.minColumnWidth+5<this.tableWidth){return true;}\nreturn false;},setAuto:function(){var elemsWidthAuto=$(this.table).find('th[style*=\"width: '+(this.minColumnWidth-1)+'px\"]:visible');_.each(elemsWidthAuto,function(elem){$(elem).outerWidth('auto');},this);},preprocessingWidth:function(){if(this.checkSumColumnsWidth()){this.setWidthToColumnsWidthAuto();}else if(this.hasMinimal()){this.setAuto();}},initColumn:function(column){var model=ko.dataFor(column),ctxIndex=this.getCtxIndex(ko.contextFor(column));model.width=this.getDefaultWidth(column);if(!this.hasColumn(model,ctxIndex,false)){this.columnsElements[model.index]=this.columnsElements[model.index]||{};this.columnsElements[model.index][ctxIndex]=column;this.initResizableElement(column);this.setStopPropagationHandler(column);$(column).outerWidth(model.width);}\nthis.refreshLastColumn(column);this.preprocessingWidth();model.on('visible',this.refreshLastColumn.bind(this,column));model.on('visible',this.preprocessingWidth.bind(this));},_layoutFixedPolyfill:function(){var self=this;setTimeout(function(){if(self.layoutFixedPolyfillIterator<20){$(window).trigger('resize');self.layoutFixedPolyfillIterator++;self._layoutFixedPolyfill();}else{return false;}},500);},initResizableElement:function(column){var model=ko.dataFor(column),templateDragElement='<div class=\"'+this.resizableElementClass+'\"></div>';if(_.isUndefined(model.resizeEnabled)||model.resizeEnabled){$(column).append(templateDragElement);return true;}\nreturn false;},setStopPropagationHandler:function(column){var events,click,mousedown;$(column).on('click',this._eventProxy);$(column).on('mousedown',this._eventProxy);events=$._data(column,'events');click=events.click;mousedown=events.mousedown;click.unshift(click.pop());mousedown.unshift(mousedown.pop());return this;},_eventProxy:function(event){if($(event.target).is('.'+this.resizableElementClass)){if(event.type==='click'){event.stopImmediatePropagation();}else if(event.type==='mousedown'){this.mousedownHandler(event);}}},refreshLastColumn:function(column){var i=0,columns=$(column).parent().children().not(':hidden'),length=columns.length;$('.'+this.visibleClass).removeClass(this.visibleClass);$(column).parent().children().not(':hidden').last().addClass(this.visibleClass);for(i;i<length;i++){if(!columns.eq(i).find('.'+this.resizableElementClass).length&&i){columns.eq(i-1).addClass(this.visibleClass);}}},refreshMaxRowHeight:function(elem){var rowsH=this.maxRowsHeight(),curEL=$(elem).find('div'),height,obj=this.hasRow($(elem).parent()[0],true);curEL.css('white-space','nowrap');height=curEL.height()*this.showLines;curEL.css('white-space','normal');if(obj){if(obj.maxHeight<height){rowsH[_.indexOf(rowsH,obj)].maxHeight=height;}else{return false;}}else{rowsH.push({elem:$(elem).parent()[0],maxHeight:height});}\n$(elem).parent().children().find(this.cellContentElement).css('max-height',height+'px');this.maxRowsHeight(rowsH);},_setResizeClass:function(){var rowElements=$(this.table).find('tr');rowElements.find('td:eq('+this.resizeConfig.curResizeElem.ctx.$index()+')').addClass(this.resizingColumnClass);rowElements.find('td:eq('+this.resizeConfig.depResizeElem.ctx.$index()+')').addClass(this.resizingColumnClass);},_removeResizeClass:function(){var rowElements=$(this.table).find('tr');rowElements.find('td:eq('+this.resizeConfig.curResizeElem.ctx.$index()+')').removeClass(this.resizingColumnClass);rowElements.find('td:eq('+this.resizeConfig.depResizeElem.ctx.$index()+')').removeClass(this.resizingColumnClass);},_canResize:function(column){if($(column).hasClass(this.visibleClass)||!$(this.resizeConfig.depResizeElem.elems[0]).find('.'+this.resizableElementClass).length){return false;}\nreturn true;},mousedownHandler:function(event){var target=event.target,column=$(target).parent()[0],cfg=this.resizeConfig,body=$('body');event.stopImmediatePropagation();cfg.curResizeElem.model=ko.dataFor(column);cfg.curResizeElem.ctx=ko.contextFor(column);cfg.curResizeElem.elems=this.hasColumn(cfg.curResizeElem.model,false,true);cfg.curResizeElem.position=event.pageX;cfg.depResizeElem.elems=this.getNextElements(cfg.curResizeElem.elems[0]);cfg.depResizeElem.model=ko.dataFor(cfg.depResizeElem.elems[0]);cfg.depResizeElem.ctx=ko.contextFor(cfg.depResizeElem.elems[0]);this._setResizeClass();if(!this._canResize(column)){return false;}\nevent.stopPropagation();this.resizable=true;cfg.curResizeElem.model.width=$(cfg.curResizeElem.elems[0]).outerWidth();cfg.depResizeElem.model.width=$(cfg.depResizeElem.elems[0]).outerWidth();body.addClass(this.inResizeClass);body.on('mousemove',this.mousemoveHandler);$(window).on('mouseup',this.mouseupHandler);},mousemoveHandler:function(event){var cfg=this.resizeConfig,width=event.pageX-cfg.curResizeElem.position,self=this;event.stopPropagation();event.preventDefault();if(this.resizable&&this.minColumnWidth<cfg.curResizeElem.model.width+width&&this.minColumnWidth<cfg.depResizeElem.model.width-width&&cfg.previousWidth!==width){cfg.curResizeElem.model.width+=width;cfg.depResizeElem.model.width-=width;cfg.curResizeElem.elems.forEach(function(el){$(el).outerWidth(cfg.curResizeElem.model.width);});cfg.depResizeElem.elems.forEach(function(el){$(el).outerWidth(cfg.depResizeElem.model.width);});cfg.previousWidth=width;cfg.curResizeElem.position=event.pageX;}else if(width<=-(cfg.curResizeElem.model.width-this.minColumnWidth)){cfg.curResizeElem.elems.forEach(function(el){$(el).outerWidth(self.minColumnWidth);});cfg.depResizeElem.elems.forEach(function(el){$(el).outerWidth(cfg.depResizeElem.model.width+\ncfg.curResizeElem.model.width-\nself.minColumnWidth);});}else if(width>=cfg.depResizeElem.model.width-this.minColumnWidth){cfg.depResizeElem.elems.forEach(function(el){$(el).outerWidth(self.minColumnWidth);});cfg.curResizeElem.elems.forEach(function(el){$(el).outerWidth(cfg.curResizeElem.model.width+\ncfg.depResizeElem.model.width-\nself.minColumnWidth);});}},mouseupHandler:function(event){var cfg=this.resizeConfig,body=$('body');event.stopPropagation();event.preventDefault();this._removeResizeClass();this.storageColumnsData[cfg.curResizeElem.model.index]=cfg.curResizeElem.model.width;this.storageColumnsData[cfg.depResizeElem.model.index]=cfg.depResizeElem.model.width;this.resizable=false;this.store('storageColumnsData');body.removeClass(this.inResizeClass);body.off('mousemove',this.mousemoveHandler);$(window).off('mouseup',this.mouseupHandler);},getNextElements:function(element){var nextElem=$(element).next()[0],nextElemModel=ko.dataFor(nextElem),nextElemData=this.hasColumn(nextElemModel,false,true);if(nextElemData){if(nextElemModel.visible){return nextElemData;}\nreturn this.getNextElements(nextElem);}},getDefaultWidth:function(column){var model=ko.dataFor(column);if(this.storageColumnsData[model.index]){return this.storageColumnsData[model.index];}\nif(model.resizeDefaultWidth){return parseInt(model.resizeDefaultWidth,10);}\nreturn'auto';},hasColumn:function(model,ctxIndex,returned){var colElem=this.columnsElements[model.index]||{},getFromAllCtx=ctxIndex===false;if(colElem&&(getFromAllCtx||colElem.hasOwnProperty(ctxIndex))){if(returned){return getFromAllCtx?_.values(colElem):colElem[ctxIndex];}\nreturn true;}\nreturn false;},hasRow:function(elem,returned){var i=0,el=this.maxRowsHeight(),length=el.length;for(i;i<length;i++){if(this.maxRowsHeight()[i].elem===elem){if(returned){return this.maxRowsHeight()[i];}\nreturn true;}}\nreturn false;},getCtxIndex:function(ctx){return ctx?ctx.$parents.reduce(function(pv,cv){return(pv.index||pv)+(cv||{}).index;}):ctx;}});});","Magento_Ui/js/grid/sortBy.min.js":"define(['uiElement'],function(Element){'use strict';return Element.extend({defaults:{template:'ui/grid/sortBy',options:[],applied:{},sorting:'asc',columnsProvider:'ns = ${ $.ns }, componentType = columns',selectedOption:'',isVisible:true,listens:{'selectedOption':'applyChanges'},statefull:{selectedOption:true,applied:true},exports:{applied:'${ $.provider }:params.sorting'},imports:{preparedOptions:'${ $.columnsProvider }:elems'},modules:{columns:'${ $.columnsProvider }'}},initObservable:function(){return this._super().observe(['applied','selectedOption','isVisible']);},preparedOptions:function(columns){if(columns&&columns.length>0){columns.map(function(column){if(column.sortable===true){this.options.push({value:column.index,label:column.label});this.isVisible(true);}else{this.isVisible(false);}}.bind(this));}},applyChanges:function(){this.applied({field:this.selectedOption(),direction:this.sorting});}});});","Magento_Ui/js/grid/toolbar.min.js":"define(['underscore','Magento_Ui/js/lib/view/utils/async','Magento_Ui/js/lib/view/utils/raf','rjsResolver','uiCollection'],function(_,$,raf,resolver,Collection){'use strict';var transformProp;transformProp=(function(){var style=document.documentElement.style,base='Transform',vendors=['webkit','moz','ms','o'],vi=vendors.length,property;if(typeof style.transform!='undefined'){return'transform';}\nwhile(vi--){property=vendors[vi]+base;if(typeof style[property]!='undefined'){return property;}}})();function locate(elem,x,y){var value='translate('+x+'px,'+y+'px)';elem.style[transformProp]=value;}\nreturn Collection.extend({defaults:{template:'ui/grid/toolbar',stickyTmpl:'ui/grid/sticky/sticky',tableSelector:'table',columnsProvider:'ns = ${ $.ns }, componentType = columns',refreshFPS:15,sticky:false,visible:false,_resized:true,_scrolled:true,_tableScrolled:true,_requiredNodes:{'$stickyToolbar':true,'$stickyTable':true,'$table':true,'$sticky':true},stickyClass:{'sticky-header':true}},initialize:function(){this._super();if(this.sticky){this.waitDOMElements().then(this.run.bind(this));}\nreturn this;},waitDOMElements:function(){var _domPromise=$.Deferred();_.bindAll(this,'setStickyTable','setTableNode');$.async({ctx:':not([data-role=\"sticky-el-root\"])',component:this.columnsProvider,selector:this.tableSelector},this.setTableNode);$.async({ctx:'[data-role=\"sticky-el-root\"]',component:this.columnsProvider,selector:this.tableSelector},this.setStickyTable);this._domPromise=_domPromise;return _domPromise.promise();},setLeftCap:function(node){this.$leftCap=node;},setRightCap:function(node){this.$rightCap=node;},setTableNode:function(node){this.$cols=node.tHead.children[0].cells;this.$tableContainer=node.parentNode;this.setNode('$table',node);},setStickyTable:function(node){this.$stickyCols=node.tHead.children[0].cells;this.setNode('$stickyTable',node);},setStickyToolbarNode:function(node){this.setNode('$stickyToolbar',node);},setStickyNode:function(node){this.setNode('$sticky',node);},setToolbarNode:function(node){this.$toolbar=node;},setNode:function(key,node){var nodes=this._requiredNodes,promise=this._domPromise,defined;this[key]=node;defined=_.every(nodes,function(enabled,name){return enabled?this[name]:true;},this);if(defined){resolver(promise.resolve,promise);}},run:function(){_.bindAll(this,'refresh','_onWindowResize','_onWindowScroll','_onTableScroll');$(window).on({scroll:this._onWindowScroll,resize:this._onWindowResize});$(this.$tableContainer).on('scroll',this._onTableScroll);this.refresh();this.checkTableWidth();},refresh:function(){if(!raf(this.refresh,this.refreshFPS)){return;}\nif(this._scrolled){this.onWindowScroll();}\nif(this._tableScrolled){this.onTableScroll();}\nif(this._resized){this.onWindowResize();}\nif(this.visible){this.checkTableWidth();}},show:function(){this.visible=true;if($('.page-main-actions').length===0){this.$sticky.style.top=0;}\nthis.$sticky.style.display='';this.$toolbar.style.visibility='hidden';return this;},hide:function(){this.visible=false;this.$sticky.style.display='none';this.$toolbar.style.visibility='';return this;},isCovered:function(){var stickyTop=this._stickyTableTop+this._wScrollTop;return stickyTop>this._tableTop;},updateStickyTableOffset:function(){var style,top;if(this.visible){top=this.$stickyTable.getBoundingClientRect().top;}else{style=this.$sticky.style;style.visibility='hidden';style.display='';top=this.$stickyTable.getBoundingClientRect().top;style.display='none';style.visibility='';}\nthis._stickyTableTop=top;return this;},updateTableOffset:function(){var box=this.$table.getBoundingClientRect(),top=box.top+this._wScrollTop;if(this._tableTop!==top){this._tableTop=top;this.onTableTopChange(top);}\nreturn this;},checkTableWidth:function(){var cols=this.$cols,total=cols.length,rightBorder=cols[total-2].offsetLeft,tableWidth=this.$table.offsetWidth;if(this._tableWidth!==tableWidth){this._tableWidth=tableWidth;this.onTableWidthChange(tableWidth);}\nif(this._rightBorder!==rightBorder){this._rightBorder=rightBorder;this.onColumnsWidthChange();}\nreturn this;},updateTableWidth:function(){this.$stickyTable.style.width=this._tableWidth+'px';if(this._tableWidth<this._toolbarWidth){this.checkToolbarSize();}\nreturn this;},updateColumnsWidth:function(){var cols=this.$cols,index=cols.length,stickyCols=this.$stickyCols;while(index--){stickyCols[index].width=cols[index].offsetWidth;}\nreturn this;},checkToolbarSize:function(){var width=this.$tableContainer.offsetWidth;if(this._toolbarWidth!==width){this._toolbarWidth=width;this.onToolbarWidthChange(width);}\nreturn this;},updateVisibility:function(){if(this.visible!==this.isCovered()){this.visible?this.hide():this.show();}\nreturn this;},updateLeftCap:function(){locate(this.$leftCap,-this._wScrollLeft,0);return this;},updateRightCap:function(){var left=this._toolbarWidth-this._wScrollLeft;locate(this.$rightCap,left,0);return this;},updateTableScroll:function(){var container=this.$tableContainer,left=container.scrollLeft+this._wScrollLeft;locate(this.$stickyTable,-left,0);return this;},updateToolbarWidth:function(){this.$stickyToolbar.style.width=this._toolbarWidth+'px';return this;},onToolbarWidthChange:function(){this.updateToolbarWidth().updateRightCap();},onTableTopChange:function(){this.updateStickyTableOffset();},onTableWidthChange:function(){this.updateTableWidth();},onColumnsWidthChange:function(){this.updateColumnsWidth();},onWindowResize:function(){this.checkToolbarSize();this._resized=false;},onTableScroll:function(){this.updateTableScroll();this._tableScrolled=false;},onWindowScroll:function(){var scrollTop=window.pageYOffset,scrollLeft=window.pageXOffset;if(this._wScrollTop!==scrollTop){this._wScrollTop=scrollTop;this.onWindowScrollTop(scrollTop);}\nif(this._wScrollLeft!==scrollLeft){this._wScrollLeft=scrollLeft;this.onWindowScrollLeft(scrollLeft);}\nthis._scrolled=false;},onWindowScrollTop:function(){this.updateTableOffset().updateVisibility();},onWindowScrollLeft:function(){this.updateRightCap().updateLeftCap().updateTableScroll();},_onWindowScroll:function(){this._scrolled=true;},_onWindowResize:function(){this._resized=true;},_onTableScroll:function(){this._tableScrolled=true;}});});","Magento_Ui/js/grid/tree-massactions.min.js":"define(['ko','underscore','Magento_Ui/js/grid/massactions'],function(ko,_,Massactions){'use strict';return Massactions.extend({defaults:{template:'ui/grid/tree-massactions',submenuTemplate:'ui/grid/submenu',listens:{opened:'hideSubmenus'}},initObservable:function(){this._super().recursiveObserveActions(this.actions());return this;},recursiveObserveActions:function(actions,prefix){_.each(actions,function(action){if(prefix){action.type=prefix+'.'+action.type;}\nif(action.actions){action.visible=ko.observable(false);action.parent=actions;this.recursiveObserveActions(action.actions,action.type);}},this);return this;},applyAction:function(actionIndex){var action=this.getAction(actionIndex),visibility;if(action.visible){visibility=action.visible();this.hideSubmenus(action.parent);action.visible(!visibility);return this;}\nreturn this._super(actionIndex);},getAction:function(actionIndex,actions){var currentActions=actions||this.actions(),result=false;_.find(currentActions,function(action){if(action.type===actionIndex){result=action;return true;}\nif(action.actions){result=this.getAction(actionIndex,action.actions);return result;}},this);return result;},hideSubmenus:function(actions){var currentActions=actions||this.actions();_.each(currentActions,function(action){if(action.visible&&action.visible()){action.visible(false);}\nif(action.actions){this.hideSubmenus(action.actions);}},this);return this;}});});","Magento_Ui/js/grid/url-filter-applier.min.js":"define(['uiComponent','underscore','jquery'],function(Component,_,$){'use strict';return Component.extend({defaults:{listingNamespace:null,bookmarkProvider:'componentType = bookmark, ns = ${ $.listingNamespace }',filterProvider:'componentType = filters, ns = ${ $.listingNamespace }',filterKey:'filters',searchString:location.search,modules:{bookmarks:'${ $.bookmarkProvider }',filterComponent:'${ $.filterProvider }'}},initialize:function(){this._super();this.apply();return this;},apply:function(){var urlFilter=this.getFilterParam(this.searchString),applied,filters;if(_.isUndefined(this.filterComponent())){setTimeout(function(){this.apply();}.bind(this),100);return;}\nif(!_.isUndefined(this.bookmarks())){if(!_.size(this.bookmarks().getViewData(this.bookmarks().defaultIndex))){setTimeout(function(){this.apply();}.bind(this),500);return;}}\nif(Object.keys(urlFilter).length){applied=this.filterComponent().get('applied');filters=$.extend({},applied,urlFilter);this.filterComponent().set('applied',filters);}},getFilterParam:function(url){var searchString=decodeURI(url),itemArray;return _.chain(searchString.slice(1).split('&')).map(function(item){if(item&&item.search(this.filterKey)!==-1){itemArray=item.split('=');if(itemArray[1].search('\\\\[')===0){itemArray[1]=itemArray[1].replace(/[\\[\\]]/g,'').split(',');}\nitemArray[0]=itemArray[0].replace(this.filterKey,'').replace(/[\\[\\]]/g,'');return itemArray;}}.bind(this)).compact().object().value();}});});","Magento_Ui/js/grid/cells/sanitizedHtml.min.js":"define(['Magento_Ui/js/grid/columns/column','escaper'],function(Column,escaper){'use strict';return Column.extend({defaults:{allowedTags:['div','span','b','strong','i','em','u','a']},getSafeHtml:function(label){return escaper.escapeHtml(label,this.allowedTags);},getSafeUnsanitizedHtml:function(label){return this.getSafeHtml(label);}});});","Magento_Ui/js/grid/columns/actions.min.js":"define(['underscore','mageUtils','uiRegistry','./column','Magento_Ui/js/modal/confirm','mage/dataPost'],function(_,utils,registry,Column,confirm,dataPost){'use strict';return Column.extend({defaults:{bodyTmpl:'ui/grid/cells/actions',sortable:false,draggable:false,actions:[],rows:[],rowsProvider:'${ $.parentName }',fieldClass:{'data-grid-actions-cell':true},templates:{actions:{}},imports:{rows:'${ $.rowsProvider }:rows'},listens:{rows:'updateActions'}},initObservable:function(){this._super().track('actions');return this;},getAction:function(rowIndex,actionIndex){var rowActions=this.actions[rowIndex];return rowActions&&actionIndex?rowActions[actionIndex]:rowActions;},getVisibleActions:function(rowIndex){var rowActions=this.getAction(rowIndex);return _.filter(rowActions,this.isActionVisible,this);},addAction:function(index,action){var actionTmpls=this.templates.actions;actionTmpls[index]=action;this.updateActions();return this;},updateActions:function(){this.actions=this.rows.map(this._formatActions,this);return this;},_formatActions:function(row,rowIndex){var rowActions=row[this.index]||{},recordId=row[this.indexField],customActions=this.templates.actions;function iterate(action,index){action=utils.extend({index:index,rowIndex:rowIndex,recordId:recordId},action);return utils.template(action,row,true);}\nrowActions=_.mapObject(rowActions,iterate);customActions=_.map(customActions,iterate);customActions.forEach(function(action){rowActions[action.index]=action;});return rowActions;},applyAction:function(actionIndex,rowIndex){var action=this.getAction(rowIndex,actionIndex),callback=this._getCallback(action);action.confirm?this._confirm(action,callback):callback();return this;},getActionHandler:function(action){var index=action.index,rowIndex=action.rowIndex;if(this.isHandlerRequired(index,rowIndex)){return this.applyAction.bind(this,index,rowIndex);}},getTarget:function(action){if(action.target){return action.target;}\nreturn'_self';},isHandlerRequired:function(actionIndex,rowIndex){var action=this.getAction(rowIndex,actionIndex);return _.isObject(action.callback)||action.confirm||!action.href;},_getCallback:function(action){var args=[action.index,action.recordId,action],callback=action.callback;if(utils.isObject(callback)){args.unshift(callback.target);callback=registry.async(callback.provider);}else if(_.isArray(callback)){return this._getCallbacks(action);}else if(!_.isFunction(callback)){callback=this.defaultCallback.bind(this);}\nreturn function(){callback.apply(callback,args);};},_getCallbacks:function(action){var callback=action.callback,callbacks=[],tmpCallback;_.each(callback,function(cb){tmpCallback={action:registry.async(cb.provider),args:_.compact([cb.target,cb.params])};callbacks.push(tmpCallback);});return function(){_.each(callbacks,function(cb){cb.action.apply(cb.action,cb.args);});};},defaultCallback:function(actionIndex,recordId,action){if(action.post){dataPost().postData({action:action.href,data:{}});}else{window.location.href=action.href;}},_confirm:function(action,callback){var confirmData=action.confirm;confirm({title:confirmData.title,content:confirmData.message,actions:{confirm:callback}});},isSingle:function(rowIndex){return this.getVisibleActions(rowIndex).length===1;},isMultiple:function(rowIndex){return this.getVisibleActions(rowIndex).length>1;},isActionVisible:function(action){return action.hidden!==true;},hasFieldAction:function(){return false;}});});","Magento_Ui/js/grid/columns/column.min.js":"define(['underscore','uiRegistry','mageUtils','uiElement'],function(_,registry,utils,Element){'use strict';return Element.extend({defaults:{headerTmpl:'ui/grid/columns/text',bodyTmpl:'ui/grid/cells/text',disableAction:false,controlVisibility:true,sortable:true,sorting:false,visible:true,draggable:true,fieldClass:{},ignoreTmpls:{fieldAction:true},statefull:{visible:true,sorting:true},imports:{exportSorting:'sorting'},listens:{'${ $.provider }:params.sorting.field':'onSortChange'},modules:{source:'${ $.provider }'}},initialize:function(){this._super().initFieldClass();return this;},initObservable:function(){this._super().track(['visible','sorting','disableAction']).observe(['dragging']);return this;},initFieldClass:function(){_.extend(this.fieldClass,{_dragging:this.dragging});return this;},applyState:function(state,property){var namespace=this.storageConfig.root;if(property){namespace+='.'+property;}\nthis.storage('applyStateOf',state,namespace);return this;},sort:function(enable){if(!this.sortable){return this;}\nenable!==false?this.toggleSorting():this.sorting=false;return this;},sortDescending:function(){if(this.sortable){this.sorting='desc';}\nreturn this;},sortAscending:function(){if(this.sortable){this.sorting='asc';}\nreturn this;},toggleSorting:function(){this.sorting==='asc'?this.sortDescending():this.sortAscending();return this;},isSorted:function(){return!!this.sorting;},exportSorting:function(){if(!this.sorting){return;}\nthis.source('set','params.sorting',{field:this.index,direction:this.sorting});},hasFieldAction:function(){return!!this.fieldAction||!!this.fieldActions;},applyFieldAction:function(rowIndex){if(!this.hasFieldAction()||this.disableAction){return this;}\nif(this.fieldActions){this.fieldActions.forEach(this.applySingleAction.bind(this,rowIndex),this);}else{this.applySingleAction(rowIndex);}\nreturn this;},applySingleAction:function(rowIndex,action){var callback;action=action||this.fieldAction;action=utils.template(action,{column:this,rowIndex:rowIndex},true);callback=this._getFieldCallback(action);if(_.isFunction(callback)){callback();}},getFieldHandler:function(record){if(this.hasFieldAction()){return this.applyFieldAction.bind(this,record._rowIndex);}},_getFieldCallback:function(action){var args=action.params||[],callback=action.target;if(action.provider&&action.target){args.unshift(action.target);callback=registry.async(action.provider);}\nif(!_.isFunction(callback)){return false;}\nreturn function(){callback.apply(callback,args);};},getLabel:function(record){return record[this.index];},getLabelUnsanitizedHtml:function(record){return this.getLabel(record);},getFieldClass:function(){return this.fieldClass;},getHeader:function(){return this.headerTmpl;},getBody:function(){return this.bodyTmpl;},onSortChange:function(field){if(field!==this.index){this.sort(false);}}});});","Magento_Ui/js/grid/columns/date.min.js":"define(['mageUtils','moment','./column','underscore','moment-timezone-with-data'],function(utils,moment,Column,_){'use strict';return Column.extend({defaults:{dateFormat:'MMM d, YYYY h:mm:ss A',calendarConfig:[]},initConfig:function(){this._super();this.dateFormat=utils.normalizeDate(this.dateFormat?this.dateFormat:this.options.dateFormat);return this;},getLabel:function(value,format){var date;if(this.storeLocale!==undefined){moment.locale(this.storeLocale,utils.extend({},this.calendarConfig));}\ndate=moment.utc(this._super());if(!_.isUndefined(this.timezone)&&moment.tz.zone(this.timezone)!==null){date=date.tz(this.timezone);}\ndate=date.isValid()&&value[this.index]?date.format(format||this.dateFormat):'';return date;}});});","Magento_Ui/js/grid/columns/expandable.min.js":"define(['./column','underscore'],function(Column,_){'use strict';return Column.extend({defaults:{bodyTmpl:'ui/grid/cells/expandable',tooltipTmpl:'ui/grid/cells/expandable/content',visibeItemsLimit:5,tooltipTitle:''},getFullLabel:function(record){return this.getLabelsArray(record).join(', ');},getShortLabel:function(record){return this.getLabelsArray(record).slice(0,this.visibeItemsLimit).join(', ');},getLabelsArray:function(record){var values=this.getLabel(record),options=this.options||[],labels=[];if(_.isString(values)){values=values.split(',');}\nif(!Array.isArray(values)){values=[values];}\nvalues=values.map(function(value){return value+'';});options=this.flatOptions(options);options.forEach(function(item){if(_.contains(values,item.value+'')){labels.push(item.label);}});return labels.sort(function(labelFirst,labelSecond){return labelFirst.toLowerCase().localeCompare(labelSecond.toLowerCase());});},flatOptions:function(options){var self=this;return options.reduce(function(opts,option){if(_.isArray(option.value)){opts=opts.concat(self.flatOptions(option.value));}else{opts.push(option);}\nreturn opts;},[]);},isExpandable:function(record){return this.getLabel(record).length>this.visibeItemsLimit;}});});","Magento_Ui/js/grid/columns/image-preview.min.js":"define(['jquery','underscore','Magento_Ui/js/grid/columns/column','Magento_Ui/js/lib/key-codes'],function($,_,Column,keyCodes){'use strict';return Column.extend({defaults:{bodyTmpl:'ui/grid/columns/image-preview',previewImageSelector:'[data-image-preview]',visibleRecord:null,height:0,displayedRecord:{},lastOpenedImage:false,fields:{previewUrl:'preview_url',title:'title'},modules:{masonry:'${ $.parentName }',thumbnailComponent:'${ $.parentName }.thumbnail_url'},statefull:{sorting:true,lastOpenedImage:true},listens:{'${ $.provider }:params.filters':'hide','${ $.provider }:params.search':'hide','${ $.provider }:params.paging':'hide','${ $.provider }:data.items':'updateDisplayedRecord'},exports:{height:'${ $.parentName }.thumbnail_url:previewHeight'}},initialize:function(){this._super();$(document).on('keydown',this.handleKeyDown.bind(this));this.lastOpenedImage.subscribe(function(newValue){if(newValue===false&&_.isNull(this.visibleRecord())){return;}\nif(newValue===this.visibleRecord()){return;}\nif(newValue===false){this.hide();return;}\nthis.show(this.masonry().rows()[newValue]);}.bind(this));return this;},initObservable:function(){this._super().observe(['visibleRecord','height','displayedRecord','lastOpenedImage']);return this;},next:function(record){var recordToShow;if(record._rowIndex+1===this.masonry().rows().length){return;}\nrecordToShow=this.getRecord(record._rowIndex+1);recordToShow.rowNumber=record.lastInRow?record.rowNumber+1:record.rowNumber;this.show(recordToShow);},prev:function(record){var recordToShow;if(record._rowIndex===0){return;}\nrecordToShow=this.getRecord(record._rowIndex-1);recordToShow.rowNumber=record.firstInRow?record.rowNumber-1:record.rowNumber;this.show(recordToShow);},getRecord:function(recordIndex){return this.masonry().rows()[recordIndex];},_selectRow:function(rowId){this.thumbnailComponent().previewRowId(rowId);},show:function(record){if(record._rowIndex===this.visibleRecord()){this.hide();return;}\nthis.hide();this.displayedRecord(record);this._selectRow(record.rowNumber||null);this.visibleRecord(record._rowIndex);this.lastOpenedImage(record._rowIndex);this.updateImageData();},updateImageData:function(){var img=$(this.previewImageSelector+' img'),self;if(!img.get(0)){setTimeout(function(){this.updateImageData();}.bind(this),100);}else if(img.get(0).complete){this.updateHeight();this.scrollToPreview();}else{self=this;img.on('load',function(){self.updateHeight();self.scrollToPreview();});}},updateDisplayedRecord:function(items){if(!_.isNull(this.visibleRecord())){this.displayedRecord(items[this.visibleRecord()]);}},updateHeight:function(){this.height($(this.previewImageSelector).height()+'px');},hide:function(){this.lastOpenedImage(false);this.visibleRecord(null);this.height(0);this._selectRow(null);},isVisible:function(record){if(this.lastOpenedImage()===record._rowIndex&&this.visibleRecord()===null){this.show(record);}\nreturn this.visibleRecord()===record._rowIndex||false;},getUrl:function(record){return record[this.fields.previewUrl];},getTitle:function(record){return record[this.fields.title];},getStyles:function(){return{'margin-top':'-'+this.height()};},scrollToPreview:function(){$(this.previewImageSelector).get(0).scrollIntoView({behavior:'smooth',block:'center',inline:'nearest'});},handleKeyDown:function(e){var key=keyCodes[e.keyCode];if(this.visibleRecord()!==null&&document.activeElement.tagName!=='INPUT'){if(key==='pageLeftKey'){this.prev(this.displayedRecord());}else if(key==='pageRightKey'){this.next(this.displayedRecord());}}}});});","Magento_Ui/js/grid/columns/image.min.js":"define(['Magento_Ui/js/grid/columns/column'],function(Column){'use strict';return Column.extend({defaults:{bodyTmpl:'ui/grid/columns/image',modules:{masonry:'${ $.parentName }',previewComponent:'${ $.parentName }.preview'},previewRowId:null,previewHeight:0,fields:{id:'id',url:'url'}},initObservable:function(){this._super().observe(['previewRowId','previewHeight']);return this;},updateStyles:function(record){!record.lastInRow||this.masonry().updateStyles();},getUrl:function(record){return record[this.fields.url];},getId:function(record){return record[this.fields.id];},getStyles:function(record){var styles=record.styles();styles['margin-bottom']=this.previewRowId()===record.rowNumber?this.previewHeight:0;record.styles(styles);return record.styles;},getClasses:function(record){return record.css||{};},getIsActive:function(record){return this.previewComponent().visibleRecord()===record._rowIndex||false;},expandPreview:function(record){this.previewComponent().show(record);}});});","Magento_Ui/js/grid/columns/link.min.js":"define(['./column','mageUtils'],function(Column,utils){'use strict';return Column.extend({defaults:{link:'link',bodyTmpl:'ui/grid/cells/link'},getLink:function(record){return utils.nested(record,this.link);},isLink:function(record){return!!utils.nested(record,this.link);}});});","Magento_Ui/js/grid/columns/multiselect.min.js":"define(['underscore','mage/translate','./column'],function(_,$t,Column){'use strict';return Column.extend({defaults:{headerTmpl:'ui/grid/columns/multiselect',bodyTmpl:'ui/grid/cells/multiselect',controlVisibility:false,sortable:false,draggable:false,menuVisible:false,excludeMode:false,allSelected:false,indetermine:false,preserveSelectionsOnFilter:false,disabled:[],selected:[],excluded:[],fieldClass:{'data-grid-checkbox-cell':true},actions:[{value:'selectAll',label:$t('Select All')},{value:'deselectAll',label:$t('Deselect All')},{value:'selectPage',label:$t('Select All on This Page')},{value:'deselectPage',label:$t('Deselect All on This Page')}],imports:{totalRecords:'${ $.provider }:data.totalRecords',showTotalRecords:'${ $.provider }:data.showTotalRecords',rows:'${ $.provider }:data.items'},listens:{'${ $.provider }:params.filters':'onFilter','${ $.provider }:params.search':'onSearch',selected:'onSelectedChange',rows:'onRowsChange'},modules:{source:'${ $.provider }'}},initObservable:function(){this._super().observe(['disabled','selected','excluded','excludeMode','totalSelected','allSelected','indetermine','totalRecords','showTotalRecords','rows']);return this;},select:function(id,isIndex){this._setSelection(id,isIndex,true);return this;},deselect:function(id,isIndex){this._setSelection(id,isIndex,false);return this;},toggleSelect:function(id,isIndex){this._setSelection(id,isIndex,!this.isSelected(id,isIndex));return this;},isSelected:function(id,isIndex){id=this.getId(id,isIndex);return this.selected.contains(id);},_setSelection:function(id,isIndex,select){var selected=this.selected;id=this.getId(id,isIndex);if(!select&&this.isSelected(id)){selected.remove(id);}else if(select){selected.push(id);}\nreturn this;},selectAll:function(){this.excludeMode(true);this.clearExcluded().selectPage();return this;},deselectAll:function(){this.excludeMode(false);this.clearExcluded();this.selected.removeAll();return this;},toggleSelectAll:function(){this.allSelected()?this.deselectAll():this.selectAll();return this;},selectPage:function(){var selected=_.union(this.selected(),this.getIds());selected=_.difference(selected,this.disabled());this.selected(selected);return this;},deselectPage:function(){var pageIds=this.getIds();this.selected.remove(function(value){return!!~pageIds.indexOf(value);});return this;},togglePage:function(){return this.isPageSelected()&&!this.excluded().length?this.deselectPage():this.selectPage();},clearExcluded:function(){this.excluded.removeAll();return this;},getIds:function(exclude){var items=this.rows(),ids=_.pluck(items,this.indexField);return exclude?_.difference(ids,this.excluded()):ids;},getId:function(id,isIndex){var record=this.rows()[id];if(isIndex&&record){id=record[this.indexField];}\nreturn id;},updateExcluded:function(selected){var excluded=this.excluded(),fromPage=_.difference(this.getIds(),selected);excluded=_.union(excluded,fromPage);excluded=_.difference(excluded,selected);this.excluded(excluded);return this;},countSelected:function(){var total=this.totalRecords(),excluded=this.excluded().length,selected=this.selected().length;if(this.excludeMode()){selected=total-excluded;}\nthis.totalSelected(selected);return this;},getPageSelections:function(){var ids=this.getIds();return this.selected.filter(function(id){return _.contains(ids,id);});},getSelections:function(){return{excluded:this.excluded(),selected:this.selected(),total:this.totalSelected(),showTotalRecords:this.showTotalRecords(),excludeMode:this.excludeMode(),params:this.getFiltering()};},getFiltering:function(){var source=this.source(),keys=['filters','search','namespace'];if(!source){return{};}\nreturn _.pick(source.get('params'),keys);},isActionRelevant:function(actionId){var pageIds=this.getIds().length,multiplePages=pageIds<this.totalRecords(),relevant=true;switch(actionId){case'selectPage':relevant=multiplePages&&!this.isPageSelected(true);break;case'deselectPage':relevant=multiplePages&&this.isPageSelected();break;case'selectAll':relevant=!this.allSelected();break;case'deselectAll':relevant=this.totalSelected()>0;}\nreturn relevant;},isPageSelected:function(all){var pageIds=this.getIds(),selected=this.selected(),excluded=this.excluded(),iterator=all?'every':'some';if(this.allSelected()){return true;}\nif(this.excludeMode()){return pageIds[iterator](function(id){return!~excluded.indexOf(id);});}\nreturn pageIds[iterator](function(id){return!!~selected.indexOf(id);});},updateState:function(){var selected=this.selected().length,excluded=this.excluded().length,totalSelected=this.totalSelected(),totalRecords=this.totalRecords(),allSelected=totalRecords&&totalSelected===totalRecords;if(this.excludeMode()){if(excluded===totalRecords&&!this.preserveSelectionsOnFilter){this.deselectAll();}}else if(totalRecords&&selected===totalRecords&&!this.preserveSelectionsOnFilter){this.selectAll();}\nthis.allSelected(allSelected);this.indetermine(totalSelected&&!allSelected);return this;},hasFieldAction:function(){return false;},onSelectedChange:function(selected){this.updateExcluded(selected).countSelected().updateState();},onRowsChange:function(){var newSelections;if(this.excludeMode()){newSelections=_.union(this.getIds(true),this.selected());this.selected(newSelections);}},onFilter:function(){if(!this.preserveSelectionsOnFilter){this.deselectAll();}},onSearch:function(){this.onFilter();}});});","Magento_Ui/js/grid/columns/onoff.min.js":"define(['underscore','mage/translate','./multiselect','uiRegistry'],function(_,$t,Column,registry){'use strict';return Column.extend({defaults:{headerTmpl:'ui/grid/columns/onoff',bodyTmpl:'ui/grid/cells/onoff',fieldClass:{'admin__scope-old':true,'data-grid-onoff-cell':true,'data-grid-checkbox-cell':false},imports:{selectedData:'${ $.provider }:data.selectedData'},listens:{'${ $.provider }:reloaded':'setDefaultSelections'}},getLabel:function(id){return this.selected.indexOf(id)!==-1?$t('On'):$t('Off');},setDefaultSelections:function(){var positionCacheValid=registry.get('position_cache_valid'),selectedFromCache=registry.get('selected_cache'),key,i;if(positionCacheValid&&this.selected().length===0){selectedFromCache=JSON.parse(selectedFromCache);for(i=0;i<selectedFromCache.length;i++){this.selected.push(selectedFromCache[i]);}\nregistry.set('position_cache_valid',true);registry.set('selected_cache',JSON.stringify(this.selected()));return;}\nif(positionCacheValid&&this.selected().length>0){registry.set('position_cache_valid',true);registry.set('selected_cache',JSON.stringify(this.selected()));return;}\nif(this.selectedData.length===0){registry.set('position_cache_valid',true);registry.set('selected_cache',JSON.stringify([]));return;}\nfor(key in this.selectedData){if(this.selectedData.hasOwnProperty(key)&&this.selected().indexOf(key)===-1){this.selected.push(key);}}\nfor(i=0;i<this.selected().length;i++){key=this.selected()[i];this.selectedData.hasOwnProperty(key)||this.selected.splice(this.selected().indexOf(key),1);this.selectedData.hasOwnProperty(key)||i--;}\nregistry.set('position_cache_valid',true);registry.set('selected_cache',JSON.stringify(this.selected()));},isActionRelevant:function(actionId){var relevant=true;switch(actionId){case'selectPage':relevant=!this.isPageSelected(true);break;case'deselectPage':relevant=this.isPageSelected();break;}\nreturn relevant;},updateState:function(){var positionCacheValid=registry.get('position_cache_valid'),totalRecords=this.totalRecords(),selected=this.selected().length,excluded=this.excluded().length,totalSelected=this.totalSelected(),allSelected;if(positionCacheValid&&this.selected().length>0){registry.set('position_cache_valid',true);registry.set('selected_cache',JSON.stringify(this.selected()));}\nif(this.getFiltering()){if(this.getFiltering().search!==''){totalRecords=-1;}}\nallSelected=totalRecords&&totalSelected===totalRecords;if(this.excludeMode()){if(excluded===totalRecords){this.deselectAll();}}else if(totalRecords&&selected===totalRecords){this.selectAll();}\nthis.allSelected(allSelected);this.indetermine(totalSelected&&!allSelected);return this;}});});","Magento_Ui/js/grid/columns/overlay.min.js":"define(['Magento_Ui/js/grid/columns/column'],function(Column){'use strict';return Column.extend({defaults:{bodyTmpl:'ui/grid/columns/overlay'},isVisible:function(row){return!!row[this.index];},getLabel:function(row){return row[this.index];}});});","Magento_Ui/js/grid/columns/select.min.js":"define(['underscore','./column'],function(_,Column){'use strict';return Column.extend({getLabel:function(){var options=this.options||[],values=this._super(),label=[];if(_.isString(values)){values=values.split(',');}\nif(!_.isArray(values)){values=[values];}\nvalues=values.map(function(value){return value+'';});options=this.flatOptions(options);options.forEach(function(item){if(_.contains(values,item.value+'')){label.push(item.label);}});return label.join(', ');},flatOptions:function(options){var self=this;if(!_.isArray(options)){options=_.values(options);}\nreturn options.reduce(function(opts,option){if(_.isArray(option.value)){opts=opts.concat(self.flatOptions(option.value));}else{opts.push(option);}\nreturn opts;},[]);}});});","Magento_Ui/js/grid/columns/thumbnail.min.js":"define(['./column','jquery','mage/template','text!Magento_Ui/templates/grid/cells/thumbnail/preview.html','underscore','Magento_Ui/js/modal/modal','mage/translate'],function(Column,$,mageTemplate,thumbnailPreviewTemplate,_){'use strict';return Column.extend({defaults:{bodyTmpl:'ui/grid/cells/thumbnail',fieldClass:{'data-grid-thumbnail-cell':true}},getSrc:function(row){return row[this.index+'_src'];},getOrigSrc:function(row){return row[this.index+'_orig_src'];},getLink:function(row){return row[this.index+'_link'];},getAlt:function(row){return _.escape(row[this.index+'_alt']);},isPreviewAvailable:function(){return this['has_preview']||false;},preview:function(row){var modalHtml=mageTemplate(thumbnailPreviewTemplate,{src:this.getOrigSrc(row),alt:this.getAlt(row),link:this.getLink(row),linkText:$.mage.__('Go to Details Page')}),previewPopup=$('<div></div>').html(modalHtml);previewPopup.modal({title:this.getAlt(row),innerScroll:true,modalClass:'_image-box',buttons:[]}).trigger('openModal');},getFieldHandler:function(row){if(this.isPreviewAvailable()){return this.preview.bind(this,row);}}});});","Magento_Ui/js/grid/controls/columns.min.js":"define(['underscore','mageUtils','mage/translate','uiCollection'],function(_,utils,$t,Collection){'use strict';return Collection.extend({defaults:{template:'ui/grid/controls/columns',minVisible:1,maxVisible:30,viewportSize:18,displayArea:'dataGridActions',columnsProvider:'ns = ${ $.ns }, componentType = columns',imports:{addColumns:'${ $.columnsProvider }:elems'},templates:{headerMsg:$t('${ $.visible } out of ${ $.total } visible')}},reset:function(){this.elems.each('applyState','default','visible');return this;},cancel:function(){this.elems.each('applyState','','visible');return this;},addColumns:function(columns){columns=_.where(columns,{controlVisibility:true});this.insertChild(columns);return this;},hasOverflow:function(){return this.elems().length>this.viewportSize;},isDisabled:function(elem){var visible=this.countVisible();return elem.visible?visible===this.minVisible:visible===this.maxVisible;},countVisible:function(){return this.elems.filter('visible').length;},getHeaderMessage:function(){return utils.template(this.templates.headerMsg,{visible:this.countVisible(),total:this.elems().length});}});});","Magento_Ui/js/grid/controls/bookmarks/bookmarks.min.js":"define(['underscore','mageUtils','mage/translate','rjsResolver','uiLayout','uiCollection'],function(_,utils,$t,resolver,layout,Collection){'use strict';function removeStateNs(path){path=typeof path=='string'?path.split('.'):[];if(path[0]==='current'){path.shift();}\nreturn path.join('.');}\nreturn Collection.extend({defaults:{template:'ui/grid/controls/bookmarks/bookmarks',viewTmpl:'ui/grid/controls/bookmarks/view',newViewLabel:$t('New View'),defaultIndex:'default',activeIndex:'default',viewsArray:[],storageConfig:{provider:'${ $.storageConfig.name }',name:'${ $.name }_storage',component:'Magento_Ui/js/grid/controls/bookmarks/storage'},views:{default:{label:$t('Default View'),index:'default',editable:false}},tracks:{editing:true,viewsArray:true,activeView:true,hasChanges:true,customLabel:true,customVisible:true},listens:{activeIndex:'onActiveIndexChange',activeView:'checkState',current:'onStateChange'}},initialize:function(){utils.limit(this,'checkState',5);utils.limit(this,'saveState',2000);this._super().restore().initStorage().initViews();return this;},initStorage:function(){layout([this.storageConfig]);return this;},initDefaultView:function(){var data=this.getViewData(this.defaultIndex);if(!_.size(data)&&(this.current.columns&&this.current.positions)){this.setViewData(this.defaultIndex,this.current).saveView(this.defaultIndex);this.defaultDefined=true;}\nreturn this;},initViews:function(){_.each(this.views,function(config){this.addView(config);},this);this.activeView=this.getActiveView();return this;},buildView:function(config){var view={label:this.newViewLabel,index:'_'+Date.now(),editable:true};utils.extend(view,config||{});view.data=view.data||utils.copy(this.current);view.value=view.label;this.observe.call(view,true,'label value');return view;},addView:function(config,saveView,applyView){var view=this.buildView(config),index=view.index;this.views[index]=view;if(saveView){this.saveView(index);}\nif(applyView){this.applyView(index);}\nthis.updateArray();return view;},removeView:function(index){var viewPath=this.getViewPath(index);if(this.isViewActive(index)){this.applyView(this.defaultIndex);}\nthis.endEdit(index).remove(viewPath).removeStored(viewPath).updateArray();return this;},saveView:function(index){var viewPath=this.getViewPath(index);this.updateViewLabel(index).endEdit(index).store(viewPath).checkState();return this;},applyView:function(index){this.applyStateOf(index).set('activeIndex',index);return this;},updateAndSave:function(index){if(this.isViewActive(index)){this.updateActiveView(index);}\nthis.saveView(index);return this;},getView:function(index){return this.views[index];},getActiveView:function(){return this.views[this.activeIndex];},isViewActive:function(index){return this.activeView===this.getView(index);},updateActiveView:function(){this.setViewData(this.activeIndex,this.current);return this;},updateViewLabel:function(index,label){var view=this.getView(index),current=view.label;label=(label||view.value).trim()||current;label=this.uniqueLabel(label,current);view.label=view.value=label;return this;},getViewData:function(index,property){var view=this.getView(index),data=view.data;if(property){data=utils.nested(data,property);}\nreturn utils.copy(data);},setViewData:function(index,data){var path=this.getViewPath(index)+'.data';this.set(path,utils.copy(data));return this;},editView:function(index){this.editing=index;return this;},endEdit:function(index){var view;if(!this.isEditing(index)){return this;}\nindex=index||this.editing;view=this.getView(index);view.value=view.label;this.editing=false;return this;},isEditing:function(index){return this.editing===index;},uniqueLabel:function(label,exclude){var labels=_.pluck(this.views,'label'),hasParenth=_.last(label)===')',index=2,result,suffix;labels=_.without(labels,exclude);result=label=label||this.newViewLabel;for(index=2;_.contains(labels,result);index++){suffix='('+index+')';if(!hasParenth){suffix=' '+suffix;}\nresult=label+suffix;}\nreturn result;},applyStateOf:function(state,property){var index=state||this.activeIndex,dataPath=removeStateNs(property),viewData=this.getViewData(index,dataPath);dataPath=dataPath?'current.'+dataPath:'current';this.set(dataPath,viewData);return this;},saveState:function(){this.store('current');return this;},resetState:function(){this.applyStateOf(this.activeIndex);return this;},checkState:function(){var viewData=this.getViewData(this.activeIndex),diff=utils.compare(viewData,this.current);this.hasChanges=!diff.equal;return this;},getViewPath:function(index){return'views.'+index;},updateArray:function(){this.viewsArray=_.values(this.views);return this;},showCustom:function(){this.customLabel=this.uniqueLabel();this.customVisible=true;return this;},hideCustom:function(){this.customVisible=false;return this;},isCustomVisible:function(){return this.customVisible;},applyCustom:function(){var label=this.customLabel.trim();this.hideCustom().addView({label:this.uniqueLabel(label)},true,true);return this;},onActiveIndexChange:function(){this.activeView=this.getActiveView();this.updateActiveView();this.store('activeIndex');},onStateChange:function(){this.checkState();this.saveState();if(!this.defaultDefined){resolver(this.initDefaultView,this);}}});});","Magento_Ui/js/grid/controls/bookmarks/storage.min.js":"define(['jquery','mageUtils','Magento_Ui/js/lib/core/storage/local','uiClass'],function($,utils,storage,Class){'use strict';function removeNs(ns,path){return path.replace(ns+'.','');}\nreturn Class.extend({defaults:{ajaxSettings:{method:'POST',data:{namespace:'${ $.namespace }'}}},get:function(){return{};},set:function(path,value){var property=removeNs(this.namespace,path),data={},config;utils.nested(data,property,value);config=utils.extend({url:this.saveUrl,data:{data:JSON.stringify(data)}},this.ajaxSettings);$.ajax(config);},remove:function(path){var property=removeNs(this.namespace,path),config;config=utils.extend({url:this.deleteUrl,data:{data:property}},this.ajaxSettings);$.ajax(config);}});});","Magento_Ui/js/grid/controls/button/split.min.js":"define(['jquery'],function($){'use strict';return function(data,element){$(element).on('click.splitDefault','.action-default',function(){$(this).siblings('.dropdown-menu').find('.item-default').trigger('click');});};});","Magento_Ui/js/grid/editing/bulk.min.js":"define(['underscore','mageUtils','./record'],function(_,utils,Record){'use strict';function removeEmpty(data){data=utils.flatten(data);data=_.omit(data,utils.isEmpty);return utils.unflatten(data);}\nreturn Record.extend({defaults:{template:'ui/grid/editing/bulk',active:false,templates:{fields:{select:{caption:' '}}},imports:{active:'${ $.editorProvider }:isMultiEditing'},listens:{data:'updateState',active:'updateState'}},initObservable:function(){this._super().track({hasData:false});return this;},buildField:function(){var field=this._super(),rules=field.validation;if(rules){delete rules['required-entry'];}\nreturn field;},apply:function(){if(this.isValid()){this.applyData().clear();}\nreturn this;},applyData:function(data){data=data||this.getData();this.editor('setData',data,true);return this;},getData:function(){return removeEmpty(this._super());},updateState:function(){var fields=_.keys(this.getData()),hasData=!!fields.length;this.hasData=hasData;if(!this.active()){fields=[];}\nthis.editor('disableFields',fields);this.editor('canSave',!fields.length);return this;}});});","Magento_Ui/js/grid/editing/client.min.js":"define(['jquery','underscore','mageUtils','uiClass'],function($,_,utils,Class){'use strict';return Class.extend({defaults:{validateBeforeSave:true,requestConfig:{dataType:'json',type:'POST'}},initialize:function(){_.bindAll(this,'onSuccess','onError');return this._super();},send:function(config){var deffer=$.Deferred();config=utils.extend({},this.requestConfig,config);$.ajax(config).done(_.partial(this.onSuccess,deffer)).fail(_.partial(this.onError,deffer));return deffer.promise();},save:function(data){var save=this._save.bind(this,data);return this.validateBeforeSave?this.validate(data).pipe(save):save();},validate:function(data){return this.send({url:this.validateUrl,data:data});},_save:function(data){return this.send({url:this.saveUrl,data:data});},createError:function(msg){return{type:'error',message:msg};},onError:function(promise,xhr,status,err){var msg;msg=xhr.status!==200?xhr.status+' ('+xhr.statusText+')':err;promise.reject(this.createError(msg));},onSuccess:function(promise,data){var errors;if(data.error){errors=_.map(data.messages,this.createError,this);promise.reject(errors);}else{promise.resolve(data);}}});});","Magento_Ui/js/grid/editing/editor-view.min.js":"define(['ko','Magento_Ui/js/lib/view/utils/async','underscore','uiRegistry','uiClass'],function(ko,$,_,registry,Class){'use strict';return Class.extend({defaults:{rootSelector:'${ $.columnsProvider }:.admin__data-grid-wrap',tableSelector:'${ $.rootSelector } -> table',rowSelector:'${ $.tableSelector } tbody tr.data-row',headerButtonsTmpl:'<!-- ko template: headerButtonsTmpl --><!-- /ko -->',bulkTmpl:'<!-- ko scope: bulk -->'+'<!-- ko template: getTemplate() --><!-- /ko -->'+'<!-- /ko -->',rowTmpl:'<!-- ko with: _editor -->'+'<!-- ko if: isActive($row()._rowIndex, true) -->'+'<!-- ko with: getRecord($row()._rowIndex, true) -->'+'<!-- ko template: rowTmpl --><!-- /ko -->'+'<!-- /ko -->'+'<!-- ko if: isSingleEditing && singleEditingButtons -->'+'<!-- ko template: rowButtonsTmpl --><!-- /ko -->'+'<!-- /ko -->'+'<!-- /ko -->'+'<!-- /ko -->'},initialize:function(){_.bindAll(this,'initRoot','initTable','initRow','rowBindings','tableBindings');this._super();this.model=registry.get(this.model);$.async(this.rootSelector,this.initRoot);$.async(this.tableSelector,this.initTable);$.async(this.rowSelector,this.initRow);return this;},initRoot:function(node){$(this.headerButtonsTmpl).insertBefore(node).applyBindings(this.model);return this;},initTable:function(table){$(table).bindings(this.tableBindings);this.initBulk(table);return this;},initBulk:function(table){var tableBody=$('tbody',table)[0];$(this.bulkTmpl).prependTo(tableBody).applyBindings(this.model);return this;},initRow:function(row){var $editingRow;$(row).extendCtx({_editor:this.model}).bindings(this.rowBindings);$editingRow=$(this.rowTmpl).insertBefore(row).applyBindings(row);ko.utils.domNodeDisposal.addDisposeCallback(row,this.removeEditingRow.bind(this,$editingRow));return this;},rowBindings:function(ctx){var model=this.model;return{visible:ko.computed(function(){var record=ctx.$row(),index=record&&record._rowIndex;return!model.isActive(index,true);})};},tableBindings:function(){var model=this.model;return{css:{'_in-edit':ko.computed(function(){return model.hasActive()&&!model.permanentlyActive;})}};},removeEditingRow:function(row){_.toArray(row).forEach(ko.removeNode);}});});","Magento_Ui/js/grid/editing/editor.min.js":"define(['underscore','mageUtils','uiLayout','mage/translate','uiCollection'],function(_,utils,layout,$t,Collection){'use strict';return Collection.extend({defaults:{rowButtonsTmpl:'ui/grid/editing/row-buttons',headerButtonsTmpl:'ui/grid/editing/header-buttons',successMsg:$t('You have successfully saved your edits.'),errorsCount:0,bulkEnabled:true,multiEditingButtons:true,singleEditingButtons:true,isMultiEditing:false,isSingleEditing:false,permanentlyActive:false,rowsData:[],fields:{},templates:{record:{parent:'${ $.$data.editor.name }',name:'${ $.$data.recordId }',component:'Magento_Ui/js/grid/editing/record',columnsProvider:'${ $.$data.editor.columnsProvider }',editorProvider:'${ $.$data.editor.name }',preserveFields:{'${ $.$data.editor.indexField }':true}}},bulkConfig:{component:'Magento_Ui/js/grid/editing/bulk',name:'${ $.name }_bulk',editorProvider:'${ $.name }',columnsProvider:'${ $.columnsProvider }'},clientConfig:{component:'Magento_Ui/js/grid/editing/client',name:'${ $.name }_client'},viewConfig:{component:'Magento_Ui/js/grid/editing/editor-view',name:'${ $.name }_view',model:'${ $.name }',columnsProvider:'${ $.columnsProvider }'},imports:{rowsData:'${ $.dataProvider }:data.items'},listens:{'${ $.dataProvider }:reloaded':'cancel','${ $.selectProvider }:selected':'onSelectionsChange'},modules:{source:'${ $.dataProvider }',client:'${ $.clientConfig.name }',columns:'${ $.columnsProvider }',bulk:'${ $.bulkConfig.name }',selections:'${ $.selectProvider }'}},initialize:function(){_.bindAll(this,'updateState','countErrors','onDataSaved','onSaveError');this._super().initBulk().initClient().initView();return this;},initObservable:function(){this._super().track(['errorsCount','isMultiEditing','isSingleEditing','isSingleColumnEditing','changed']).observe({canSave:true,activeRecords:[],messages:[]});return this;},initBulk:function(){if(this.bulkEnabled){layout([this.bulkConfig]);}\nreturn this;},initView:function(){layout([this.viewConfig]);return this;},initClient:function(){layout([this.clientConfig]);return this;},initRecord:function(id,isIndex){var record=this.buildRecord(id,isIndex);layout([record]);return this;},initElement:function(record){record.on({'active':this.updateState,'errorsCount':this.countErrors});this.updateState();return this._super();},buildRecord:function(id,isIndex){var recordId=this.getId(id,isIndex),recordTmpl=this.templates.record,record;if(this.getRecord(recordId)){return this;}\nrecord=utils.template(recordTmpl,{editor:this,recordId:id});record.recordId=id;record.data=this.getRowData(id);return record;},edit:function(id,isIndex){var recordId=this.getId(id,isIndex),record=this.getRecord(recordId);record?record.active(true):this.initRecord(recordId);return this;},startEdit:function(id,isIndex){var recordId=this.getId(id,isIndex);this.selections().deselectAll().select(recordId);return this.edit(recordId);},cancel:function(){this.reset().hide().clearMessages().bulk('clear');return this;},hide:function(){this.activeRecords.each('active',false);return this;},reset:function(){this.elems.each(function(record){this.resetRecord(record.recordId);},this);return this;},save:function(){var data;if(!this.isValid()){return this;}\ndata={items:this.getData()};this.clearMessages().columns('showLoader');this.client().save(data).done(this.onDataSaved).fail(this.onSaveError);return this;},validate:function(){return this.activeRecords.map(function(record){return{target:record,valid:record.isValid()};});},isValid:function(){return _.every(this.validate(),'valid');},getData:function(){var data=this.activeRecords.map(function(record){var elemKey,recordData=record.getData();for(elemKey in recordData){if(_.isUndefined(recordData[elemKey])){recordData[elemKey]=null;}}\nreturn recordData;});return _.indexBy(data,this.indexField);},setData:function(data,partial){this.activeRecords.each('setData',data,partial);return this;},resetRecord:function(id,isIndex){var record=this.getRecord(id,isIndex),data=this.getRowData(id,isIndex);if(record&&data){record.setData(data);}\nreturn this;},getRecord:function(id,isIndex){return this.elems.findWhere({recordId:this.getId(id,isIndex)});},formRecordName:function(id,isIndex){id=this.getId(id,isIndex);return this.name+'.'+id;},disableFields:function(fields){var columns=this.columns().elems(),data=utils.copy(this.fields);columns.forEach(function(column){var index=column.index,field=data[index]=data[index]||{};field.disabled=_.contains(fields,index);});this.set('fields',data);return this;},getId:function(id,isIndex){var rowsData=this.rowsData,record;if(isIndex===true){record=rowsData[id];id=record?record[this.indexField]:false;}\nreturn id;},getRowData:function(id,isIndex){id=this.getId(id,isIndex);return _.find(this.rowsData,function(row){return row[this.indexField]===id;},this);},isActive:function(id,isIndex){var record=this.getRecord(id,isIndex);return _.contains(this.activeRecords(),record);},hasActive:function(){return!!this.activeRecords().length||this.permanentlyActive;},countActive:function(){return this.activeRecords().length;},countErrors:function(){var errorsCount=0;this.activeRecords.each(function(record){errorsCount+=record.errorsCount;});this.errorsCount=errorsCount;return errorsCount;},countErrorsMessage:function(){return $t('There are {placeholder} messages requires your attention.').replace('{placeholder}',this.countErrors());},hasErrors:function(){return!!this.countErrors();},updateState:function(){var active=this.elems.filter('active'),activeCount=active.length,columns=this.columns().elems;columns.each('disableAction',!!activeCount);this.isMultiEditing=activeCount>1;this.isSingleEditing=activeCount===1;this.activeRecords(active);return this;},getSelections:function(){return this.selections().getPageSelections();},editSelected:function(){var selections=this.getSelections();this.elems.each(function(record){if(!_.contains(selections,record.recordId)){record.active(false);}});selections.forEach(function(id){this.edit(id);},this);return this;},hasMessages:function(){return this.messages().length;},addMessage:function(message){var messages=this.messages();Array.isArray(message)?messages.push.apply(messages,message):messages.push(message);this.messages(messages);return this;},clearMessages:function(){this.messages.removeAll();return this;},onSelectionsChange:function(){if(this.hasActive()){this.editSelected();}},onDataSaved:function(){var msg={type:'success',message:this.successMsg};this.addMessage(msg).source('reload',{refresh:true});},onSaveError:function(errors){this.addMessage(errors).columns('hideLoader');}});});","Magento_Ui/js/grid/editing/record.min.js":"define(['underscore','mageUtils','uiLayout','uiCollection'],function(_,utils,layout,Collection){'use strict';return Collection.extend({defaults:{active:true,hasChanges:false,fields:[],errorsCount:0,fieldTmpl:'ui/grid/editing/field',rowTmpl:'ui/grid/editing/row',templates:{fields:{base:{parent:'${ $.$data.record.name }',name:'${ $.$data.column.index }',provider:'${ $.$data.record.name }',dataScope:'data.${ $.$data.column.index }',imports:{disabled:'${ $.$data.record.parentName }:fields.${ $.$data.column.index }.disabled'},isEditor:true},text:{component:'Magento_Ui/js/form/element/abstract',template:'ui/form/element/input'},date:{component:'Magento_Ui/js/form/element/date',template:'ui/form/element/date',dateFormat:'MMM d, y h:mm:ss a'},select:{component:'Magento_Ui/js/form/element/select',template:'ui/form/element/select',options:'${ JSON.stringify($.$data.column.options) }'}}},ignoreTmpls:{data:true},listens:{elems:'updateFields',data:'updateState'},imports:{onColumnsUpdate:'${ $.columnsProvider }:elems'},modules:{columns:'${ $.columnsProvider }',editor:'${ $.editorProvider }'}},initialize:function(){_.bindAll(this,'countErrors');utils.limit(this,'updateState',10);return this._super();},initObservable:function(){this._super().track('errorsCount hasChanges').observe('active fields');return this;},initElement:function(field){field.on('error',this.countErrors);return this._super();},initField:function(column){var field=this.buildField(column);layout([field]);return this;},buildField:function(column){var fields=this.templates.fields,field=column.editor;if(_.isObject(field)&&field.editorType){field=utils.extend({},fields[field.editorType],field);}else if(_.isString(field)){field=fields[field];}\nfield=utils.extend({},fields.base,field);return utils.template(field,{record:this,column:column},true,true);},createFields:function(columns){columns.forEach(function(column){if(column.editor&&!this.hasChild(column.index)){this.initField(column);}},this);return this;},getColumn:function(index){return this.columns().getChild(index);},getData:function(){return this.filterData(this.data);},getSavedData:function(){var editor=this.editor(),savedData=editor.getRowData(this.index);savedData=this.filterData(savedData);return this.normalizeData(savedData);},setData:function(data,partial){var currentData=partial?this.data:{};data=this.normalizeData(data);data=utils.extend({},currentData,data);this.set('data',data).updateState();return this;},filterData:function(data){var fields=_.pluck(this.elems(),'index');_.each(this.preserveFields,function(enabled,field){if(enabled&&!_.contains(fields,field)){fields.push(field);}});return _.pick(data,fields);},normalizeData:function(data){var index;this.elems.each(function(elem){index=elem.index;if(data.hasOwnProperty(index)){data[index]=elem.normalizeData(data[index]);}});return data;},clear:function(){this.elems.each('clear');return this;},validate:function(){return this.elems.map('validate');},isValid:function(){return _.every(this.validate(),'valid');},countErrors:function(){var errorsCount=this.elems.filter('error').length;this.errorsCount=errorsCount;return errorsCount;},checkChanges:function(){var savedData=this.getSavedData(),data=this.normalizeData(this.getData());return utils.compare(savedData,data);},updateFields:function(){var fields;fields=this.columns().elems.map(function(column){return this.getChild(column.index)||column;},this);this.fields(fields);return this;},updateState:function(){var diff=this.checkChanges(),changed={};this.hasChanges=!diff.equal;changed[this.index]=this.data;this.editor().set('changed',[changed]);return this;},isActionsColumn:function(column){return column.dataType==='actions';},onColumnsUpdate:function(columns){this.createFields(columns).updateFields();}});});","Magento_Ui/js/grid/filters/chips.min.js":"define(['underscore','uiCollection'],function(_,Collection){'use strict';return Collection.extend({defaults:{template:'ui/grid/filters/chips',componentType:'filtersChips'},hasPreviews:function(){return this.elems().some(function(elem){return!!elem.previews.length;});},clear:function(){_.invoke(this.elems(),'clear');return this;}});});"}
}});
